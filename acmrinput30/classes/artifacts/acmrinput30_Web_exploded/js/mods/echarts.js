 (function(sa){var ka,V;(function(t){function x(j,l){return e.call(j,l)}function A(j,l){var n,p,w,B,y,C,z,u,D=l&&l.split("/"),F=c.map,O=F&&F["*"]||{};if(j&&j.charAt(0)===".")if(l){D=D.slice(0,D.length-1);j=D.concat(j.split("/"));for(l=0;l<j.length;l+=1){n=j[l];if(n==="."){j.splice(l,1);l-=1}else if(n==="..")if(l===1&&(j[2]===".."||j[0]===".."))break;else if(l>0){j.splice(l-1,2);l-=2}}j=j.join("/")}else if(j.indexOf("./")===0)j=j.substring(2);if((D||O)&&F){n=j.split("/");for(l=n.length;l>0;l-=1){p=
n.slice(0,l).join("/");if(D)for(u=D.length;u>0;u-=1)if(w=F[D.slice(0,u).join("/")])if(w=w[p]){B=w;y=l;break}if(B)break;if(!C&&O&&O[p]){C=O[p];z=l}}if(!B&&C){B=C;y=z}if(B){n.splice(0,y,B);j=n.join("/")}}return j}function s(j,l){return function(){return i.apply(t,h.call(arguments,0).concat([j,l]))}}function q(j){return function(l){return A(l,j)}}function r(j){return function(l){d[j]=l}}function o(j){if(x(a,j)){var l=a[j];delete a[j];b[j]=true;k.apply(t,l)}if(!x(d,j)&&!x(b,j))throw new Error("No "+j);
return d[j]}function v(j){var l,n=j?j.indexOf("!"):-1;if(n>-1){l=j.substring(0,n);j=j.substring(n+1,j.length)}return[l,j]}function m(j){return function(){return c&&c.config&&c.config[j]||{}}}var k,i,f,g,d={},a={},c={},b={},e=Object.prototype.hasOwnProperty,h=[].slice;f=function(j,l){var n;j=v(j);var p=j[0];j=j[1];if(p){p=A(p,l);n=o(p)}if(p)j=n&&n.normalize?n.normalize(j,q(l)):A(j,l);else{j=A(j,l);j=v(j);p=j[0];j=j[1];if(p)n=o(p)}return{f:p?p+"!"+j:j,n:j,pr:p,p:n}};g={require:function(j){return s(j)},
exports:function(j){var l=d[j];return typeof l!=="undefined"?l:(d[j]={})},module:function(j){return{id:j,uri:"",exports:d[j],config:m(j)}}};k=function(j,l,n,p){var w,B,y,C,z=[],u;p=p||j;if(typeof n==="function"){l=!l.length&&n.length?["require","exports","module"]:l;for(C=0;C<l.length;C+=1){y=f(l[C],p);B=y.f;if(B==="require")z[C]=g.require(j);else if(B==="exports"){z[C]=g.exports(j);u=true}else if(B==="module")w=z[C]=g.module(j);else if(x(d,B)||x(a,B)||x(b,B))z[C]=o(B);else if(y.p){y.p.load(y.n,s(p,
true),r(B),{});z[C]=d[B]}else throw new Error(j+" missing "+B);}l=n.apply(d[j],z);if(j)if(w&&w.exports!==t&&w.exports!==d[j])d[j]=w.exports;else if(l!==t||!u)d[j]=l}else if(j)d[j]=n};ka=i=function(j,l,n,p,w){if(typeof j==="string"){if(g[j])return g[j](l);return o(f(j,l).f)}else if(!j.splice){c=j;if(l.splice){j=l;l=n;n=null}else j=t}l=l||function(){};if(typeof n==="function"){n=p;p=w}p?k(t,j,l,n):setTimeout(function(){k(t,j,l,n)},4);return i};i.config=function(j){c=j;c.deps&&i(c.deps,c.callback);return i};
V=function(j,l,n){if(!l.splice){n=l;l=[]}if(!x(d,j)&&!x(a,j))a[j]=[j,l,n]};V.amd={jQuery:true}})();V("echarts/config",[],function(){return{CHART_TYPE_LINE:"line",CHART_TYPE_BAR:"bar",CHART_TYPE_SCATTER:"scatter",CHART_TYPE_PIE:"pie",CHART_TYPE_RADAR:"radar",CHART_TYPE_MAP:"map",CHART_TYPE_K:"k",CHART_TYPE_ISLAND:"island",CHART_TYPE_FORCE:"force",CHART_TYPE_CHORD:"chord",CHART_TYPE_GAUGE:"gauge",CHART_TYPE_FUNNEL:"funnel",COMPONENT_TYPE_TITLE:"title",COMPONENT_TYPE_LEGEND:"legend",COMPONENT_TYPE_DATARANGE:"dataRange",
COMPONENT_TYPE_DATAVIEW:"dataView",COMPONENT_TYPE_DATAZOOM:"dataZoom",COMPONENT_TYPE_TOOLBOX:"toolbox",COMPONENT_TYPE_TOOLTIP:"tooltip",COMPONENT_TYPE_GRID:"grid",COMPONENT_TYPE_AXIS:"axis",COMPONENT_TYPE_POLAR:"polar",COMPONENT_TYPE_X_AXIS:"xAxis",COMPONENT_TYPE_Y_AXIS:"yAxis",COMPONENT_TYPE_AXIS_CATEGORY:"categoryAxis",COMPONENT_TYPE_AXIS_VALUE:"valueAxis",COMPONENT_TYPE_TIMELINE:"timeline",COMPONENT_TYPE_ROAMCONTROLLER:"roamController",backgroundColor:"rgba(0,0,0,0)",color:["#ff7f50","#87cefa",
"#da70d6","#32cd32","#6495ed","#ff69b4","#ba55d3","#cd5c5c","#ffa500","#40e0d0","#1e90ff","#ff6347","#7b68ee","#00fa9a","#ffd700","#6699FF","#ff6666","#3cb371","#b8860b","#30e0e0"],title:{text:"",subtext:"",x:"left",y:"top",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,padding:5,itemGap:5,textStyle:{fontSize:18,fontWeight:"bolder",color:"#333"},subtextStyle:{color:"#aaa"}},legend:{orient:"horizontal",x:"center",y:"top",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,
padding:5,itemGap:10,itemWidth:20,itemHeight:14,textStyle:{color:"#333"},selectedMode:true},dataRange:{orient:"vertical",x:"left",y:"bottom",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,padding:5,itemGap:10,itemWidth:20,itemHeight:14,precision:0,splitNumber:5,calculable:false,realtime:true,color:["#006edd","#e0ffff"],textStyle:{color:"#333"}},toolbox:{show:false,orient:"horizontal",x:"right",y:"top",color:["#1e90ff","#22bb22","#4b0082","#d2691e"],disableColor:"#ddd",effectiveColor:"red",
backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,padding:5,itemGap:10,itemSize:16,showTitle:true,feature:{mark:{show:false,title:{mark:"\u8f85\u52a9\u7ebf\u5f00\u5173",markUndo:"\u5220\u9664\u8f85\u52a9\u7ebf",markClear:"\u6e05\u7a7a\u8f85\u52a9\u7ebf"},lineStyle:{width:1,color:"#1e90ff",type:"dashed"}},dataZoom:{show:false,title:{dataZoom:"\u533a\u57df\u7f29\u653e",dataZoomReset:"\u533a\u57df\u7f29\u653e\u540e\u9000"}},dataView:{show:false,title:"\u6570\u636e\u89c6\u56fe",readOnly:false,
lang:["Data View","close","refresh"]},magicType:{show:false,title:{line:"\u6298\u7ebf\u56fe\u5207\u6362",bar:"\u67f1\u5f62\u56fe\u5207\u6362",stack:"\u5806\u79ef",tiled:"\u5e73\u94fa"},type:[]},restore:{show:false,title:"\u8fd8\u539f"},saveAsImage:{show:false,title:"\u4fdd\u5b58\u4e3a\u56fe\u7247",type:"png",lang:["\u70b9\u51fb\u4fdd\u5b58"]}}},tooltip:{show:true,showContent:true,trigger:"item",islandFormatter:"{a} <br/>{b} : {c}",showDelay:20,hideDelay:100,transitionDuration:0.4,backgroundColor:"rgba(0,0,0,0.7)",
borderColor:"#333",borderRadius:4,borderWidth:0,padding:5,axisPointer:{type:"line",lineStyle:{color:"#48b",width:2,type:"solid"},crossStyle:{color:"#1e90ff",width:1,type:"dashed"},shadowStyle:{color:"rgba(150,150,150,0.3)",width:"auto",type:"default"}},textStyle:{color:"#fff"}},dataZoom:{show:false,orient:"horizontal",backgroundColor:"rgba(0,0,0,0)",dataBackgroundColor:"#eee",fillerColor:"rgba(144,197,237,0.2)",handleColor:"rgba(70,130,180,0.8)",realtime:true},grid:{x:80,y:60,x2:80,y2:60,backgroundColor:"rgba(0,0,0,0)",
borderWidth:1,borderColor:"#ccc"},categoryAxis:{position:"bottom",name:"",nameLocation:"end",nameTextStyle:{},boundaryGap:true,axisLine:{show:true,onZero:true,lineStyle:{color:"#48b",width:2,type:"solid"}},axisTick:{show:true,interval:"auto",inside:false,length:5,lineStyle:{color:"#333",width:1}},axisLabel:{show:true,interval:"auto",rotate:0,margin:8,textStyle:{color:"#333"}},splitLine:{show:true,lineStyle:{color:["#ccc"],width:1,type:"solid"}},splitArea:{show:false,areaStyle:{color:["rgba(250,250,250,0.3)",
"rgba(200,200,200,0.3)"]}}},valueAxis:{position:"left",name:"",nameLocation:"end",nameTextStyle:{},boundaryGap:[0,0],precision:0,power:100,splitNumber:5,axisLine:{show:true,onZero:true,lineStyle:{color:"#48b",width:2,type:"solid"}},axisTick:{show:false,inside:false,length:5,lineStyle:{color:"#333",width:1}},axisLabel:{show:true,rotate:0,margin:8,textStyle:{color:"#333"}},splitLine:{show:true,lineStyle:{color:["#ccc"],width:1,type:"solid"}},splitArea:{show:false,areaStyle:{color:["rgba(250,250,250,0.3)",
"rgba(200,200,200,0.3)"]}}},polar:{center:["50%","50%"],radius:"75%",startAngle:90,splitNumber:5,name:{show:true,textStyle:{color:"#333"}},axisLine:{show:true,lineStyle:{color:"#ccc",width:1,type:"solid"}},axisLabel:{show:false,textStyle:{color:"#333"}},splitArea:{show:true,areaStyle:{color:["rgba(250,250,250,0.3)","rgba(200,200,200,0.3)"]}},splitLine:{show:true,lineStyle:{width:1,color:"#ccc"}},type:"polygon"},timeline:{show:true,type:"time",notMerge:false,realtime:true,x:80,x2:80,y2:0,height:50,
backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,padding:5,controlPosition:"left",autoPlay:false,loop:true,playInterval:2E3,lineStyle:{width:1,color:"#666",type:"dashed"},label:{show:true,interval:"auto",rotate:0,textStyle:{color:"#333"}},checkpointStyle:{symbol:"auto",symbolSize:"auto",color:"auto",borderColor:"auto",borderWidth:"auto",label:{show:false,textStyle:{color:"auto"}}},controlStyle:{normal:{color:"#333"},emphasis:{color:"#1e90ff"}},symbol:"emptyDiamond",symbolSize:4,currentIndex:0},
roamController:{show:false,x:"left",y:"top",width:80,height:120,backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,padding:5,handlerColor:"#6495ed",fillerColor:"#fff",step:15,mapTypeControl:null},bar:{clickable:true,xAxisIndex:0,yAxisIndex:0,barMinHeight:0,barGap:"30%",barCategoryGap:"20%",itemStyle:{normal:{barBorderColor:"#fff",barBorderRadius:0,barBorderWidth:0,label:{show:false}},emphasis:{barBorderColor:"#fff",barBorderRadius:0,barBorderWidth:0,label:{show:false}}}},line:{clickable:true,
xAxisIndex:0,yAxisIndex:0,itemStyle:{normal:{label:{show:false},lineStyle:{width:2,type:"solid",shadowColor:"rgba(0,0,0,0)",shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0}},emphasis:{label:{show:false}}},symbolSize:2,showAllSymbol:false},k:{clickable:true,xAxisIndex:0,yAxisIndex:0,itemStyle:{normal:{color:"#fff",color0:"#00aa11",lineStyle:{width:1,color:"#ff3200",color0:"#00aa11"}},emphasis:{}}},scatter:{clickable:true,xAxisIndex:0,yAxisIndex:0,symbolSize:4,large:false,largeThreshold:2E3,itemStyle:{normal:{label:{show:false,
formatter:function(t,x,A){return typeof A[2]!="undefined"?A[2]:A[0]+" , "+A[1]}}},emphasis:{label:{show:false,formatter:function(t,x,A){return typeof A[2]!="undefined"?A[2]:A[0]+" , "+A[1]}}}}},radar:{clickable:true,polarIndex:0,itemStyle:{normal:{label:{show:false},lineStyle:{width:2,type:"solid"}},emphasis:{label:{show:false}}},symbolSize:2},pie:{clickable:true,center:["50%","50%"],radius:[0,"75%"],clockWise:true,startAngle:90,minAngle:0,selectedOffset:10,itemStyle:{normal:{borderColor:"rgba(0,0,0,0)",
borderWidth:1,label:{show:true,position:"outer"},labelLine:{show:true,length:20,lineStyle:{width:1,type:"solid"}}},emphasis:{borderColor:"rgba(0,0,0,0)",borderWidth:1,label:{show:false},labelLine:{show:false,length:20,lineStyle:{width:1,type:"solid"}}}}},map:{mapType:"china",mapValuePrecision:0,showLegendSymbol:true,hoverable:true,clickable:true,itemStyle:{normal:{borderColor:"rgba(0,0,0,0)",borderWidth:1,areaStyle:{color:"#ccc"},label:{show:false,textStyle:{color:"rgb(139,69,19)"}}},emphasis:{borderColor:"rgba(0,0,0,0)",
borderWidth:1,areaStyle:{color:"rgba(255,215,0,0.8)"},label:{show:false,textStyle:{color:"rgb(100,0,0)"}}}}},force:{center:["50%","50%"],size:"100%",coolDown:0.99,minRadius:10,maxRadius:20,ratioScaling:false,large:false,useWorker:false,steps:1,scaling:1,gravity:1,symbol:"circle",symbolSize:0,linkSymbol:null,linkSymbolSize:[10,15],draggable:true,clickable:true,categories:[{}],itemStyle:{normal:{label:{show:false},nodeStyle:{brushType:"both",color:"#f08c2e",strokeColor:"#5182ab",lineWidth:1},linkStyle:{strokeColor:"#5182ab"}},
emphasis:{label:{show:false},nodeStyle:{},linkStyle:{opacity:0}}}},chord:{clickable:true,radius:["65%","75%"],center:["50%","50%"],padding:2,sort:"none",sortSub:"none",startAngle:90,clockWise:true,showScale:false,showScaleText:false,itemStyle:{normal:{label:{show:true,rotate:false,distance:10},lineStyle:{width:0,color:"#000"},chordStyle:{lineStyle:{width:1,color:"#999"}}},emphasis:{lineStyle:{width:0,color:"#000"},chordStyle:{lineStyle:{width:1,color:"#666"}}}},matrix:[]},gauge:{center:["50%","50%"],
radius:"75%",startAngle:225,endAngle:-45,min:0,max:100,precision:0,splitNumber:10,axisLine:{show:true,lineStyle:{color:[[0.2,"#228b22"],[0.8,"#48b"],[1,"#ff4500"]],width:30}},axisTick:{show:true,splitNumber:5,length:8,lineStyle:{color:"#eee",width:1,type:"solid"}},axisLabel:{show:true,textStyle:{color:"auto"}},splitLine:{show:true,length:30,lineStyle:{color:"#eee",width:2,type:"solid"}},pointer:{show:true,length:"80%",width:8,color:"auto"},title:{show:true,offsetCenter:[0,"-40%"],textStyle:{color:"#333",
fontSize:15}},detail:{show:true,backgroundColor:"rgba(0,0,0,0)",borderWidth:0,borderColor:"#ccc",width:100,height:40,offsetCenter:[0,"40%"],textStyle:{color:"auto",fontSize:30}}},funnel:{clickable:true,x:80,y:60,x2:80,y2:60,min:0,max:100,minSize:"0%",maxSize:"100%",sort:"descending",gap:0,itemStyle:{normal:{borderColor:"#fff",borderWidth:1,label:{show:true,position:"outer"},labelLine:{show:true,length:10,lineStyle:{width:1,type:"solid"}}},emphasis:{borderColor:"rgba(0,0,0,0)",borderWidth:1,label:{show:true},
labelLine:{show:true}}}},island:{r:15,calculateStep:0.1},markPoint:{clickable:true,symbol:"pin",symbolSize:10,large:false,effect:{show:false,loop:true,period:15,scaleSize:2},itemStyle:{normal:{borderWidth:2,label:{show:true,position:"inside"}},emphasis:{label:{show:true}}}},markLine:{clickable:true,symbol:["circle","arrow"],symbolSize:[2,4],large:false,effect:{show:false,loop:true,period:15,scaleSize:2},itemStyle:{normal:{borderWidth:1.5,label:{show:true,position:"end"},lineStyle:{type:"dashed"}},
emphasis:{label:{show:false},lineStyle:{}}}},textStyle:{decoration:"none",fontFamily:"Arial, Verdana, sans-serif",fontFamily2:"\u5fae\u8f6f\u96c5\u9ed1",fontSize:12,fontStyle:"normal",fontWeight:"normal"},EVENT:{REFRESH:"refresh",RESTORE:"restore",RESIZE:"resize",CLICK:"click",DBLCLICK:"dblclick",HOVER:"hover",MOUSEOUT:"mouseout",DATA_CHANGED:"dataChanged",DATA_ZOOM:"dataZoom",DATA_RANGE:"dataRange",LEGEND_SELECTED:"legendSelected",MAP_SELECTED:"mapSelected",PIE_SELECTED:"pieSelected",MAGIC_TYPE_CHANGED:"magicTypeChanged",
DATA_VIEW_CHANGED:"dataViewChanged",TIMELINE_CHANGED:"timelineChanged",MAP_ROAM:"mapRoam",TOOLTIP_HOVER:"tooltipHover",TOOLTIP_IN_GRID:"tooltipInGrid",TOOLTIP_OUT_GRID:"tooltipOutGrid",ROAMCONTROLLER:"roamController"},DRAG_ENABLE_TIME:120,EFFECT_ZLEVEL:7,symbolList:["circle","rectangle","triangle","diamond","emptyCircle","emptyRectangle","emptyTriangle","emptyDiamond"],loadingText:"Loading...",calculable:false,calculableColor:"rgba(255,165,0,0.6)",calculableHolderColor:"#ccc",nameConnector:" & ",
valueConnector:": ",animation:true,addDataAnimation:true,animationThreshold:2E3,animationDuration:2E3,animationEasing:"ExponentialOut"}});V("zrender/dep/excanvas",["require"],function(){if(document.createElement("canvas").getContext)G_vmlCanvasManager=false;else(function(){function t(){return this.context_||(this.context_=new l(this))}function x(E,G){var K=W.call(arguments,2);return function(){return E.apply(G,K.concat(W.call(arguments)))}}function A(E){return String(E).replace(/&/g,"&amp;").replace(/"/g,
"&quot;")}function s(E,G,K){E.namespaces[G]||E.namespaces.add(G,K,"#default#VML")}function q(E){s(E,"g_vml_","urn:schemas-microsoft-com:vml");s(E,"g_o_","urn:schemas-microsoft-com:office:office");if(!E.styleSheets.ex_canvas_){E=E.createStyleSheet();E.owningElement.id="ex_canvas_";E.cssText="canvas{display:inline-block;overflow:hidden;text-align:left;width:300px;height:150px}"}}function r(E){var G=E.srcElement;switch(E.propertyName){case "width":G.getContext().clearRect();G.style.width=G.attributes.width.nodeValue+
"px";G.firstChild.style.width=G.clientWidth+"px";break;case "height":G.getContext().clearRect();G.style.height=G.attributes.height.nodeValue+"px";G.firstChild.style.height=G.clientHeight+"px";break}}function o(E){E=E.srcElement;if(E.firstChild){E.firstChild.style.width=E.clientWidth+"px";E.firstChild.style.height=E.clientHeight+"px"}}function v(){return[[1,0,0],[0,1,0],[0,0,1]]}function m(E,G){for(var K=v(),P=0;P<3;P++)for(var S=0;S<3;S++){for(var Z=0,ba=0;ba<3;ba++)Z+=E[P][ba]*G[ba][S];K[P][S]=Z}return K}
function k(E,G){G.fillStyle=E.fillStyle;G.lineCap=E.lineCap;G.lineJoin=E.lineJoin;G.lineWidth=E.lineWidth;G.miterLimit=E.miterLimit;G.shadowBlur=E.shadowBlur;G.shadowColor=E.shadowColor;G.shadowOffsetX=E.shadowOffsetX;G.shadowOffsetY=E.shadowOffsetY;G.strokeStyle=E.strokeStyle;G.globalAlpha=E.globalAlpha;G.font=E.font;G.textAlign=E.textAlign;G.textBaseline=E.textBaseline;G.arcScaleX_=E.arcScaleX_;G.arcScaleY_=E.arcScaleY_;G.lineScale_=E.lineScale_}function i(E){var G=E.indexOf("(",3),K=E.indexOf(")",
G+1);G=E.substring(G+1,K).split(",");if(G.length!=4||E.charAt(3)!="a")G[3]=1;return G}function f(E){return parseFloat(E)/100}function g(E,G,K){return Math.min(K,Math.max(G,E))}function d(E){var G,K;K=parseFloat(E[0])/360%360;K<0&&K++;G=g(f(E[1]),0,1);E=g(f(E[2]),0,1);if(G==0)G=E=K=E;else{var P=E<0.5?E*(1+G):E+G-E*G,S=2*E-P;G=a(S,P,K+1/3);E=a(S,P,K);K=a(S,P,K-1/3)}return"#"+$[Math.floor(G*255)]+$[Math.floor(E*255)]+$[Math.floor(K*255)]}function a(E,G,K){K<0&&K++;K>1&&K--;return 6*K<1?E+(G-E)*6*K:2*
K<1?G:3*K<2?E+(G-E)*(2/3-K)*6:E}function c(E){if(E in da)return da[E];var G,K=1;E=String(E);if(E.charAt(0)=="#")G=E;else if(/^rgb/.test(E)){K=i(E);G="#";for(var P,S=0;S<3;S++){P=K[S].indexOf("%")!=-1?Math.floor(f(K[S])*255):+K[S];G+=$[g(P,0,255)]}K=+K[3]}else if(/^hsl/.test(E)){K=i(E);G=d(K);K=K[3]}else G=ea[E]||E;return da[E]={color:G,alpha:K}}function b(E){if(L[E])return L[E];var G=document.createElement("div").style,K;try{G.font=E;K=G.fontFamily.split(",")[0]}catch(P){}return L[E]={style:G.fontStyle||
H.style,variant:G.fontVariant||H.variant,weight:G.fontWeight||H.weight,size:G.fontSize||H.size,family:K||H.family}}function e(E,G){var K={};for(var P in E)K[P]=E[P];G=parseFloat(G.currentStyle.fontSize);P=parseFloat(E.size);K.size=typeof E.size=="number"?E.size:E.size.indexOf("px")!=-1?P:E.size.indexOf("em")!=-1?G*P:E.size.indexOf("%")!=-1?G/100*P:E.size.indexOf("pt")!=-1?P/0.75:G;return K}function h(E){return E.style+" "+E.variant+" "+E.weight+" "+E.size+"px '"+E.family+"'"}function j(E){return M[E]||
"square"}function l(E){this.m_=v();this.mStack_=[];this.aStack_=[];this.currentPath_=[];this.fillStyle=this.strokeStyle="#000";this.lineWidth=1;this.lineJoin="miter";this.lineCap="butt";this.miterLimit=Q*1;this.globalAlpha=1;this.font="12px \u5fae\u8f6f\u96c5\u9ed1";this.textAlign="left";this.textBaseline="alphabetic";this.canvas=E;var G="width:"+E.clientWidth+"px;height:"+E.clientHeight+"px;overflow:hidden;position:absolute",K=E.ownerDocument.createElement("div");K.style.cssText=G;E.appendChild(K);
G=K.cloneNode(false);G.style.backgroundColor="#fff";G.style.filter="alpha(opacity=0)";E.appendChild(G);this.element_=K;this.lineScale_=this.arcScaleY_=this.arcScaleX_=1}function n(E,G,K,P){E.currentPath_.push({type:"bezierCurveTo",cp1x:G.x,cp1y:G.y,cp2x:K.x,cp2y:K.y,x:P.x,y:P.y});E.currentX_=P.x;E.currentY_=P.y}function p(E,G){var K=c(E.strokeStyle),P=K.color;K=K.alpha*E.globalAlpha;var S=E.lineScale_*E.lineWidth;if(S<1)K*=S;G.push("<g_vml_:stroke",' opacity="',K,'"',' joinstyle="',E.lineJoin,'"',
' miterlimit="',E.miterLimit,'"',' endcap="',j(E.lineCap),'"',' weight="',S,'px"',' color="',P,'" />')}function w(E,G,K,P){var S=E.fillStyle,Z=E.arcScaleX_,ba=E.arcScaleY_,fa=P.x-K.x,ha=P.y-K.y;if(S instanceof z){var ia=0;P={x:0,y:0};var ma=0,ja=1;if(S.type_=="gradient"){ia=S.x1_/Z;K=S.y1_/ba;var ga=B(E,S.x0_/Z,S.y0_/ba);ia=B(E,ia,K);ia=Math.atan2(ia.x-ga.x,ia.y-ga.y)*180/Math.PI;if(ia<0)ia+=360;if(ia<1.0E-6)ia=0}else{ga=B(E,S.x0_,S.y0_);P={x:(ga.x-K.x)/fa,y:(ga.y-K.y)/ha};fa/=Z*Q;ha/=ba*Q;ja=T.max(fa,
ha);ma=2*S.r0_/ja;ja=2*S.r1_/ja-ma}Z=S.colors_;Z.sort(function(oa,pa){return oa.offset-pa.offset});ba=Z.length;ga=Z[0].color;K=Z[ba-1].color;fa=Z[0].alpha*E.globalAlpha;E=Z[ba-1].alpha*E.globalAlpha;ha=[];for(var la=0;la<ba;la++){var na=Z[la];ha.push(na.offset*ja+ma+" "+na.color)}G.push('<g_vml_:fill type="',S.type_,'"',' method="none" focus="100%"',' color="',ga,'"',' color2="',K,'"',' colors="',ha.join(","),'"',' opacity="',E,'"',' g_o_:opacity2="',fa,'"',' angle="',ia,'"',' focusposition="',P.x,
",",P.y,'" />')}else if(S instanceof u)fa&&ha&&G.push("<g_vml_:fill",' position="',-K.x/fa*Z*Z,",",-K.y/ha*ba*ba,'"',' type="tile"',' src="',S.src_,'" />');else{S=c(E.fillStyle);G.push('<g_vml_:fill color="',S.color,'" opacity="',S.alpha*E.globalAlpha,'" />')}}function B(E,G,K){E=E.m_;return{x:Q*(G*E[0][0]+K*E[1][0]+E[2][0])-X,y:Q*(G*E[0][1]+K*E[1][1]+E[2][1])-X}}function y(E){return isFinite(E[0][0])&&isFinite(E[0][1])&&isFinite(E[1][0])&&isFinite(E[1][1])&&isFinite(E[2][0])&&isFinite(E[2][1])}function C(E,
G,K){if(y(G)){E.m_=G;if(K)E.lineScale_=U(J(G[0][0]*G[1][1]-G[0][1]*G[1][0]))}}function z(E){this.type_=E;this.r1_=this.y1_=this.x1_=this.r0_=this.y0_=this.x0_=0;this.colors_=[]}function u(E,G){F(E);switch(G){case "repeat":case null:case "":this.repetition_="repeat";break;case "repeat-x":case "repeat-y":case "no-repeat":this.repetition_=G;break;default:D("SYNTAX_ERR")}this.src_=E.src;this.width_=E.width;this.height_=E.height}function D(E){throw new O(E);}function F(E){if(!E||E.nodeType!=1||E.tagName!=
"IMG")D("TYPE_MISMATCH_ERR");E.readyState!="complete"&&D("INVALID_STATE_ERR")}function O(E){this.code=this[E];this.message=E+": DOM Exception "+this.code}var T=Math,N=T.round,Y=T.sin,I=T.cos,J=T.abs,U=T.sqrt,Q=10,X=Q/2;navigator.userAgent.match(/MSIE ([\d.]+)?/);var W=Array.prototype.slice;q(document);var aa={init:function(E){E=E||document;E.createElement("canvas");E.attachEvent("onreadystatechange",x(this.init_,this,E))},init_:function(E){E=E.getElementsByTagName("canvas");for(var G=0;G<E.length;G++)this.initElement(E[G])},
initElement:function(E){if(!E.getContext){E.getContext=t;q(E.ownerDocument);E.innerHTML="";E.attachEvent("onpropertychange",r);E.attachEvent("onresize",o);var G=E.attributes;if(G.width&&G.width.specified)E.style.width=G.width.nodeValue+"px";else E.width=E.clientWidth;if(G.height&&G.height.specified)E.style.height=G.height.nodeValue+"px";else E.height=E.clientHeight}return E}};aa.init();for(var $=[],R=0;R<16;R++)for(var ca=0;ca<16;ca++)$[R*16+ca]=R.toString(16)+ca.toString(16);var ea={aliceblue:"#F0F8FF",
antiquewhite:"#FAEBD7",aquamarine:"#7FFFD4",azure:"#F0FFFF",beige:"#F5F5DC",bisque:"#FFE4C4",black:"#000000",blanchedalmond:"#FFEBCD",blueviolet:"#8A2BE2",brown:"#A52A2A",burlywood:"#DEB887",cadetblue:"#5F9EA0",chartreuse:"#7FFF00",chocolate:"#D2691E",coral:"#FF7F50",cornflowerblue:"#6495ED",cornsilk:"#FFF8DC",crimson:"#DC143C",cyan:"#00FFFF",darkblue:"#00008B",darkcyan:"#008B8B",darkgoldenrod:"#B8860B",darkgray:"#A9A9A9",darkgreen:"#006400",darkgrey:"#A9A9A9",darkkhaki:"#BDB76B",darkmagenta:"#8B008B",
darkolivegreen:"#556B2F",darkorange:"#FF8C00",darkorchid:"#9932CC",darkred:"#8B0000",darksalmon:"#E9967A",darkseagreen:"#8FBC8F",darkslateblue:"#483D8B",darkslategray:"#2F4F4F",darkslategrey:"#2F4F4F",darkturquoise:"#00CED1",darkviolet:"#9400D3",deeppink:"#FF1493",deepskyblue:"#00BFFF",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1E90FF",firebrick:"#B22222",floralwhite:"#FFFAF0",forestgreen:"#228B22",gainsboro:"#DCDCDC",ghostwhite:"#F8F8FF",gold:"#FFD700",goldenrod:"#DAA520",grey:"#808080",greenyellow:"#ADFF2F",
honeydew:"#F0FFF0",hotpink:"#FF69B4",indianred:"#CD5C5C",indigo:"#4B0082",ivory:"#FFFFF0",khaki:"#F0E68C",lavender:"#E6E6FA",lavenderblush:"#FFF0F5",lawngreen:"#7CFC00",lemonchiffon:"#FFFACD",lightblue:"#ADD8E6",lightcoral:"#F08080",lightcyan:"#E0FFFF",lightgoldenrodyellow:"#FAFAD2",lightgreen:"#90EE90",lightgrey:"#D3D3D3",lightpink:"#FFB6C1",lightsalmon:"#FFA07A",lightseagreen:"#20B2AA",lightskyblue:"#87CEFA",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#B0C4DE",lightyellow:"#FFFFE0",
limegreen:"#32CD32",linen:"#FAF0E6",magenta:"#FF00FF",mediumaquamarine:"#66CDAA",mediumblue:"#0000CD",mediumorchid:"#BA55D3",mediumpurple:"#9370DB",mediumseagreen:"#3CB371",mediumslateblue:"#7B68EE",mediumspringgreen:"#00FA9A",mediumturquoise:"#48D1CC",mediumvioletred:"#C71585",midnightblue:"#191970",mintcream:"#F5FFFA",mistyrose:"#FFE4E1",moccasin:"#FFE4B5",navajowhite:"#FFDEAD",oldlace:"#FDF5E6",olivedrab:"#6B8E23",orange:"#FFA500",orangered:"#FF4500",orchid:"#DA70D6",palegoldenrod:"#EEE8AA",palegreen:"#98FB98",
paleturquoise:"#AFEEEE",palevioletred:"#DB7093",papayawhip:"#FFEFD5",peachpuff:"#FFDAB9",peru:"#CD853F",pink:"#FFC0CB",plum:"#DDA0DD",powderblue:"#B0E0E6",rosybrown:"#BC8F8F",royalblue:"#4169E1",saddlebrown:"#8B4513",salmon:"#FA8072",sandybrown:"#F4A460",seagreen:"#2E8B57",seashell:"#FFF5EE",sienna:"#A0522D",skyblue:"#87CEEB",slateblue:"#6A5ACD",slategray:"#708090",slategrey:"#708090",snow:"#FFFAFA",springgreen:"#00FF7F",steelblue:"#4682B4",tan:"#D2B48C",thistle:"#D8BFD8",tomato:"#FF6347",turquoise:"#40E0D0",
violet:"#EE82EE",wheat:"#F5DEB3",whitesmoke:"#F5F5F5",yellowgreen:"#9ACD32"},da={},H={style:"normal",variant:"normal",weight:"normal",size:12,family:"\u5fae\u8f6f\u96c5\u9ed1"},L={},M={butt:"flat",round:"round"};R=l.prototype;R.clearRect=function(){if(this.textMeasureEl_){this.textMeasureEl_.removeNode(true);this.textMeasureEl_=null}this.element_.innerHTML=""};R.beginPath=function(){this.currentPath_=[]};R.moveTo=function(E,G){E=B(this,E,G);this.currentPath_.push({type:"moveTo",x:E.x,y:E.y});this.currentX_=
E.x;this.currentY_=E.y};R.lineTo=function(E,G){E=B(this,E,G);this.currentPath_.push({type:"lineTo",x:E.x,y:E.y});this.currentX_=E.x;this.currentY_=E.y};R.bezierCurveTo=function(E,G,K,P,S,Z){S=B(this,S,Z);E=B(this,E,G);K=B(this,K,P);n(this,E,K,S)};R.quadraticCurveTo=function(E,G,K,P){E=B(this,E,G);K=B(this,K,P);P={x:this.currentX_+2/3*(E.x-this.currentX_),y:this.currentY_+2/3*(E.y-this.currentY_)};n(this,P,{x:P.x+(K.x-this.currentX_)/3,y:P.y+(K.y-this.currentY_)/3},K)};R.arc=function(E,G,K,P,S,Z){K*=
Q;var ba=Z?"at":"wa",fa=E+I(P)*K-X,ha=G+Y(P)*K-X;P=E+I(S)*K-X;S=G+Y(S)*K-X;if(fa==P&&!Z)fa+=0.125;E=B(this,E,G);fa=B(this,fa,ha);P=B(this,P,S);this.currentPath_.push({type:ba,x:E.x,y:E.y,radius:K,xStart:fa.x,yStart:fa.y,xEnd:P.x,yEnd:P.y})};R.rect=function(E,G,K,P){this.moveTo(E,G);this.lineTo(E+K,G);this.lineTo(E+K,G+P);this.lineTo(E,G+P);this.closePath()};R.strokeRect=function(E,G,K,P){var S=this.currentPath_;this.beginPath();this.moveTo(E,G);this.lineTo(E+K,G);this.lineTo(E+K,G+P);this.lineTo(E,
G+P);this.closePath();this.stroke();this.currentPath_=S};R.fillRect=function(E,G,K,P){var S=this.currentPath_;this.beginPath();this.moveTo(E,G);this.lineTo(E+K,G);this.lineTo(E+K,G+P);this.lineTo(E,G+P);this.closePath();this.fill();this.currentPath_=S};R.createLinearGradient=function(E,G,K,P){var S=new z("gradient");S.x0_=E;S.y0_=G;S.x1_=K;S.y1_=P;return S};R.createRadialGradient=function(E,G,K,P,S,Z){var ba=new z("gradientradial");ba.x0_=E;ba.y0_=G;ba.r0_=K;ba.x1_=P;ba.y1_=S;ba.r1_=Z;return ba};
R.drawImage=function(E){var G,K,P,S,Z,ba,fa,ha;P=E.runtimeStyle.width;S=E.runtimeStyle.height;E.runtimeStyle.width="auto";E.runtimeStyle.height="auto";var ia=E.width,ma=E.height;E.runtimeStyle.width=P;E.runtimeStyle.height=S;if(arguments.length==3){G=arguments[1];K=arguments[2];Z=ba=0;fa=P=ia;ha=S=ma}else if(arguments.length==5){G=arguments[1];K=arguments[2];P=arguments[3];S=arguments[4];Z=ba=0;fa=ia;ha=ma}else if(arguments.length==9){Z=arguments[1];ba=arguments[2];fa=arguments[3];ha=arguments[4];
G=arguments[5];K=arguments[6];P=arguments[7];S=arguments[8]}else throw Error("Invalid number of arguments");var ja=B(this,G,K),ga=[],la=scaleY=1;ga.push(" <g_vml_:group",' coordsize="',Q*10,",",Q*10,'"',' coordorigin="0,0"',' style="width:',10,"px;height:",10,"px;position:absolute;");if(this.m_[0][0]!=1||this.m_[0][1]||this.m_[1][1]!=1||this.m_[1][0]){var na=[];la=Math.sqrt(this.m_[0][0]*this.m_[0][0]+this.m_[0][1]*this.m_[0][1]);scaleY=Math.sqrt(this.m_[1][0]*this.m_[1][0]+this.m_[1][1]*this.m_[1][1]);
na.push("M11=",this.m_[0][0]/la,",","M12=",this.m_[1][0]/scaleY,",","M21=",this.m_[0][1]/la,",","M22=",this.m_[1][1]/scaleY,",","Dx=",N(ja.x/Q),",","Dy=",N(ja.y/Q),"");var oa=B(this,G+P,K),pa=B(this,G,K+S);G=B(this,G+P,K+S);ja.x=T.max(ja.x,oa.x,pa.x,G.x);ja.y=T.max(ja.y,oa.y,pa.y,G.y);ga.push("padding:0 ",N(ja.x/Q),"px ",N(ja.y/Q),"px 0;filter:progid:DXImageTransform.Microsoft.Matrix(",na.join(""),", sizingmethod='clip');")}else ga.push("top:",N(ja.y/Q),"px;left:",N(ja.x/Q),"px;");ga.push(' ">');
if(Z||ba)ga.push('<div style="overflow: hidden; width:',Math.ceil((P+Z*P/fa)*la),"px;"," height:",Math.ceil((S+ba*S/ha)*scaleY),"px;"," filter:progid:DxImageTransform.Microsoft.Matrix(Dx=",-Z*P/fa*la,",Dy=",-ba*S/ha*scaleY,');">');ga.push('<div style="width:',Math.round(la*ia*P/fa),"px;"," height:",Math.round(scaleY*ma*S/ha),"px;"," filter:");this.globalAlpha<1&&ga.push(" progid:DXImageTransform.Microsoft.Alpha(opacity="+this.globalAlpha*100+")");ga.push(" progid:DXImageTransform.Microsoft.AlphaImageLoader(src=",
E.src,',sizingMethod=scale)">');if(Z||ba)ga.push("</div>");ga.push("</div></div>");this.element_.insertAdjacentHTML("BeforeEnd",ga.join(""))};R.stroke=function(E){var G=[];G.push("<g_vml_:shape",' filled="',!!E,'"',' style="position:absolute;width:',10,"px;height:",10,'px;"',' coordorigin="0,0"',' coordsize="',Q*10,",",Q*10,'"',' stroked="',!E,'"',' path="');for(var K={x:null,y:null},P={x:null,y:null},S=0;S<this.currentPath_.length;S++){var Z=this.currentPath_[S];switch(Z.type){case "moveTo":G.push(" m ",
N(Z.x),",",N(Z.y));break;case "lineTo":G.push(" l ",N(Z.x),",",N(Z.y));break;case "close":G.push(" x ");Z=null;break;case "bezierCurveTo":G.push(" c ",N(Z.cp1x),",",N(Z.cp1y),",",N(Z.cp2x),",",N(Z.cp2y),",",N(Z.x),",",N(Z.y));break;case "at":case "wa":G.push(" ",Z.type," ",N(Z.x-this.arcScaleX_*Z.radius),",",N(Z.y-this.arcScaleY_*Z.radius)," ",N(Z.x+this.arcScaleX_*Z.radius),",",N(Z.y+this.arcScaleY_*Z.radius)," ",N(Z.xStart),",",N(Z.yStart)," ",N(Z.xEnd),",",N(Z.yEnd));break}if(Z){if(K.x==null||
Z.x<K.x)K.x=Z.x;if(P.x==null||Z.x>P.x)P.x=Z.x;if(K.y==null||Z.y<K.y)K.y=Z.y;if(P.y==null||Z.y>P.y)P.y=Z.y}}G.push(' ">');E?w(this,G,K,P):p(this,G);G.push("</g_vml_:shape>");this.element_.insertAdjacentHTML("beforeEnd",G.join(""))};R.fill=function(){this.stroke(true)};R.closePath=function(){this.currentPath_.push({type:"close"})};R.save=function(){var E={};k(this,E);this.aStack_.push(E);this.mStack_.push(this.m_);this.m_=m(v(),this.m_)};R.restore=function(){if(this.aStack_.length){k(this.aStack_.pop(),
this);this.m_=this.mStack_.pop()}};R.translate=function(E,G){C(this,m([[1,0,0],[0,1,0],[E,G,1]],this.m_),false)};R.rotate=function(E){var G=I(E);E=Y(E);C(this,m([[G,E,0],[-E,G,0],[0,0,1]],this.m_),false)};R.scale=function(E,G){this.arcScaleX_*=E;this.arcScaleY_*=G;C(this,m([[E,0,0],[0,G,0],[0,0,1]],this.m_),true)};R.transform=function(E,G,K,P,S,Z){C(this,m([[E,G,0],[K,P,0],[S,Z,1]],this.m_),true)};R.setTransform=function(E,G,K,P,S,Z){C(this,[[E,G,0],[K,P,0],[S,Z,1]],true)};R.drawText_=function(E,
G,K,P,S){var Z=this.m_;P=0;var ba=1E3,fa={x:0,y:0},ha=[],ia=e(b(this.font),this.element_),ma=h(ia),ja=this.element_.currentStyle,ga=this.textAlign.toLowerCase();switch(ga){case "left":case "center":case "right":break;case "end":ga=ja.direction=="ltr"?"right":"left";break;case "start":ga=ja.direction=="rtl"?"right":"left";break;default:ga="left"}switch(this.textBaseline){case "hanging":case "top":fa.y=ia.size/1.75;break;case "middle":break;default:case null:case "alphabetic":case "ideographic":case "bottom":fa.y=
-ia.size/2.25;break}switch(ga){case "right":P=1E3;ba=0.05;break;case "center":P=ba=500;break}G=B(this,G+fa.x,K+fa.y);ha.push('<g_vml_:line from="',-P,' 0" to="',ba,' 0.05" ',' coordsize="100 100" coordorigin="0 0"',' filled="',!S,'" stroked="',!!S,'" style="position:absolute;width:1px;height:1px;">');S?p(this,ha):w(this,ha,{x:-P,y:0},{x:ba,y:ia.size});S=Z[0][0].toFixed(3)+","+Z[1][0].toFixed(3)+","+Z[0][1].toFixed(3)+","+Z[1][1].toFixed(3)+",0,0";G=N(G.x/Q)+","+N(G.y/Q);ha.push('<g_vml_:skew on="t" matrix="',
S,'" ',' offset="',G,'" origin="',P,' 0" />','<g_vml_:path textpathok="true" />','<g_vml_:textpath on="true" string="',A(E),'" style="v-text-align:',ga,";font:",A(ma),'" /></g_vml_:line>');this.element_.insertAdjacentHTML("beforeEnd",ha.join(""))};R.fillText=function(E,G,K,P){this.drawText_(E,G,K,P,false)};R.strokeText=function(E,G,K,P){this.drawText_(E,G,K,P,true)};R.measureText=function(E){if(!this.textMeasureEl_){this.element_.insertAdjacentHTML("beforeEnd",'<span style="position:absolute;top:-20000px;left:0;padding:0;margin:0;border:none;white-space:pre;"></span>');
this.textMeasureEl_=this.element_.lastChild}var G=this.element_.ownerDocument;this.textMeasureEl_.innerHTML="";this.textMeasureEl_.style.font=this.font;this.textMeasureEl_.appendChild(G.createTextNode(E));return{width:this.textMeasureEl_.offsetWidth}};R.clip=function(){};R.arcTo=function(){};R.createPattern=function(E,G){return new u(E,G)};z.prototype.addColorStop=function(E,G){G=c(G);this.colors_.push({offset:E,color:G.color,alpha:G.alpha})};R=O.prototype=new Error;R.INDEX_SIZE_ERR=1;R.DOMSTRING_SIZE_ERR=
2;R.HIERARCHY_REQUEST_ERR=3;R.WRONG_DOCUMENT_ERR=4;R.INVALID_CHARACTER_ERR=5;R.NO_DATA_ALLOWED_ERR=6;R.NO_MODIFICATION_ALLOWED_ERR=7;R.NOT_FOUND_ERR=8;R.NOT_SUPPORTED_ERR=9;R.INUSE_ATTRIBUTE_ERR=10;R.INVALID_STATE_ERR=11;R.SYNTAX_ERR=12;R.INVALID_MODIFICATION_ERR=13;R.NAMESPACE_ERR=14;R.INVALID_ACCESS_ERR=15;R.VALIDATION_ERR=16;R.TYPE_MISMATCH_ERR=17;G_vmlCanvasManager=aa;CanvasRenderingContext2D=l;CanvasGradient=z;CanvasPattern=u;DOMException=O})();return G_vmlCanvasManager});V("zrender/tool/util",
["require","../dep/excanvas"],function(t){function x(h){if(typeof h=="object"&&h!==null){var j=h;if(h instanceof Array){j=[];for(var l=0,n=h.length;l<n;l++)j[l]=x(h[l])}else if(!i[Object.prototype.toString.call(h)]){j={};for(l in h)if(h.hasOwnProperty(l))j[l]=x(h[l])}return j}return h}function A(h,j,l,n){if(j.hasOwnProperty(l))if(typeof h[l]=="object"&&!i[Object.prototype.toString.call(h[l])])s(h[l],j[l],n);else if(n||!(l in h))h[l]=j[l]}function s(h,j,l){for(var n in j)A(h,j,n,l);return h}function q(){if(!f){t("../dep/excanvas");
if(G_vmlCanvasManager){var h=document.createElement("div");h.style.position="absolute";h.style.top="-1000px";document.body.appendChild(h);f=G_vmlCanvasManager.initElement(h).getContext("2d")}else f=document.createElement("canvas").getContext("2d")}return f}function r(){if(!d){g=document.createElement("canvas");a=g.width;c=g.height;d=g.getContext("2d")}return d}function o(h,j){var l;if(h+b>a){a=h+b+100;g.width=a;l=true}if(j+e>c){c=j+e+100;g.height=c;l=true}if(h<-b){b=Math.ceil(-h/100)*100;a+=b;g.width=
a;l=true}if(j<-e){e=Math.ceil(-j/100)*100;c+=e;g.height=c;l=true}l&&d.translate(b,e)}function v(){return{x:b,y:e}}function m(h,j){if(h.indexOf)return h.indexOf(j);for(var l=0,n=h.length;l<n;l++)if(h[l]===j)return l;return-1}function k(h,j){function l(){}var n=h.prototype;l.prototype=j.prototype;h.prototype=new l;for(var p in n)h.prototype[p]=n[p];h.constructor=h}var i={"[object Function]":1,"[object RegExp]":1,"[object Date]":1,"[object Error]":1,"[object CanvasGradient]":1},f,g,d,a,c,b=0,e=0;return{inherits:k,
clone:x,merge:s,getContext:q,getPixelContext:r,getPixelOffset:v,adjustCanvasSize:o,indexOf:m}});V("zrender/mixin/Eventful",["require"],function(){var t=function(){this._handlers={}};t.prototype.one=function(x,A,s){var q=this._handlers;if(!A||!x)return this;q[x]||(q[x]=[]);q[x].push({h:A,one:true,ctx:s||this});return this};t.prototype.bind=function(x,A,s){var q=this._handlers;if(!A||!x)return this;q[x]||(q[x]=[]);q[x].push({h:A,one:false,ctx:s||this});return this};t.prototype.unbind=function(x,A){var s=
this._handlers;if(!x){this._handlers={};return this}if(A){if(s[x]){for(var q=[],r=0,o=s[x].length;r<o;r++)s[x][r].h!=A&&q.push(s[x][r]);s[x]=q}s[x]&&s[x].length===0&&delete s[x]}else delete s[x];return this};t.prototype.dispatch=function(x){if(this._handlers[x]){var A=arguments,s=A.length;if(s>3)A=Array.prototype.slice.call(A,1);for(var q=this._handlers[x],r=q.length,o=0;o<r;){switch(s){case 1:q[o].h.call(q[o].ctx);break;case 2:q[o].h.call(q[o].ctx,A[1]);break;case 3:q[o].h.call(q[o].ctx,A[1],A[2]);
break;default:q[o].h.apply(q[o].ctx,A);break}if(q[o].one){q.splice(o,1);r--}else o++}}return this};t.prototype.dispatchWithContext=function(x){if(this._handlers[x]){var A=arguments,s=A.length;if(s>4)A=Array.prototype.slice.call(A,1,A.length-1);for(var q=A[A.length-1],r=this._handlers[x],o=r.length,v=0;v<o;){switch(s){case 1:r[v].h.call(q);break;case 2:r[v].h.call(q,A[1]);break;case 3:r[v].h.call(q,A[1],A[2]);break;default:r[v].h.apply(q,A);break}if(r[v].one){r.splice(v,1);o--}else v++}}return this};
return t});V("zrender/tool/event",["require","../mixin/Eventful"],function(t){function x(q){return typeof q.zrenderX!="undefined"&&q.zrenderX||typeof q.offsetX!="undefined"&&q.offsetX||typeof q.layerX!="undefined"&&q.layerX||typeof q.clientX!="undefined"&&q.clientX}function A(q){return typeof q.zrenderY!="undefined"&&q.zrenderY||typeof q.offsetY!="undefined"&&q.offsetY||typeof q.layerY!="undefined"&&q.layerY||typeof q.clientY!="undefined"&&q.clientY}function s(q){return typeof q.zrenderDelta!="undefined"&&
q.zrenderDelta||typeof q.wheelDelta!="undefined"&&q.wheelDelta||typeof q.detail!="undefined"&&-q.detail}t=t("../mixin/Eventful");return{getX:x,getY:A,getDelta:s,stop:typeof window.addEventListener==="function"?function(q){q.preventDefault();q.stopPropagation();q.cancelBubble=true}:function(q){q.returnValue=false;q.cancelBubble=true},Dispatcher:t}});V("zrender/tool/env",[],function(){function t(x){var A=this.os={},s=this.browser={},q=x.match(/Web[kK]it[\/]{0,1}([\d.]+)/),r=x.match(/(Android);?[\s\/]+([\d.]+)?/),
o=x.match(/(iPad).*OS\s([\d_]+)/),v=x.match(/(iPod)(.*OS\s([\d_]+))?/),m=!o&&x.match(/(iPhone\sOS)\s([\d_]+)/),k=x.match(/(webOS|hpwOS)[\s\/]([\d.]+)/),i=k&&x.match(/TouchPad/),f=x.match(/Kindle\/([\d.]+)/),g=x.match(/Silk\/([\d._]+)/),d=x.match(/(BlackBerry).*Version\/([\d.]+)/),a=x.match(/(BB10).*Version\/([\d.]+)/),c=x.match(/(RIM\sTablet\sOS)\s([\d.]+)/),b=x.match(/PlayBook/),e=x.match(/Chrome\/([\d.]+)/)||x.match(/CriOS\/([\d.]+)/),h=x.match(/Firefox\/([\d.]+)/),j=x.match(/MSIE ([\d.]+)/),l=
q&&x.match(/Mobile\//)&&!e,n=x.match(/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/)&&!e;j=x.match(/MSIE\s([\d.]+)/);if(s.webkit=!!q)s.version=q[1];if(r){A.android=true;A.version=r[2]}if(m&&!v){A.ios=A.iphone=true;A.version=m[2].replace(/_/g,".")}if(o){A.ios=A.ipad=true;A.version=o[2].replace(/_/g,".")}if(v){A.ios=A.ipod=true;A.version=v[3]?v[3].replace(/_/g,"."):null}if(k){A.webos=true;A.version=k[2]}if(i)A.touchpad=true;if(d){A.blackberry=true;A.version=d[2]}if(a){A.bb10=true;A.version=a[2]}if(c){A.rimtabletos=
true;A.version=c[2]}if(b)s.playbook=true;if(f){A.kindle=true;A.version=f[1]}if(g){s.silk=true;s.version=g[1]}if(!g&&A.android&&x.match(/Kindle Fire/))s.silk=true;if(e){s.chrome=true;s.version=e[1]}if(h){s.firefox=true;s.version=h[1]}if(j){s.ie=true;s.version=j[1]}if(l&&(x.match(/Safari/)||A.ios))s.safari=true;if(n)s.webview=true;if(j){s.ie=true;s.version=j[1]}A.tablet=!!(o||b||r&&!x.match(/Mobile/)||h&&x.match(/Tablet/)||j&&!x.match(/Phone/)&&x.match(/Touch/));A.phone=!!(!A.tablet&&!A.ipod&&(r||m||
k||d||a||e&&x.match(/Android/)||e&&x.match(/CriOS\/([\d.]+)/)||h&&x.match(/Mobile/)||j&&x.match(/Touch/)));return{browser:s,os:A,canvasSupported:document.createElement("canvas").getContext?true:false}}return t(navigator.userAgent)});V("zrender/config",[],function(){return{EVENT:{RESIZE:"resize",CLICK:"click",DBLCLICK:"dblclick",MOUSEWHEEL:"mousewheel",MOUSEMOVE:"mousemove",MOUSEOVER:"mouseover",MOUSEOUT:"mouseout",MOUSEDOWN:"mousedown",MOUSEUP:"mouseup",GLOBALOUT:"globalout",DRAGSTART:"dragstart",
DRAGEND:"dragend",DRAGENTER:"dragenter",DRAGOVER:"dragover",DRAGLEAVE:"dragleave",DROP:"drop",touchClickDelay:300},catchBrushException:false,debugMode:0}});V("zrender/tool/log",["require","../config"],function(t){var x=t("../config");return function(){if(x.debugMode!==0)if(x.debugMode==1)for(var A in arguments)throw new Error(arguments[A]);else if(x.debugMode>1)for(A in arguments)console.log(arguments[A])}});V("zrender/tool/guid",[],function(){var t=2311;return function(){return"zrender__"+t++}});
V("zrender/tool/vector",[],function(){var t=typeof Float32Array==="undefined"?Array:Float32Array,x={create:function(A,s){var q=new t(2);q[0]=A||0;q[1]=s||0;return q},copy:function(A,s){A[0]=s[0];A[1]=s[1];return A},set:function(A,s,q){A[0]=s;A[1]=q;return A},add:function(A,s,q){A[0]=s[0]+q[0];A[1]=s[1]+q[1];return A},scaleAndAdd:function(A,s,q,r){A[0]=s[0]+q[0]*r;A[1]=s[1]+q[1]*r;return A},sub:function(A,s,q){A[0]=s[0]-q[0];A[1]=s[1]-q[1];return A},len:function(A){return Math.sqrt(this.lenSquare(A))},
lenSquare:function(A){return A[0]*A[0]+A[1]*A[1]},mul:function(A,s,q){A[0]=s[0]*q[0];A[1]=s[1]*q[1];return A},div:function(A,s,q){A[0]=s[0]/q[0];A[1]=s[1]/q[1];return A},dot:function(A,s){return A[0]*s[0]+A[1]*s[1]},scale:function(A,s,q){A[0]=s[0]*q;A[1]=s[1]*q;return A},normalize:function(A,s){var q=x.len(s);if(q===0){A[0]=0;A[1]=0}else{A[0]=s[0]/q;A[1]=s[1]/q}return A},distance:function(A,s){return Math.sqrt((A[0]-s[0])*(A[0]-s[0])+(A[1]-s[1])*(A[1]-s[1]))},distanceSquare:function(A,s){return(A[0]-
s[0])*(A[0]-s[0])+(A[1]-s[1])*(A[1]-s[1])},negate:function(A,s){A[0]=-s[0];A[1]=-s[1];return A},lerp:function(A,s,q,r){A[0]=s[0]+r*(q[0]-s[0]);A[1]=s[1]+r*(q[1]-s[1]);return A},applyTransform:function(A,s,q){var r=s[0];s=s[1];A[0]=q[0]*r+q[2]*s+q[4];A[1]=q[1]*r+q[3]*s+q[5];return A},min:function(A,s,q){A[0]=Math.min(s[0],q[0]);A[1]=Math.min(s[1],q[1]);return A},max:function(A,s,q){A[0]=Math.max(s[0],q[0]);A[1]=Math.max(s[1],q[1]);return A}};x.length=x.len;x.lengthSquare=x.lenSquare;x.dist=x.distance;
x.distSquare=x.distanceSquare;return x});V("zrender/tool/matrix",[],function(){var t=typeof Float32Array==="undefined"?Array:Float32Array,x={create:function(){var A=new t(6);x.identity(A);return A},identity:function(A){A[0]=1;A[1]=0;A[2]=0;A[3]=1;A[4]=0;A[5]=0;return A},copy:function(A,s){A[0]=s[0];A[1]=s[1];A[2]=s[2];A[3]=s[3];A[4]=s[4];A[5]=s[5];return A},mul:function(A,s,q){A[0]=s[0]*q[0]+s[2]*q[1];A[1]=s[1]*q[0]+s[3]*q[1];A[2]=s[0]*q[2]+s[2]*q[3];A[3]=s[1]*q[2]+s[3]*q[3];A[4]=s[0]*q[4]+s[2]*q[5]+
s[4];A[5]=s[1]*q[4]+s[3]*q[5]+s[5];return A},translate:function(A,s,q){A[0]=s[0];A[1]=s[1];A[2]=s[2];A[3]=s[3];A[4]=s[4]+q[0];A[5]=s[5]+q[1];return A},rotate:function(A,s,q){var r=s[0],o=s[2],v=s[4],m=s[1],k=s[3];s=s[5];var i=Math.sin(q);q=Math.cos(q);A[0]=r*q+m*i;A[1]=-r*i+m*q;A[2]=o*q+k*i;A[3]=-o*i+q*k;A[4]=q*v+i*s;A[5]=q*s-i*v;return A},scale:function(A,s,q){var r=q[0];q=q[1];A[0]=s[0]*r;A[1]=s[1]*q;A[2]=s[2]*r;A[3]=s[3]*q;A[4]=s[4]*r;A[5]=s[5]*q;return A},invert:function(A,s){var q=s[0],r=s[2],
o=s[4],v=s[1],m=s[3];s=s[5];var k=q*m-v*r;if(!k)return null;k=1/k;A[0]=m*k;A[1]=-v*k;A[2]=-r*k;A[3]=q*k;A[4]=(r*s-m*o)*k;A[5]=(v*o-q*s)*k;return A},mulVector:function(A,s,q){var r=s[1],o=s[3],v=s[5];A[0]=q[0]*s[0]+q[1]*s[2]+s[4];A[1]=q[0]*r+q[1]*o+v;return A}};return x});V("zrender/Handler",["require","./config","./tool/env","./tool/event","./tool/util","./tool/vector","./tool/matrix","./mixin/Eventful"],function(t){function x(b,e){return function(h){return b.call(e,h)}}function A(b,e){return function(h,
j,l){return b.call(e,h,j,l)}}function s(b){for(var e=d.length;e--;){var h=d[e];b["_"+h+"Handler"]=x(a[h],b)}}function q(b,e,h){if(this._draggingTarget&&this._draggingTarget.id==b.id||b.isSilent())return false;var j=this._event;if(b.isCover(e,h)){b.hoverable&&this.storage.addHover(b);for(e=b.parent;e;){if(e.clipShape&&!e.clipShape.isCover(this._mouseX,this._mouseY))return false;e=e.parent}if(this._lastHover!=b){this._processOutShape(j);this._processDragLeave(j);this._lastHover=b;this._processDragEnter(j)}this._processOverShape(j);
this._processDragOver(j);this._hasfound=1;return true}return false}var r=t("./config"),o=t("./tool/env"),v=t("./tool/event"),m=t("./tool/util"),k=t("./tool/vector"),i=t("./tool/matrix"),f=r.EVENT,g=t("./mixin/Eventful"),d=["resize","click","dblclick","mousewheel","mousemove","mouseout","mouseup","mousedown","touchstart","touchend","touchmove"],a={resize:function(b){b=b||window.event;this._lastHover=null;this._isMouseDown=0;this.dispatch(f.RESIZE,b)},click:function(b){b=this._zrenderEventFixed(b);
var e=this._lastHover;if(e&&e.clickable||!e)this._dispatchAgency(e,f.CLICK,b);this._mousemoveHandler(b)},dblclick:function(b){b=this._zrenderEventFixed(b);var e=this._lastHover;if(e&&e.clickable||!e)this._dispatchAgency(e,f.DBLCLICK,b);this._mousemoveHandler(b)},mousewheel:function(b){b=this._zrenderEventFixed(b);var e=(b.wheelDelta||-b.detail)>0?1.1:1/1.1,h=this.painter.getLayers(),j=false;for(var l in h)if(l!=="hover"){var n=h[l],p=n.position;if(n.zoomable){n.__zoom=n.__zoom||1;j=n.__zoom;j*=e;
j=Math.max(Math.min(n.maxZoom,j),n.minZoom);e=j/n.__zoom;n.__zoom=j;p[0]-=(this._mouseX-p[0])*(e-1);p[1]-=(this._mouseY-p[1])*(e-1);n.scale[0]*=e;n.scale[1]*=e;j=n.dirty=true}}j&&this.painter.refresh();this._dispatchAgency(this._lastHover,f.MOUSEWHEEL,b);this._mousemoveHandler(b)},mousemove:function(b){if(!this.painter.isLoading()){b=this._zrenderEventFixed(b);this._lastX=this._mouseX;this._lastY=this._mouseY;this._mouseX=v.getX(b);this._mouseY=v.getY(b);var e=this._mouseX-this._lastX,h=this._mouseY-
this._lastY;this._processDragStart(b);this._hasfound=0;this._event=b;this._iterateAndFindHover();if(!this._hasfound){if(!this._draggingTarget||this._lastHover&&this._lastHover!=this._draggingTarget){this._processOutShape(b);this._processDragLeave(b)}this._lastHover=null;this.storage.delHover();this.painter.clearHover()}var j="default";if(this._draggingTarget){this.storage.drift(this._draggingTarget.id,e,h);this.storage.addHover(this._draggingTarget)}else if(this._isMouseDown){var l=this.painter.getLayers(),
n=false;for(var p in l)if(p!=="hover"){var w=l[p];if(w.panable){j="move";w.position[0]+=e;w.position[1]+=h;n=true;w.dirty=true}}n&&this.painter.refresh()}if(this._draggingTarget||this._hasfound&&this._lastHover.draggable)j="move";else if(this._hasfound&&this._lastHover.clickable)j="pointer";this.root.style.cursor=j;this._dispatchAgency(this._lastHover,f.MOUSEMOVE,b);if(this._draggingTarget||this._hasfound||this.storage.hasHoverShape())this.painter.refreshHover()}},mouseout:function(b){b=this._zrenderEventFixed(b);
var e=b.toElement||b.relatedTarget;if(e!=this.root)for(;e&&e.nodeType!=9;){if(e==this.root){this._mousemoveHandler(b);return}e=e.parentNode}b.zrenderX=this._lastX;b.zrenderY=this._lastY;this.root.style.cursor="default";this._isMouseDown=0;this._processOutShape(b);this._processDrop(b);this._processDragEnd(b);this.painter.isLoading()||this.painter.refreshHover();this.dispatch(f.GLOBALOUT,b)},mousedown:function(b){if(this._lastDownButton==2){this._lastDownButton=b.button;this._mouseDownTarget=null}else{this._lastMouseDownMoment=
new Date;b=this._zrenderEventFixed(b);this._isMouseDown=1;this._mouseDownTarget=this._lastHover;this._dispatchAgency(this._lastHover,f.MOUSEDOWN,b);this._lastDownButton=b.button}},mouseup:function(b){b=this._zrenderEventFixed(b);this.root.style.cursor="default";this._isMouseDown=0;this._mouseDownTarget=null;this._dispatchAgency(this._lastHover,f.MOUSEUP,b);this._processDrop(b);this._processDragEnd(b)},touchstart:function(b){b=this._zrenderEventFixed(b,true);this._lastTouchMoment=new Date;this._mobildFindFixed(b);
this._mousedownHandler(b)},touchmove:function(b){b=this._zrenderEventFixed(b,true);this._mousemoveHandler(b);this._isDragging&&v.stop(b)},touchend:function(b){b=this._zrenderEventFixed(b,true);this._mouseupHandler(b);var e=new Date;if(e-this._lastTouchMoment<f.touchClickDelay){this._mobildFindFixed(b);this._clickHandler(b);if(e-this._lastClickMoment<f.touchClickDelay/2){this._dblclickHandler(b);this._lastHover&&this._lastHover.clickable&&v.stop(b)}this._lastClickMoment=e}this.painter.clearHover()}};
t=function(b,e,h){g.call(this);this.root=b;this.storage=e;this.painter=h;this._lastX=this._lastY=this._mouseX=this._mouseY=0;this._findHover=A(q,this);this._domHover=h.getDomHover();s(this);if(window.addEventListener){window.addEventListener("resize",this._resizeHandler);if(o.os.tablet||o.os.phone){b.addEventListener("touchstart",this._touchstartHandler);b.addEventListener("touchmove",this._touchmoveHandler);b.addEventListener("touchend",this._touchendHandler)}else{b.addEventListener("click",this._clickHandler);
b.addEventListener("dblclick",this._dblclickHandler);b.addEventListener("mousewheel",this._mousewheelHandler);b.addEventListener("mousemove",this._mousemoveHandler);b.addEventListener("mousedown",this._mousedownHandler);b.addEventListener("mouseup",this._mouseupHandler)}b.addEventListener("DOMMouseScroll",this._mousewheelHandler);b.addEventListener("mouseout",this._mouseoutHandler)}else{window.attachEvent("onresize",this._resizeHandler);b.attachEvent("onclick",this._clickHandler);b.attachEvent("ondblclick ",
this._dblclickHandler);b.attachEvent("onmousewheel",this._mousewheelHandler);b.attachEvent("onmousemove",this._mousemoveHandler);b.attachEvent("onmouseout",this._mouseoutHandler);b.attachEvent("onmousedown",this._mousedownHandler);b.attachEvent("onmouseup",this._mouseupHandler)}};t.prototype.on=function(b,e){this.bind(b,e);return this};t.prototype.un=function(b,e){this.unbind(b,e);return this};t.prototype.trigger=function(b,e){switch(b){case f.RESIZE:case f.CLICK:case f.DBLCLICK:case f.MOUSEWHEEL:case f.MOUSEMOVE:case f.MOUSEDOWN:case f.MOUSEUP:case f.MOUSEOUT:this["_"+
b+"Handler"](e);break}};t.prototype.dispose=function(){var b=this.root;if(window.removeEventListener){window.removeEventListener("resize",this._resizeHandler);if(o.os.tablet||o.os.phone){b.removeEventListener("touchstart",this._touchstartHandler);b.removeEventListener("touchmove",this._touchmoveHandler);b.removeEventListener("touchend",this._touchendHandler)}else{b.removeEventListener("click",this._clickHandler);b.removeEventListener("dblclick",this._dblclickHandler);b.removeEventListener("mousewheel",
this._mousewheelHandler);b.removeEventListener("mousemove",this._mousemoveHandler);b.removeEventListener("mousedown",this._mousedownHandler);b.removeEventListener("mouseup",this._mouseupHandler)}b.removeEventListener("DOMMouseScroll",this._mousewheelHandler);b.removeEventListener("mouseout",this._mouseoutHandler)}else{window.detachEvent("onresize",this._resizeHandler);b.detachEvent("onclick",this._clickHandler);b.detachEvent("dblclick",this._dblclickHandler);b.detachEvent("onmousewheel",this._mousewheelHandler);
b.detachEvent("onmousemove",this._mousemoveHandler);b.detachEvent("onmouseout",this._mouseoutHandler);b.detachEvent("onmousedown",this._mousedownHandler);b.detachEvent("onmouseup",this._mouseupHandler)}this.root=this._domHover=this.storage=this.painter=null;this.un()};t.prototype._processDragStart=function(b){var e=this._lastHover;if(this._isMouseDown&&e&&e.draggable&&!this._draggingTarget&&this._mouseDownTarget==e)if(!(e.dragEnableTime&&new Date-this._lastMouseDownMoment<e.dragEnableTime)){this._draggingTarget=
e;this._isDragging=1;e.invisible=true;this.storage.mod(e.id);this._dispatchAgency(e,f.DRAGSTART,b);this.painter.refresh()}};t.prototype._processDragEnter=function(b){this._draggingTarget&&this._dispatchAgency(this._lastHover,f.DRAGENTER,b,this._draggingTarget)};t.prototype._processDragOver=function(b){this._draggingTarget&&this._dispatchAgency(this._lastHover,f.DRAGOVER,b,this._draggingTarget)};t.prototype._processDragLeave=function(b){this._draggingTarget&&this._dispatchAgency(this._lastHover,f.DRAGLEAVE,
b,this._draggingTarget)};t.prototype._processDrop=function(b){if(this._draggingTarget){this._draggingTarget.invisible=false;this.storage.mod(this._draggingTarget.id);this.painter.refresh();this._dispatchAgency(this._lastHover,f.DROP,b,this._draggingTarget)}};t.prototype._processDragEnd=function(b){if(this._draggingTarget){this._dispatchAgency(this._draggingTarget,f.DRAGEND,b);this._lastHover=null}this._isDragging=0;this._draggingTarget=null};t.prototype._processOverShape=function(b){this._dispatchAgency(this._lastHover,
f.MOUSEOVER,b)};t.prototype._processOutShape=function(b){this._dispatchAgency(this._lastHover,f.MOUSEOUT,b)};t.prototype._dispatchAgency=function(b,e,h,j){var l="on"+e,n={type:e,event:h,target:b,cancelBubble:false},p=b;if(j)n.dragged=j;for(;p;){p[l]&&(n.cancelBubble=p[l](n));p.dispatch(e,n);p=p.parent;if(n.cancelBubble)break}if(b)n.cancelBubble||this.dispatch(e,n);else j||this.dispatch(e,{type:e,event:h})};t.prototype._iterateAndFindHover=function(){var b=i.create();return function(){for(var e=this.storage.getShapeList(),
h,j=[0,0],l=e.length-1;l>=0;l--){var n=e[l];if(void 0!==n.zlevel){h=this.painter.getLayer(n.zlevel,h);j[0]=this._mouseX;j[1]=this._mouseY;if(h.needTransform){i.invert(b,h.transform);k.applyTransform(j,j,b)}}if(this._findHover(n,j[0],j[1]))break}}}();var c=[{x:10},{x:-20},{x:10,y:10},{y:-20}];t.prototype._mobildFindFixed=function(b){this._lastHover=null;this._mouseX=b.zrenderX;this._mouseY=b.zrenderY;this._event=b;this._iterateAndFindHover();for(var e=0;!this._lastHover&&e<c.length;e++){var h=c[e];
h.x&&(this._mouseX+=h.x);h.y&&(this._mouseX+=h.y);this._iterateAndFindHover()}if(this._lastHover){b.zrenderX=this._mouseX;b.zrenderY=this._mouseY}};t.prototype._zrenderEventFixed=function(b,e){if(b.zrenderFixed)return b;if(e){if(e=b.type!="touchend"?b.targetTouches[0]:b.changedTouches[0]){var h=this.root.getBoundingClientRect();b.zrenderX=e.clientX-h.left;b.zrenderY=e.clientY-h.top}}else{b=b||window.event;if((e=b.toElement||b.relatedTarget||b.srcElement||b.target)&&e!=this._domHover){b.zrenderX=(typeof b.offsetX!=
"undefined"?b.offsetX:b.layerX)+e.offsetLeft;b.zrenderY=(typeof b.offsetY!="undefined"?b.offsetY:b.layerY)+e.offsetTop}}b.zrenderFixed=1;return b};m.merge(t.prototype,g.prototype,true);return t});V("zrender/tool/curve",["require","./vector"],function(t){function x(n){return n>-c&&n<c}function A(n){return n>c||n<-c}function s(n,p,w,B,y){var C=1-y;return C*C*(C*n+3*y*p)+y*y*(y*B+3*C*w)}function q(n,p,w,B,y){var C=1-y;return 3*(((p-n)*C+2*(w-p)*y)*C+(B-w)*y*y)}function r(n,p,w,B,y,C){B=B+3*(p-w)-n;w=
3*(w-p*2+n);var z=3*(p-n);n=n-y;y=w*w-3*B*z;p=w*z-9*B*n;var u=z*z-3*w*n;n=0;if(x(y)&&x(p))if(x(w))C[0]=0;else{y=-z/w;if(y>=0&&y<=1)C[n++]=y}else{z=p*p-4*y*u;if(x(z)){p=p/y;y=-w/B+p;p=-p/2;if(y>=0&&y<=1)C[n++]=y;if(p>=0&&p<=1)C[n++]=p}else if(z>0){u=Math.sqrt(z);z=y*w+1.5*B*(-p+u);y=y*w+1.5*B*(-p-u);z=z<0?-Math.pow(-z,e):Math.pow(z,e);y=y<0?-Math.pow(-y,e):Math.pow(y,e);y=(-w-(z+y))/(3*B);if(y>=0&&y<=1)C[n++]=y}else{p=(2*y*w-3*B*p)/(2*Math.sqrt(y*y*y));z=Math.acos(p)/3;u=Math.sqrt(y);var D=Math.cos(z);
y=(-w-2*u*D)/(3*B);p=(-w+u*(D+b*Math.sin(z)))/(3*B);B=(-w+u*(D-b*Math.sin(z)))/(3*B);if(y>=0&&y<=1)C[n++]=y;if(p>=0&&p<=1)C[n++]=p;if(B>=0&&B<=1)C[n++]=B}}return n}function o(n,p,w,B,y){var C=6*w-12*p+6*n;w=9*p+3*B-3*n-9*w;p=3*p-3*n;n=0;if(x(w)){if(A(C)){p=-p/C;if(p>=0&&p<=1)y[n++]=p}}else{p=C*C-4*w*p;if(x(p))y[0]=-C/(2*w);else if(p>0){B=Math.sqrt(p);p=(-C+B)/(2*w);C=(-C-B)/(2*w);if(p>=0&&p<=1)y[n++]=p;if(C>=0&&C<=1)y[n++]=C}}return n}function v(n,p,w,B,y,C){var z=(p-n)*y+n,u=(w-p)*y+p;w=(B-w)*y+
w;p=(u-z)*y+z;u=(w-u)*y+u;y=(u-p)*y+p;C[0]=n;C[1]=z;C[2]=p;C[3]=y;C[4]=y;C[5]=u;C[6]=w;C[7]=B}function m(n,p,w,B,y,C,z,u,D,F,O){var T,N=0.005,Y=Infinity;h[0]=D;h[1]=F;for(F=0;F<1;F+=0.05){j[0]=s(n,w,y,z,F);j[1]=s(p,B,C,u,F);D=a.distSquare(h,j);if(D<Y){T=F;Y=D}}Y=Infinity;for(F=0;F<32;F++){if(N<c)break;var I=T-N,J=T+N;j[0]=s(n,w,y,z,I);j[1]=s(p,B,C,u,I);D=a.distSquare(j,h);if(I>=0&&D<Y){T=I;Y=D}else{l[0]=s(n,w,y,z,J);l[1]=s(p,B,C,u,J);D=a.distSquare(l,h);if(J<=1&&D<Y){T=J;Y=D}else N*=0.5}}if(O){O[0]=
s(n,w,y,z,T);O[1]=s(p,B,C,u,T)}return Math.sqrt(Y)}function k(n,p,w,B){var y=1-B;return y*(y*n+2*B*p)+B*B*w}function i(n,p,w,B){return 2*((1-B)*(p-n)+B*(w-p))}function f(n,p,w,B,y){w=n-2*p+w;p=2*(p-n);B=n-B;n=0;if(x(w)){if(A(p)){B=-B/p;if(B>=0&&B<=1)y[n++]=B}}else{B=p*p-4*w*B;if(x(B)){B=-p/(2*w);if(B>=0&&B<=1)y[n++]=B}else if(B>0){var C=Math.sqrt(B);B=(-p+C)/(2*w);w=(-p-C)/(2*w);if(B>=0&&B<=1)y[n++]=B;if(w>=0&&w<=1)y[n++]=w}}return n}function g(n,p,w){w=n+w-2*p;return w===0?0.5:(n-p)/w}function d(n,
p,w,B,y,C,z,u,D){var F,O=0.005,T=Infinity;h[0]=z;h[1]=u;for(u=0;u<1;u+=0.05){j[0]=k(n,w,y,u);j[1]=k(p,B,C,u);z=a.distSquare(h,j);if(z<T){F=u;T=z}}T=Infinity;for(u=0;u<32;u++){if(O<c)break;var N=F-O,Y=F+O;j[0]=k(n,w,y,N);j[1]=k(p,B,C,N);z=a.distSquare(j,h);if(N>=0&&z<T){F=N;T=z}else{l[0]=k(n,w,y,Y);l[1]=k(p,B,C,Y);z=a.distSquare(l,h);if(Y<=1&&z<T){F=Y;T=z}else O*=0.5}}if(D){D[0]=k(n,w,y,F);D[1]=k(p,B,C,F)}return Math.sqrt(T)}var a=t("./vector"),c=1.0E-4,b=Math.sqrt(3),e=1/3,h=a.create(),j=a.create(),
l=a.create();return{cubicAt:s,cubicDerivativeAt:q,cubicRootAt:r,cubicExtrema:o,cubicSubdivide:v,cubicProjectPoint:m,quadraticAt:k,quadraticDerivativeAt:i,quadraticRootAt:f,quadraticExtremum:g,quadraticProjectPoint:d}});V("zrender/tool/area",["require","./util","./curve"],function(t){function x(I){I%=T;if(I<0)I+=T;return I}function A(I,J,U,Q){if(!J||!I)return false;var X=I.type;C=C||B.getContext();var W=s(I,J,U,Q);if(typeof W!="undefined")return W;if(I.buildPath&&C.isPointInPath)return q(I,C,J,U,Q);
switch(X){case "heart":case "droplet":case "ellipse":return true;case "trochoid":return d(J,U,Q,J.location=="out"?J.r1+J.r2+J.d:J.r1-J.r2+J.d);case "rose":return d(J,U,Q,J.maxr);default:return false}}function s(I,J,U,Q){switch(I.type){case "bezier-curve":if(typeof J.cpX2==="undefined")return m(J.xStart,J.yStart,J.cpX1,J.cpY1,J.xEnd,J.yEnd,J.lineWidth,U,Q);return v(J.xStart,J.yStart,J.cpX1,J.cpY1,J.cpX2,J.cpY2,J.xEnd,J.yEnd,J.lineWidth,U,Q);case "line":return o(J.xStart,J.yStart,J.xEnd,J.yEnd,J.lineWidth,
U,Q);case "broken-line":return i(J.pointList,J.lineWidth,U,Q);case "ring":return f(J.x,J.y,J.r0,J.r,U,Q);case "circle":return d(J.x,J.y,J.r,U,Q);case "sector":return a(J,U,Q);case "path":return n(J.pathArray,Math.max(J.lineWidth,5),J.brushType,U,Q);case "polygon":case "star":case "isogon":return c(J.pointList,U,Q);case "text":I=J.__rect||I.getRect(J);return g(I.x,I.y,I.width,I.height,U,Q);case "rectangle":case "image":return g(J.x,J.y,J.width,J.height,U,Q)}}function q(I,J,U,Q,X){J.beginPath();I.buildPath(J,
U);J.closePath();return J.isPointInPath(Q,X)}function r(I,J,U,Q){return!A(I,J,U,Q)}function o(I,J,U,Q,X,W,aa){if(X===0)return false;X=Math.max(X,5);var $=0,R=I;if(aa>J+X&&aa>Q+X||aa<J-X&&aa<Q-X||W>I+X&&W>U+X||W<I-X&&W<U-X)return false;if(I!==U){$=(J-Q)/(I-U);R=(I*Q-U*J)/(I-U)}else return Math.abs(W-I)<=X/2;I=$*W-aa+R;return I*I/($*$+1)<=X/2*X/2}function v(I,J,U,Q,X,W,aa,$,R,ca,ea){if(R===0)return false;R=Math.max(R,5);if(ea>J+R&&ea>Q+R&&ea>W+R&&ea>$+R||ea<J-R&&ea<Q-R&&ea<W-R&&ea<$-R||ca>I+R&&ca>U+
R&&ca>X+R&&ca>aa+R||ca<I-R&&ca<U-R&&ca<X-R&&ca<aa-R)return false;return y.cubicProjectPoint(I,J,U,Q,X,W,aa,$,ca,ea,null)<=R/2}function m(I,J,U,Q,X,W,aa,$,R){if(aa===0)return false;aa=Math.max(aa,5);if(R>J+aa&&R>Q+aa&&R>W+aa||R<J-aa&&R<Q-aa&&R<W-aa||$>I+aa&&$>U+aa&&$>X+aa||$<I-aa&&$<U-aa&&$<X-aa)return false;return y.quadraticProjectPoint(I,J,U,Q,X,W,$,R,null)<=aa/2}function k(I,J,U,Q,X,W,aa,$,R){if(aa===0)return false;aa=Math.max(aa,5);$-=I;R-=J;I=Math.sqrt($*$+R*R);if(I-aa>U||I+aa<U)return false;
if(W){Q=x(X);X=x(Q)}else{Q=x(Q);X=x(X)}if(Q>X)X+=T;U=Math.atan2(R,$);if(U<0)U+=T;return U>=Q&&U<=X||U+T>=Q&&U+T<=X}function i(I,J,U,Q){J=Math.max(J,10);for(var X=0,W=I.length-1;X<W;X++)if(o(I[X][0],I[X][1],I[X+1][0],I[X+1][1],J,U,Q))return true;return false}function f(I,J,U,Q,X,W){I=(X-I)*(X-I)+(W-J)*(W-J);return I<Q*Q&&I>U*U}function g(I,J,U,Q,X,W){return X>=I&&X<=I+U&&W>=J&&W<=J+Q}function d(I,J,U,Q,X){return(Q-I)*(Q-I)+(X-J)*(X-J)<U*U}function a(I,J,U){if(!f(I.x,I.y,I.r0||0,I.r,J,U))return false;
if(Math.abs(I.endAngle-I.startAngle)>=360)return true;J=(360-Math.atan2(U-I.y,J-I.x)/Math.PI*180)%360;U=(360+I.endAngle)%360;I=(360+I.startAngle)%360;if(U>I)return J>=I&&J<=U;return!(J>=U&&J<=I)}function c(I,J,U){for(var Q=I.length,X=0,W=0,aa=Q-1;W<Q;W++){X+=b(I[aa][0],I[aa][1],I[W][0],I[W][1],J,U);aa=W}return X!==0}function b(I,J,U,Q,X,W){if(W>J&&W>Q||W<J&&W<Q)return 0;if(Q==J)return 0;var aa=Q<J?1:-1;return(W-J)/(Q-J)*(U-I)+I>X?aa:0}function e(){var I=Y[0];Y[0]=Y[1];Y[1]=I}function h(I,J,U,Q,X,
W,aa,$,R,ca){if(ca>J&&ca>Q&&ca>W&&ca>$||ca<J&&ca<Q&&ca<W&&ca<$)return 0;ca=y.cubicRootAt(J,Q,W,$,ca,N);if(ca===0)return 0;else{for(var ea=0,da=-1,H,L,M=0;M<ca;M++){var E=N[M];if(!(y.cubicAt(I,U,X,aa,E)<R)){if(da<0){da=y.cubicExtrema(J,Q,W,$,Y);Y[1]<Y[0]&&da>1&&e();H=y.cubicAt(J,Q,W,$,Y[0]);if(da>1)L=y.cubicAt(J,Q,W,$,Y[1])}ea+=da==2?E<Y[0]?H<J?1:-1:E<Y[1]?L<H?1:-1:$<L?1:-1:E<Y[0]?H<J?1:-1:$<H?1:-1}}return ea}}function j(I,J,U,Q,X,W,aa,$){if($>J&&$>Q&&$>W||$<J&&$<Q&&$<W)return 0;$=y.quadraticRootAt(J,
Q,W,$,N);if($===0)return 0;else{var R=y.quadraticExtremum(J,Q,W);if(R>=0&&R<=1){var ca=0;Q=y.quadraticAt(J,Q,W,R);for(var ea=0;ea<$;ea++){var da=y.quadraticAt(I,U,X,N[ea]);da>aa||(ca+=N[ea]<R?Q<J?1:-1:W<Q?1:-1)}return ca}else{da=y.quadraticAt(I,U,X,N[0]);if(da>aa)return 0;return W<J?1:-1}}}function l(I,J,U,Q,X,W,aa,$){$-=J;if($>U||$<-U)return 0;J=Math.sqrt(U*U-$*$);N[0]=-J;N[1]=J;if(W){Q=x(X);X=x(Q)}else{Q=x(Q);X=x(X)}if(Q>X)X+=T;for(U=J=0;U<2;U++){var R=N[U];if(R+I>aa){R=Math.atan2($,R);var ca=W?
1:-1;if(R<0)R=T+R;if(R>=Q&&R<=X||R+T>=Q&&R+T<=X){if(R>Math.PI/2&&R<Math.PI*1.5)ca=-ca;J+=ca}}}return J}function n(I,J,U,Q,X){var W=0,aa=0,$=0,R=0,ca=0,ea=true,da=U==="stroke"||U==="both";U=U==="fill"||U==="both";for(var H=0;H<I.length;H++){var L=I[H],M=L.points;if(ea||L.command==="M"){if(H>0){if(U)W+=b(aa,$,R,ca,Q,X);if(W!==0)return true}R=M[M.length-2];ca=M[M.length-1];ea=false}switch(L.command){case "M":aa=M[0];$=M[1];break;case "L":if(da)if(o(aa,$,M[0],M[1],J,Q,X))return true;if(U)W+=b(aa,$,M[0],
M[1],Q,X);aa=M[0];$=M[1];break;case "C":if(da)if(v(aa,$,M[0],M[1],M[2],M[3],M[4],M[5],J,Q,X))return true;if(U)W+=h(aa,$,M[0],M[1],M[2],M[3],M[4],M[5],Q,X);aa=M[4];$=M[5];break;case "Q":if(da)if(m(aa,$,M[0],M[1],M[2],M[3],J,Q,X))return true;if(U)W+=j(aa,$,M[0],M[1],M[2],M[3],Q,X);aa=M[2];$=M[3];break;case "A":L=M[0];var E=M[1],G=M[2],K=M[3],P=M[4],S=M[5],Z=Math.cos(P)*G+L,ba=Math.sin(P)*K+E;W+=b(aa,$,Z,ba);aa=(Q-L)*K/G+L;if(da)if(k(L,E,K,P,P+S,1-M[7],J,aa,X))return true;if(U)W+=l(L,E,K,P,P+S,1-M[7],
aa,X);aa=Math.cos(P+S)*G+L;$=Math.sin(P+S)*K+E;break;case "z":if(da)if(o(aa,$,R,ca,J,Q,X))return true;ea=true;break}}if(U)W+=b(aa,$,R,ca,Q,X);return W!==0}function p(I,J){var U=I+":"+J;if(z[U])return z[U];C=C||B.getContext();C.save();if(J)C.font=J;I=(I+"").split("\n");for(var Q=J=0,X=I.length;Q<X;Q++)J=Math.max(C.measureText(I[Q]).width,J);C.restore();z[U]=J;if(++D>O){D=0;z={}}return J}function w(I,J){var U=I+":"+J;if(u[U])return u[U];C=C||B.getContext();C.save();if(J)C.font=J;I=(I+"").split("\n");
I=(C.measureText("\u56fd").width+2)*I.length;C.restore();u[U]=I;if(++F>O){F=0;u={}}return I}var B=t("./util"),y=t("./curve"),C,z={},u={},D=0,F=0,O=5E3,T=Math.PI*2,N=[-1,-1,-1],Y=[-1,-1];return{isInside:A,isOutside:r,getTextWidth:p,getTextHeight:w,isInsidePath:n,isInsidePolygon:c,isInsideSector:a,isInsideCircle:d,isInsideLine:o,isInsideRect:g,isInsideBrokenLine:i}});V("zrender/mixin/Transformable",["require","../tool/matrix","../tool/vector"],function(t){function x(v){return v>-o&&v<o}function A(v){return v>
o||v<-o}var s=t("../tool/matrix"),q=t("../tool/vector"),r=[0,0],o=5.0E-5;t=function(){if(!this.position)this.position=[0,0];if(typeof this.rotation=="undefined")this.rotation=[0,0,0];if(!this.scale)this.scale=[1,1,0,0];this.needTransform=this.needLocalTransform=false};t.prototype={constructor:t,updateNeedTransform:function(){this.needLocalTransform=A(this.rotation[0])||A(this.position[0])||A(this.position[1])||A(this.scale[0]-1)||A(this.scale[1]-1)},updateTransform:function(){this.updateNeedTransform();
if(this.needTransform=this.parent?this.needLocalTransform||this.parent.needTransform:this.needLocalTransform){var v=this.transform||s.create();s.identity(v);if(this.needLocalTransform){if(A(this.scale[0])||A(this.scale[1])){r[0]=-this.scale[2]||0;r[1]=-this.scale[3]||0;var m=A(r[0])||A(r[1]);m&&s.translate(v,v,r);s.scale(v,v,this.scale);if(m){r[0]=-r[0];r[1]=-r[1];s.translate(v,v,r)}}if(this.rotation instanceof Array){if(this.rotation[0]!==0){r[0]=-this.rotation[1]||0;r[1]=-this.rotation[2]||0;(m=
A(r[0])||A(r[1]))&&s.translate(v,v,r);s.rotate(v,v,this.rotation[0]);if(m){r[0]=-r[0];r[1]=-r[1];s.translate(v,v,r)}}}else this.rotation!==0&&s.rotate(v,v,this.rotation);if(A(this.position[0])||A(this.position[1]))s.translate(v,v,this.position)}this.transform=v;if(this.parent&&this.parent.needTransform)this.needLocalTransform?s.mul(this.transform,this.parent.transform,this.transform):s.copy(this.transform,this.parent.transform)}},setTransform:function(v){if(this.needTransform){var m=this.transform;
v.transform(m[0],m[1],m[2],m[3],m[4],m[5])}},lookAt:function(){var v=q.create();return function(m){if(!this.transform)this.transform=s.create();var k=this.transform;q.sub(v,m,this.position);if(!(x(v[0])&&x(v[1]))){q.normalize(v,v);k[2]=v[0]*this.scale[1];k[3]=v[1]*this.scale[1];k[0]=v[1]*this.scale[0];k[1]=-v[0]*this.scale[0];k[4]=this.position[0];k[5]=this.position[1];this.decomposeTransform()}}}(),decomposeTransform:function(){if(this.transform){var v=this.transform,m=v[0]*v[0]+v[1]*v[1],k=this.position,
i=this.scale,f=this.rotation;if(A(m-1))m=Math.sqrt(m);var g=v[2]*v[2]+v[3]*v[3];if(A(g-1))g=Math.sqrt(g);k[0]=v[4];k[1]=v[5];i[0]=m;i[1]=g;i[2]=i[3]=0;f[0]=Math.atan2(-v[1]/g,v[0]/m);f[1]=f[2]=0}}};return t});V("zrender/tool/color",["require","../tool/util"],function(t){function x(H){aa=H}function A(){aa=$}function s(H,L){H|=0;L=L||aa;return L[H%L.length]}function q(H){R=H}function r(){ca=R}function o(){return R}function v(H,L,M,E,G,K,P){W||(W=X.getContext());H=W.createRadialGradient(H,L,M,E,G,K);
L=0;for(M=P.length;L<M;L++)H.addColorStop(P[L][0],P[L][1]);H.__nonRecursion=true;return H}function m(H,L,M,E,G){W||(W=X.getContext());H=W.createLinearGradient(H,L,M,E);L=0;for(M=G.length;L<M;L++)H.addColorStop(G[L][0],G[L][1]);H.__nonRecursion=true;return H}function k(H,L,M){H=a(H);L=a(L);H=F(H);L=F(L);var E=[],G=(L[0]-H[0])/M,K=(L[1]-H[1])/M,P=(L[2]-H[2])/M,S=0,Z=H[0],ba=H[1];for(H=H[2];S<M;S++){E[S]=f([N(Math.floor(Z),[0,255]),N(Math.floor(ba),[0,255]),N(Math.floor(H),[0,255])]);Z+=G;ba+=K;H+=P}Z=
L[0];ba=L[1];H=L[2];E[S]=f([Z,ba,H]);return E}function i(H,L){var M=[],E=H.length;if(L===undefined)L=20;if(E===1)M=k(H[0],H[0],L);else if(E>1){var G=0;for(E=E-1;G<E;G++){var K=k(H[G],H[G+1],L);G<E-1&&K.pop();M=M.concat(K)}}return M}function f(H,L){L=L||"rgb";if(H&&(H.length===3||H.length===4)){H=T(H,function(E){return E>1?Math.ceil(E):E});if(L.indexOf("hex")>-1)return"#"+(16777216+(H[0]<<16)+(H[1]<<8)+ +H[2]).toString(16).slice(1);else if(L.indexOf("hs")>-1){var M=T(H.slice(1,3),function(E){return E+
"%"});H[1]=M[0];H[2]=M[1]}if(L.indexOf("a")>-1){H.length===3&&H.push(1);H[3]=N(H[3],[0,1]);return L+"("+H.slice(0,4).join(",")+")"}return L+"("+H.slice(0,3).join(",")+")"}}function g(H){H=B(H);if(H.indexOf("rgba")<0)H=a(H);var L=[],M=0;H.replace(/[\d.]+/g,function(E){if(M<3)E|=0;else E=+E;L[M++]=E});return L}function d(H,L){var M=F(H),E=M[3];if(typeof E==="undefined")E=1;if(H.indexOf("hsb")>-1)M=Y(M);else if(H.indexOf("hsl")>-1)M=I(M);if(L.indexOf("hsb")>-1||L.indexOf("hsv")>-1)M=U(M);else if(L.indexOf("hsl")>
-1)M=Q(M);M[3]=E;return f(M,L)}function a(H){return d(H,"rgba")}function c(H){return d(H,"rgb")}function b(H){return d(H,"hex")}function e(H){return d(H,"hsva")}function h(H){return d(H,"hsv")}function j(H){return d(H,"hsba")}function l(H){return d(H,"hsb")}function n(H){return d(H,"hsla")}function p(H){return d(H,"hsl")}function w(H){for(var L in da)if(b(da[L])===b(H))return L;return null}function B(H){return String(H).replace(/\s+/g,"")}function y(H){if(da[H])H=da[H];H=B(H);H=H.replace(/hsv/i,"hsb");
if(/^#[\da-f]{3}$/i.test(H)){H=parseInt(H.slice(1),16);var L=(H&3840)<<8,M=(H&240)<<4;H=H&15;H="#"+(16777216+(L<<4)+L+(M<<4)+M+(H<<4)+H).toString(16).slice(1)}return H}function C(H,L){var M=L>0?1:-1;if(typeof L==="undefined")L=0;L=Math.abs(L)>1?1:Math.abs(L);H=c(H);H=F(H);for(var E=0;E<3;E++)H[E]=M===1?H[E]*(1-L)|0:(255-H[E])*L+H[E]|0;return"rgb("+H.join(",")+")"}function z(H){H=F(a(H));H=T(H,function(L){return 255-L});return f(H,"rgb")}function u(H,L,M){if(typeof M==="undefined")M=0.5;M=1-N(M,[0,
1]);var E=M*2-1;H=F(a(H));L=F(a(L));var G=H[3]-L[3];G=((E*G===-1?E:(E+G)/(1+E*G))+1)/2;var K=1-G;E=[];for(var P=0;P<3;P++)E[P]=H[P]*G+L[P]*K;M=H[3]*M+L[3]*(1-M);M=Math.max(0,Math.min(1,M));if(H[3]===1&&L[3]===1)return f(E,"rgb");E[3]=M;return f(E,"rgba")}function D(){return"#"+Math.random().toString(16).slice(2,8)}function F(H){H=y(H);H=H.match(ea);if(H===null)throw new Error("The color format error");var L=[],M;if(H[2]){H=H[2].replace("#","").split("");M=[H[0]+H[1],H[2]+H[3],H[4]+H[5]];L=T(M,function(G){return N(parseInt(G,
16),[0,255])})}else if(H[4]){M=H[4].split(",");H=M[3];M=M.slice(0,3);L=T(M,function(G){G=Math.floor(G.indexOf("%")>0?parseInt(G,0)*2.55:G);return N(G,[0,255])});typeof H!=="undefined"&&L.push(N(parseFloat(H),[0,1]))}else if(H[5]||H[6]){H=(H[5]||H[6]).split(",");M=parseInt(H[0],0)/360;L=H[1];var E=H[2];H=H[3];L=T([L,E],function(G){return N(parseFloat(G)/100,[0,1])});L.unshift(M);typeof H!=="undefined"&&L.push(N(parseFloat(H),[0,1]))}return L}function O(H,L){if(L===null)L=1;H=F(a(H));H[3]=N(Number(L).toFixed(4),
[0,1]);return f(H,"rgba")}function T(H,L){if(typeof L!=="function")throw new TypeError;for(var M=H?H.length:0,E=0;E<M;E++)H[E]=L(H[E]);return H}function N(H,L){if(H<=L[0])H=L[0];else if(H>=L[1])H=L[1];return H}function Y(H){var L=H[0],M=H[1];H=H[2];var E;if(M===0){L=H*255;E=H*255;H=H*255}else{var G=L*6;if(G===6)G=0;L=G|0;E=H*(1-M);var K=H*(1-M*(G-L)),P=H*(1-M*(1-(G-L))),S=0;M=G=0;if(L===0){S=H;G=P;M=E}else if(L===1){S=K;G=H;M=E}else if(L===2){S=E;G=H;M=P}else if(L===3){S=E;G=K;M=H}else if(L===4){S=
P;G=E;M=H}else{S=H;G=E;M=K}L=S*255;E=G*255;H=M*255}return[L,E,H]}function I(H){var L=H[0],M=H[1],E=H[2];if(M===0){M=E*255;H=E*255;L=E*255}else{var G;G=E<0.5?E*(1+M):E+M-M*E;E=2*E-G;M=255*J(E,G,L+1/3);H=255*J(E,G,L);L=255*J(E,G,L-1/3)}return[M,H,L]}function J(H,L,M){if(M<0)M+=1;if(M>1)M-=1;if(6*M<1)return H+(L-H)*6*M;if(2*M<1)return L;if(3*M<2)return H+(L-H)*(2/3-M)*6;return H}function U(H){var L=H[0]/255,M=H[1]/255;H=H[2]/255;var E=Math.min(L,M,H),G=Math.max(L,M,H),K=G-E;E=G;var P,S;if(K===0)S=P=
0;else{S=K/G;var Z=((G-L)/6+K/2)/K,ba=((G-M)/6+K/2)/K;K=((G-H)/6+K/2)/K;if(L===G)P=K-ba;else if(M===G)P=1/3+Z-K;else if(H===G)P=2/3+ba-Z;if(P<0)P+=1;if(P>1)P-=1}P*=360;S*=100;E*=100;return[P,S,E]}function Q(H){var L=H[0]/255,M=H[1]/255;H=H[2]/255;var E=Math.min(L,M,H),G=Math.max(L,M,H),K=G-E,P=(G+E)/2,S;if(K===0)E=S=0;else{E=P<0.5?K/(G+E):K/(2-G-E);var Z=((G-L)/6+K/2)/K,ba=((G-M)/6+K/2)/K;K=((G-H)/6+K/2)/K;if(L===G)S=K-ba;else if(M===G)S=1/3+Z-K;else if(H===G)S=2/3+ba-Z;if(S<0)S+=1;if(S>1)S-=1}S*=
360;E*=100;P*=100;return[S,E,P]}var X=t("../tool/util"),W,aa=["#ff9277"," #dddd00"," #ffc877"," #bbe3ff"," #d5ffbb","#bbbbff"," #ddb000"," #b0dd00"," #e2bbff"," #ffbbe3","#ff7777"," #ff9900"," #83dd00"," #77e3ff"," #778fff","#c877ff"," #ff77ab"," #ff6600"," #aa8800"," #77c7ff","#ad77ff"," #ff77ff"," #dd0083"," #777700"," #00aa00","#0088aa"," #8400dd"," #aa0088"," #dd0000"," #772e00"],$=aa,R="rgba(255,255,0,0.5)",ca=R,ea=/^\s*((#[a-f\d]{6})|(#[a-f\d]{3})|rgba?\(\s*([\d\.]+%?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+%?(?:\s*,\s*[\d\.]+%?)?)\s*\)|hsba?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+%?(?:\s*,\s*[\d\.]+)?)%?\s*\)|hsla?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+%?(?:\s*,\s*[\d\.]+)?)%?\s*\))\s*$/i,
da={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#0ff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000",blanchedalmond:"#ffebcd",blue:"#00f",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#0ff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgrey:"#a9a9a9",darkgreen:"#006400",
darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#f0f",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",
gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",grey:"#808080",green:"#008000",greenyellow:"#adff2f",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgrey:"#d3d3d3",lightgreen:"#90ee90",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",
lightskyblue:"#87cefa",lightslategray:"#789",lightslategrey:"#789",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#0f0",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#f0f",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370d8",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",
navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#d87093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",red:"#f00",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",
sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#fff",whitesmoke:"#f5f5f5",yellow:"#ff0",yellowgreen:"#9acd32"};return{customPalette:x,resetPalette:A,getColor:s,getHighlightColor:o,customHighlight:q,resetHighlight:r,getRadialGradient:v,getLinearGradient:m,
getGradientColors:i,getStepColors:k,reverse:z,mix:u,lift:C,trim:B,random:D,toRGB:c,toRGBA:a,toHex:b,toHSL:p,toHSLA:n,toHSB:l,toHSBA:j,toHSV:h,toHSVA:e,toName:w,toColor:f,toArray:g,alpha:O,getData:F}});V("zrender/shape/Base",["require","../tool/matrix","../tool/guid","../tool/util","../tool/log","../mixin/Transformable","../mixin/Eventful","../tool/area","../tool/area","../tool/color","../tool/area"],function(t){function x(f,g,d,a,c,b,e){if(c)f.font=c;f.textAlign=b;f.textBaseline=e;a=A(g,d,a,c,b,e);
g=(g+"").split("\n");c=t("../tool/area").getTextHeight("\u56fd",c);switch(e){case "top":a=a.y;break;case "bottom":a=a.y+c;break;default:a=a.y+c/2}e=0;for(b=g.length;e<b;e++){f.fillText(g[e],d,a);a+=c}}function A(f,g,d,a,c,b){var e=t("../tool/area"),h=e.getTextWidth(f,a);a=e.getTextHeight("\u56fd",a);f=(f+"").split("\n");switch(c){case "end":case "right":g-=h;break;case "center":g-=h/2;break}switch(b){case "top":break;case "bottom":d-=a*f.length;break;default:d-=a*f.length/2}return{x:g,y:d,width:h,
height:a*f.length}}var s=t("../tool/matrix"),q=t("../tool/guid"),r=t("../tool/util"),o=t("../tool/log"),v=t("../mixin/Transformable"),m=t("../mixin/Eventful"),k=function(f){f=f||{};this.id=f.id||q();for(var g in f)this[g]=f[g];this.style=this.style||{};this.highlightStyle=this.highlightStyle||null;this.parent=null;this.__dirty=true;v.call(this);m.call(this)};k.prototype.invisible=false;k.prototype.ignore=false;k.prototype.zlevel=0;k.prototype.draggable=false;k.prototype.clickable=false;k.prototype.hoverable=
true;k.prototype.z=0;k.prototype.brush=function(f,g){var d=this.style;if(this.brushTypeOnly)d.brushType=this.brushTypeOnly;if(g)d=this.getHighlightStyle(d,this.highlightStyle||{},this.brushTypeOnly);if(this.brushTypeOnly=="stroke")d.strokeColor=d.strokeColor||d.color;f.save();this.setContext(f,d);this.setTransform(f);f.beginPath();this.buildPath(f,d);switch(d.brushType){case "both":f.fill();case "stroke":d.lineWidth>0&&f.stroke();break;default:f.fill()}this.drawText(f,d,this.style);f.restore()};var i=
[["color","fillStyle"],["strokeColor","strokeStyle"],["opacity","globalAlpha"],["lineCap","lineCap"],["lineJoin","lineJoin"],["miterLimit","miterLimit"],["lineWidth","lineWidth"],["shadowBlur","shadowBlur"],["shadowColor","shadowColor"],["shadowOffsetX","shadowOffsetX"],["shadowOffsetY","shadowOffsetY"]];k.prototype.setContext=function(f,g){for(var d=0,a=i.length;d<a;d++){var c=g[i[d][0]],b=i[d][1];if(typeof c!="undefined")f[b]=c}};k.prototype.getHighlightStyle=function(f,g,d){var a={};for(var c in f)a[c]=
f[c];var b=t("../tool/color"),e=b.getHighlightColor();if(f.brushType!="stroke"){a.strokeColor=e;a.lineWidth=(f.lineWidth||1)+this.getHighlightZoom();a.brushType="both"}else if(d!="stroke"){a.strokeColor=e;a.lineWidth=(f.lineWidth||1)+this.getHighlightZoom()}else a.strokeColor=g.strokeColor||b.mix(f.strokeColor,b.toRGB(e));for(c in g)if(typeof g[c]!="undefined")a[c]=g[c];return a};k.prototype.getHighlightZoom=function(){return this.type!="text"?6:2};k.prototype.drift=function(f,g){this.position[0]+=
f;this.position[1]+=g};k.prototype.getTansform=function(){var f=[];return function(g,d){var a=[g,d];if(this.needTransform&&this.transform){s.invert(f,this.transform);s.mulVector(a,f,[g,d,1]);g==a[0]&&d==a[1]&&this.updateNeedTransform()}return a}}();k.prototype.buildPath=function(){o("buildPath not implemented in "+this.type)};k.prototype.getRect=function(){o("getRect not implemented in "+this.type)};k.prototype.isCover=function(f,g){g=this.getTansform(f,g);f=g[0];g=g[1];var d=this.style.__rect;if(!d)d=
this.style.__rect=this.getRect(this.style);if(f>=d.x&&f<=d.x+d.width&&g>=d.y&&g<=d.y+d.height)return t("../tool/area").isInside(this,this.style,f,g);return false};k.prototype.drawText=function(f,g,d){if(!(typeof g.text=="undefined"||g.text===false)){var a=g.textColor||g.color||g.strokeColor;f.fillStyle=a;var c=10,b,e,h,j,l=g.textPosition||this.textPosition||"top";switch(l){case "inside":case "top":case "bottom":case "left":case "right":if(this.getRect){var n=(d||g).__rect||this.getRect(d||g);switch(l){case "inside":h=
n.x+n.width/2;j=n.y+n.height/2;b="center";e="middle";if(g.brushType!="stroke"&&a==g.color)f.fillStyle="#fff";break;case "left":h=n.x-c;j=n.y+n.height/2;b="end";e="middle";break;case "right":h=n.x+n.width+c;j=n.y+n.height/2;b="start";e="middle";break;case "top":h=n.x+n.width/2;j=n.y-c;b="center";e="bottom";break;case "bottom":h=n.x+n.width/2;j=n.y+n.height+c;b="center";e="top";break}}break;case "start":case "end":var p,w,B;if(typeof g.pointList!="undefined"){a=g.pointList;if(a.length<2)return;d=a.length;
switch(l){case "start":n=a[0][0];p=a[1][0];w=a[0][1];B=a[1][1];break;case "end":n=a[d-2][0];p=a[d-1][0];w=a[d-2][1];B=a[d-1][1];break}}else{n=g.xStart||0;p=g.xEnd||0;w=g.yStart||0;B=g.yEnd||0}switch(l){case "start":b=n<p?"end":"start";e=w<B?"bottom":"top";h=n;j=w;break;case "end":b=n<p?"start":"end";e=w<B?"top":"bottom";h=p;j=B;break}c-=4;if(n!=p)h-=b=="end"?c:-c;else b="center";if(w!=B)j-=e=="bottom"?c:-c;else e="middle";break;case "specific":h=g.textX||0;j=g.textY||0;b="start";e="middle";break}if(h!=
null&&j!=null)x(f,g.text,h,j,g.textFont,g.textAlign||b,g.textBaseline||e)}};k.prototype.modSelf=function(){this.__dirty=true;if(this.style)this.style.__rect=null};k.prototype.isSilent=function(){return!(this.hoverable||this.draggable||this.clickable||this.onmousemove||this.onmouseover||this.onmouseout||this.onmousedown||this.onmouseup||this.onclick||this.ondragenter||this.ondragover||this.ondragleave||this.ondrop)};r.merge(k.prototype,v.prototype,true);r.merge(k.prototype,m.prototype,true);return k});
V("zrender/shape/Text",["require","../tool/area","./Base","../tool/util"],function(t){var x=t("../tool/area"),A=t("./Base"),s=function(q){A.call(this,q)};s.prototype={type:"text",brush:function(q,r){var o=this.style;if(r)o=this.getHighlightStyle(o,this.highlightStyle||{});if(!(typeof o.text=="undefined"||o.text===false)){q.save();this.setContext(q,o);this.setTransform(q);if(o.textFont)q.font=o.textFont;q.textAlign=o.textAlign||"start";q.textBaseline=o.textBaseline||"middle";r=(o.text+"").split("\n");
var v=x.getTextHeight("\u56fd",o.textFont),m=this.getRect(o),k=o.x;m=o.textBaseline=="top"?m.y:o.textBaseline=="bottom"?m.y+v:m.y+v/2;for(var i=0,f=r.length;i<f;i++){if(o.maxWidth)switch(o.brushType){case "fill":q.fillText(r[i],k,m,o.maxWidth);break;case "stroke":q.strokeText(r[i],k,m,o.maxWidth);break;case "both":q.fillText(r[i],k,m,o.maxWidth);q.strokeText(r[i],k,m,o.maxWidth);break;default:q.fillText(r[i],k,m,o.maxWidth)}else switch(o.brushType){case "fill":q.fillText(r[i],k,m);break;case "stroke":q.strokeText(r[i],
k,m);break;case "both":q.fillText(r[i],k,m);q.strokeText(r[i],k,m);break;default:q.fillText(r[i],k,m)}m+=v}q.restore()}},getRect:function(q){if(q.__rect)return q.__rect;var r=x.getTextWidth(q.text,q.textFont),o=x.getTextHeight(q.text,q.textFont),v=q.x;if(q.textAlign=="end"||q.textAlign=="right")v-=r;else if(q.textAlign=="center")v-=r/2;q.__rect={x:v,y:q.textBaseline=="top"?q.y:q.textBaseline=="bottom"?q.y-o:q.y-o/2,width:r,height:o};return q.__rect}};t("../tool/util").inherits(s,A);return s});V("zrender/shape/Rectangle",
["require","./Base","../tool/util"],function(t){var x=t("./Base"),A=function(s){x.call(this,s)};A.prototype={type:"rectangle",_buildRadiusPath:function(s,q){var r=q.x,o=q.y,v=q.width,m=q.height,k=q.radius,i,f,g;if(typeof k==="number")q=i=f=g=k;else if(k instanceof Array)if(k.length===1)q=i=f=g=k[0];else if(k.length===2){q=f=k[0];i=g=k[1]}else if(k.length===3){q=k[0];i=g=k[1];f=k[2]}else{q=k[0];i=k[1];f=k[2];g=k[3]}else q=i=f=g=0;if(q+i>v){k=q+i;q*=v/k;i*=v/k}if(f+g>v){k=f+g;f*=v/k;g*=v/k}if(i+f>m){k=
i+f;i*=m/k;f*=m/k}if(q+g>m){k=q+g;q*=m/k;g*=m/k}s.moveTo(r+q,o);s.lineTo(r+v-i,o);i!==0&&s.quadraticCurveTo(r+v,o,r+v,o+i);s.lineTo(r+v,o+m-f);f!==0&&s.quadraticCurveTo(r+v,o+m,r+v-f,o+m);s.lineTo(r+g,o+m);g!==0&&s.quadraticCurveTo(r,o+m,r,o+m-g);s.lineTo(r,o+q);q!==0&&s.quadraticCurveTo(r,o,r+q,o)},buildPath:function(s,q){if(q.radius)this._buildRadiusPath(s,q);else{s.moveTo(q.x,q.y);s.lineTo(q.x+q.width,q.y);s.lineTo(q.x+q.width,q.y+q.height);s.lineTo(q.x,q.y+q.height);s.lineTo(q.x,q.y)}s.closePath()},
getRect:function(s){if(s.__rect)return s.__rect;var q;q=s.brushType=="stroke"||s.brushType=="fill"?s.lineWidth||1:0;s.__rect={x:Math.round(s.x-q/2),y:Math.round(s.y-q/2),width:s.width+q,height:s.height+q};return s.__rect}};t("../tool/util").inherits(A,x);return A});V("zrender/loadingEffect/Base",["require","../tool/util","../shape/Text","../shape/Rectangle"],function(t){function x(r){this.setOptions(r)}var A=t("../tool/util"),s=t("../shape/Text"),q=t("../shape/Rectangle");x.prototype.createTextShape=
function(r){return new s({highlightStyle:A.merge({x:this.canvasWidth/2,y:this.canvasHeight/2,text:"Loading...",textAlign:"center",textBaseline:"middle",textFont:"normal 16px Arial",color:"#333",brushType:"fill"},r,true)})};x.prototype.createBackgroundShape=function(r){return new q({highlightStyle:{x:0,y:0,width:this.canvasWidth,height:this.canvasHeight,brushType:"fill",color:r}})};x.prototype.start=function(r){function o(m){r.storage.addHover(m)}function v(){r.refreshHover()}this.canvasWidth=r._width;
this.canvasHeight=r._height;this.loadingTimer=this._start(o,v)};x.prototype._start=function(){return setInterval(function(){},1E4)};x.prototype.stop=function(){clearInterval(this.loadingTimer)};x.prototype.setOptions=function(r){this.options=r||{}};x.prototype.adjust=function(r,o){if(r<=o[0])r=o[0];else if(r>=o[1])r=o[1];return r};x.prototype.getLocation=function(r,o,v){var m=r.x!=null?r.x:"center";switch(m){case "center":m=Math.floor((this.canvasWidth-o)/2);break;case "left":m=0;break;case "right":m=
this.canvasWidth-o;break}r=r.y!=null?r.y:"center";switch(r){case "center":r=Math.floor((this.canvasHeight-v)/2);break;case "top":r=0;break;case "bottom":r=this.canvasHeight-v;break}return{x:m,y:r,width:o,height:v}};return x});V("zrender/shape/Image",["require","./Base","../tool/util"],function(t){var x=[],A,s=t("./Base"),q=function(r){s.call(this,r);this._imageCache={}};q.prototype={type:"image",brush:function(r,o,v){var m=this.style||{};if(o)m=this.getHighlightStyle(m,this.highlightStyle||{});var k=
m.image,i=this;if(typeof k==="string"){o=k;if(this._imageCache[o])k=this._imageCache[o];else{k=new Image;k.onload=function(){k.onload=null;clearTimeout(A);x.push(i);A=setTimeout(function(){v&&v(x);x=[]},10)};k.src=o;this._imageCache[o]=k}}if(k){if(k.nodeName.toUpperCase()=="IMG")if(window.ActiveXObject){if(k.readyState!="complete")return}else if(!k.complete)return;o=m.width||k.width;var f=m.height||k.height,g=m.x,d=m.y;if(k.width&&k.height){r.save();this.setContext(r,m);this.setTransform(r);if(m.sWidth&&
m.sHeight){var a=m.sx||0,c=m.sy||0;r.drawImage(k,a,c,m.sWidth,m.sHeight,g,d,o,f)}else if(m.sx&&m.sy){a=m.sx;c=m.sy;r.drawImage(k,a,c,o-a,f-c,g,d,o,f)}else r.drawImage(k,g,d,o,f);if(!m.width)m.width=o;if(!m.height)m.height=f;if(!this.style.width)this.style.width=o;if(!this.style.height)this.style.height=f;this.drawText(r,m,this.style);r.restore()}}},getRect:function(r){return{x:r.x,y:r.y,width:r.width,height:r.height}},clearCache:function(){this._imageCache={}}};t("../tool/util").inherits(q,s);return q});
V("zrender/Painter",["require","./config","./tool/util","./tool/log","./tool/matrix","./loadingEffect/Base","./mixin/Transformable","./shape/Image"],function(t){function x(){return false}function A(){}function s(a,c,b){c=document.createElement(c);var e=b._width;b=b._height;c.style.position="absolute";c.style.left=0;c.style.top=0;c.style.width=e+"px";c.style.height=b+"px";c.setAttribute("width",e*i);c.setAttribute("height",b*i);c.setAttribute("data-zr-dom-id",a);return c}var q=t("./config"),r=t("./tool/util"),
o=t("./tool/log"),v=t("./tool/matrix"),m=t("./loadingEffect/Base"),k=t("./mixin/Transformable"),i=window.devicePixelRatio||1;i=Math.max(i,1);var f=window.G_vmlCanvasManager,g=function(a,c){this.root=a;this.storage=c;a.innerHTML="";this._width=this._getWidth();this._height=this._getHeight();this._domRoot=c=document.createElement("div");c.style.position="relative";c.style.overflow="hidden";c.style.width=this._width+"px";c.style.height=this._height+"px";a.appendChild(c);this._layers={};this._layerConfig=
{};this._loadingEffect=new m({});this.shapeToImage=this._createShapeToImageProcessor();this._bgDom=s("bg","div",this);c.appendChild(this._bgDom);this._bgDom.onselectstart=x;this._bgDom.style["-webkit-user-select"]="none";this._bgDom.style["user-select"]="none";a=new d("_zrender_hover_",this);this._layers.hover=a;c.appendChild(a.dom);a.initContext();a.dom.onselectstart=x;a.dom.style["-webkit-user-select"]="none";a.dom.style["user-select"]="none";var b=this;this.updatePainter=function(e,h){b.refreshShapes(e,
h)}};g.prototype.render=function(a){this.isLoading()&&this.hideLoading();this.refresh(a,true);return this};g.prototype.refresh=function(a,c){this._paintList(this.storage.getShapeList(true),c);typeof a=="function"&&a();return this};g.prototype._paintList=function(a,c){if(typeof c=="undefined")c=false;this._updateLayerStatus(a);var b,e,h;for(var j in this._layers)if(j!=="hover"){this._layers[j].unusedCount++;this._layers[j].updateTransform()}for(var l=[],n=0,p=a.length;n<p;n++){var w=a[n];if(e!==w.zlevel){b&&
b.needTransform&&h.restore();b=this.getLayer(w.zlevel,b);h=b.ctx;e=w.zlevel;b.unusedCount=0;if(b.dirty||c)b.clear();if(b.needTransform){h.save();b.setTransform(h)}}if(w.__startClip&&!f){var B=w.__startClip;h.save();if(B.needTransform){var y=B.transform;v.invert(l,y);h.transform(y[0],y[1],y[2],y[3],y[4],y[5])}h.beginPath();B.buildPath(h,B.style);h.clip();if(B.needTransform){y=l;h.transform(y[0],y[1],y[2],y[3],y[4],y[5])}}if((b.dirty||c)&&!w.invisible)if(!w.onbrush||w.onbrush&&!w.onbrush(h,false))if(q.catchBrushException)try{w.brush(h,
false,this.updatePainter)}catch(C){o(C,"brush error of "+w.type,w)}else w.brush(h,false,this.updatePainter);w.__stopClip&&!f&&h.restore();w.__dirty=false}b&&b.needTransform&&h.restore();for(j in this._layers)if(j!=="hover"){a=this._layers[j];a.dirty=false;a.unusedCount==1&&a.clear()}};g.prototype.getLayer=function(a,c){var b=this._layers[a];if(!b){b=new d(a,this);c=c?c.dom:this._bgDom;c.nextSibling?c.parentNode.insertBefore(b.dom,c.nextSibling):c.parentNode.appendChild(b.dom);b.initContext();this._layers[a]=
b;this._layerConfig[a]&&r.merge(b,this._layerConfig[a],true);b.updateTransform()}return b};g.prototype.getLayers=function(){return this._layers};g.prototype._updateLayerStatus=function(a){var c=this._layers,b={};for(var e in c)if(e!=="hover"){b[e]=c[e].elCount;c[e].elCount=0}for(var h=0,j=a.length;h<j;h++){var l=a[h],n=c[l.zlevel];if(n){n.elCount++;if(!n.dirty)n.dirty=l.__dirty}}for(e in c)if(e!=="hover")if(b[e]!==c[e].elCount)c[e].dirty=true};g.prototype.refreshShapes=function(a,c){for(var b=0,e=
a.length;b<e;b++)this.storage.mod(a[b].id);this.refresh(c);return this};g.prototype.setLoadingEffect=function(a){this._loadingEffect=a;return this};g.prototype.clear=function(){for(var a in this._layers)a!="hover"&&this._layers[a].clear();return this};g.prototype.modLayer=function(a,c){if(c){if(this._layerConfig[a])r.merge(this._layerConfig[a],c,true);else this._layerConfig[a]=c;(c=this._layers[a])&&r.merge(c,this._layerConfig[a],true)}};g.prototype.delLayer=function(a){var c=this._layers[a];if(c){this.modLayer(a,
{position:c.position,rotation:c.rotation,scale:c.scale});c.dom.parentNode.removeChild(c.dom);delete this._layers[a]}};g.prototype.refreshHover=function(){this.clearHover();for(var a=this.storage.getHoverShapes(true),c=0,b=a.length;c<b;c++)this._brushHover(a[c]);this.storage.delHover();return this};g.prototype.clearHover=function(){var a=this._layers.hover;a&&a.clear();return this};g.prototype.showLoading=function(a){this._loadingEffect&&this._loadingEffect.stop();a&&this.setLoadingEffect(a);this._loadingEffect.start(this);
this.loading=true;return this};g.prototype.hideLoading=function(){this._loadingEffect.stop();this.clearHover();this.loading=false;return this};g.prototype.isLoading=function(){return this.loading};g.prototype.resize=function(){var a=this._domRoot;a.style.display="none";var c=this._getWidth(),b=this._getHeight();a.style.display="";if(this._width!=c||b!=this._height){this._width=c;this._height=b;a.style.width=c+"px";a.style.height=b+"px";for(var e in this._layers)this._layers[e].resize(c,b);this.refresh(null,
true)}return this};g.prototype.clearLayer=function(a){(a=this._layers[a])&&a.clear()};g.prototype.dispose=function(){this.isLoading()&&this.hideLoading();this.root.innerHTML="";this.root=this.storage=this._domRoot=this._layers=null};g.prototype.getDomHover=function(){return this._layers.hover.dom};g.prototype.toDataURL=function(a,c,b){if(f)return null;var e=s("image","canvas",this);this._bgDom.appendChild(e);var h=e.getContext("2d");i!=1&&h.scale(i,i);h.fillStyle=c||"#fff";h.rect(0,0,this._width*
i,this._height*i);h.fill();var j=this;this.storage.iterShape(function(l){if(!l.invisible)if(!l.onbrush||l.onbrush&&!l.onbrush(h,false))if(q.catchBrushException)try{l.brush(h,false,j.updatePainter)}catch(n){o(n,"brush error of "+l.type,l)}else l.brush(h,false,j.updatePainter)},{normal:"up",update:true});a=e.toDataURL(a,b);h=null;this._bgDom.removeChild(e);return a};g.prototype.getWidth=function(){return this._width};g.prototype.getHeight=function(){return this._height};g.prototype._getWidth=function(){var a=
this.root,c=a.currentStyle||document.defaultView.getComputedStyle(a);return((a.clientWidth||parseInt(c.width,10))-parseInt(c.paddingLeft,10)-parseInt(c.paddingRight,10)).toFixed(0)-0};g.prototype._getHeight=function(){var a=this.root,c=a.currentStyle||document.defaultView.getComputedStyle(a);return((a.clientHeight||parseInt(c.height,10))-parseInt(c.paddingTop,10)-parseInt(c.paddingBottom,10)).toFixed(0)-0};g.prototype._brushHover=function(a){var c=this._layers.hover.ctx;if(!a.onbrush||a.onbrush&&
!a.onbrush(c,true)){var b=this.getLayer(a.zlevel);if(b.needTransform){c.save();b.setTransform(c)}if(q.catchBrushException)try{a.brush(c,true,this.updatePainter)}catch(e){o(e,"hoverBrush error of "+a.type,a)}else a.brush(c,true,this.updatePainter);b.needTransform&&c.restore()}};g.prototype._shapeToImage=function(a,c,b,e,h){var j=document.createElement("canvas"),l=j.getContext("2d");h=window.devicePixelRatio||1;j.style.width=b+"px";j.style.height=e+"px";j.setAttribute("width",b*h);j.setAttribute("height",
e*h);l.clearRect(0,0,b*h,e*h);b={position:c.position,rotation:c.rotation,scale:c.scale};c.position=[0,0,0];c.rotation=0;c.scale=[1,1];c&&c.brush(l,false);a=new (t("./shape/Image"))({id:a,style:{x:0,y:0,image:j}});if(b.position!=null)a.position=c.position=b.position;if(b.rotation!=null)a.rotation=c.rotation=b.rotation;if(b.scale!=null)a.scale=c.scale=b.scale;return a};g.prototype._createShapeToImageProcessor=function(){if(f)return A;var a=this;return function(c,b,e,h){return a._shapeToImage(c,b,e,
h,i)}};var d=function(a,c){this.dom=s(a,"canvas",c);this.dom.onselectstart=x;this.dom.style["-webkit-user-select"]="none";this.dom.style["user-select"]="none";f&&f.initElement(this.dom);this.ctxBack=this.domBack=null;this.painter=c;this.unusedCount=0;this.config=null;this.dirty=true;this.clearColor=this.elCount=0;this.motionBlur=false;this.lastFrameAlpha=0.7;this.panable=this.zoomable=false;this.maxZoom=Infinity;this.minZoom=0;k.call(this)};d.prototype.initContext=function(){this.ctx=this.dom.getContext("2d");
i!=1&&this.ctx.scale(i,i)};d.prototype.createBackBuffer=function(){if(!f){this.domBack=s("back-"+this.id,"canvas",this.painter);this.ctxBack=this.domBack.getContext("2d");i!=1&&this.ctxBack.scale(i,i)}};d.prototype.resize=function(a,c){this.dom.style.width=a+"px";this.dom.style.height=c+"px";this.dom.setAttribute("width",a*i);this.dom.setAttribute("height",c*i);i!=1&&this.ctx.scale(i,i);if(this.domBack){this.domBack.setAttribute("width",a*i);this.domBack.setAttribute("height",c*i);i!=1&&this.ctxBack.scale(i,
i)}};d.prototype.clear=function(){var a=this.dom,c=this.ctx,b=a.width,e=a.height,h=this.clearColor&&!f,j=this.motionBlur&&!f,l=this.lastFrameAlpha;if(j){this.domBack||this.createBackBuffer();this.ctxBack.globalCompositeOperation="copy";this.ctxBack.drawImage(a,0,0,b/i,e/i)}if(h){c.save();c.fillStyle=this.config.clearColor;c.fillRect(0,0,b/i,e/i);c.restore()}else c.clearRect(0,0,b/i,e/i);if(j){a=this.domBack;c.save();c.globalAlpha=l;c.drawImage(a,0,0,b/i,e/i);c.restore()}};r.merge(d.prototype,k.prototype);
return g});V("zrender/Group",["require","./tool/guid","./tool/util","./mixin/Transformable","./mixin/Eventful"],function(t){var x=t("./tool/guid"),A=t("./tool/util"),s=t("./mixin/Transformable"),q=t("./mixin/Eventful"),r=function(o){o=o||{};this.id=o.id||x();for(var v in o)this[v]=o[v];this.type="group";this.clipShape=null;this._children=[];this._storage=null;this.__dirty=true;s.call(this);q.call(this)};r.prototype.ignore=false;r.prototype.children=function(){return this._children.slice()};r.prototype.childAt=
function(o){return this._children[o]};r.prototype.addChild=function(o){if(o!=this)if(o.parent!=this){o.parent&&o.parent.removeChild(o);this._children.push(o);o.parent=this;if(this._storage&&this._storage!==o._storage){this._storage.addToMap(o);o instanceof r&&o.addChildrenToStorage(this._storage)}}};r.prototype.removeChild=function(o){this._children.splice(A.indexOf(this._children,o),1);o.parent=null;if(o._storage){this._storage.delFromMap(o.id);o instanceof r&&o.delChildrenFromStorage(o._storage)}};
r.prototype.eachChild=function(o,v){for(var m=!!v,k=0;k<this._children.length;k++){var i=this._children[k];m?o.call(v,i):o(i)}};r.prototype.traverse=function(o,v){for(var m=!!v,k=0;k<this._children.length;k++){var i=this._children[k];m?o.call(v,i):o(i);i.type==="group"&&i.traverse(o,v)}};r.prototype.addChildrenToStorage=function(o){for(var v=0;v<this._children.length;v++){var m=this._children[v];o.addToMap(m);m.type==="group"&&m.addChildrenToStorage(o)}};r.prototype.delChildrenFromStorage=function(o){for(var v=
0;v<this._children.length;v++){var m=this._children[v];o.delFromMap(m.id);m.type==="group"&&m.delChildrenFromStorage(o)}};r.prototype.modSelf=function(){this.__dirty=true};A.merge(r.prototype,s.prototype,true);A.merge(r.prototype,q.prototype,true);return r});V("zrender/Storage",["require","./tool/util","./Group"],function(t){function x(r,o){if(r.zlevel==o.zlevel){if(r.z==o.z)return r.__renderidx-o.__renderidx;return r.z-o.z}return r.zlevel-o.zlevel}var A=t("./tool/util"),s=t("./Group"),q={hover:false,
normal:"down",update:false};t=function(){this._elements={};this._hoverElements=[];this._roots=[];this._shapeList=[];this._shapeListOffset=0};t.prototype.iterShape=function(r,o){o||(o=q);if(o.hover)for(var v=0,m=this._hoverElements.length;v<m;v++){var k=this._hoverElements[v];k.updateTransform();if(r(k))return this}o.update&&this.updateShapeList();switch(o.normal){case "down":for(m=this._shapeList.length;m--;)if(r(this._shapeList[m]))return this;break;default:v=0;for(m=this._shapeList.length;v<m;v++)if(r(this._shapeList[v]))return this;
break}return this};t.prototype.getHoverShapes=function(r){if(r){r=0;for(var o=this._hoverElements.length;r<o;r++)this._hoverElements[r].updateTransform()}return this._hoverElements};t.prototype.getShapeList=function(r){r&&this.updateShapeList();return this._shapeList};t.prototype.updateShapeList=function(){for(var r=this._shapeListOffset=0,o=this._roots.length;r<o;r++)this._updateAndAddShape(this._roots[r]);this._shapeList.length=this._shapeListOffset;r=0;for(o=this._shapeList.length;r<o;r++)this._shapeList[r].__renderidx=
r;this._shapeList.sort(x)};t.prototype._updateAndAddShape=function(r){if(!r.ignore){r.updateTransform();if(r.type=="group"){if(r.clipShape){r.clipShape.parent=r;r.clipShape.updateTransform();var o=r._children[0];if(o)o.__startClip=r.clipShape}for(o=0;o<r._children.length;o++){var v=r._children[o];v.__dirty=r.__dirty||v.__dirty;this._updateAndAddShape(v)}if(r.clipShape)if(o=this._shapeList[this._shapeListOffset-1])o.__stopClip=true;r.__dirty=false}else this._shapeList[this._shapeListOffset++]=r}};
t.prototype.mod=function(r,o){if(r=this._elements[r]){r.modSelf();if(o)if(o.parent||o._storage||o.__startClip){var v={};for(var m in o)if(!(m=="parent"||m=="_storage"||m=="__startClip"))if(o.hasOwnProperty(m))v[m]=o[m];A.merge(r,v,true)}else A.merge(r,o,true)}return this};t.prototype.drift=function(r,o,v){if(r=this._elements[r]){r.needTransform=true;if(!r.ondrift||r.ondrift&&!r.ondrift(o,v))r.drift(o,v)}return this};t.prototype.addHover=function(r){r.updateNeedTransform();this._hoverElements.push(r);
return this};t.prototype.delHover=function(){this._hoverElements=[];return this};t.prototype.hasHoverShape=function(){return this._hoverElements.length>0};t.prototype.addRoot=function(r){r instanceof s&&r.addChildrenToStorage(this);this.addToMap(r);this._roots.push(r)};t.prototype.delRoot=function(r){if(typeof r=="undefined"){for(var o=0;o<this._roots.length;o++){r=this._roots[o];r instanceof s&&r.delChildrenFromStorage(this)}this._elements={};this._hoverElements=[];this._roots=[]}else if(r instanceof
Array){o=0;for(var v=r.length;o<v;o++)this.delRoot(r[o])}else{o=typeof r=="string"?this._elements[r]:r;r=A.indexOf(this._roots,o);if(r>=0){this.delFromMap(o.id);this._roots.splice(r,1);o instanceof s&&o.delChildrenFromStorage(this)}}};t.prototype.addToMap=function(r){if(r instanceof s)r._storage=this;r.modSelf();this._elements[r.id]=r;return this};t.prototype.get=function(r){return this._elements[r]};t.prototype.delFromMap=function(r){var o=this._elements[r];if(o){delete this._elements[r];if(o instanceof
s)o._storage=null}return this};t.prototype.dispose=function(){this._elements=this._renderList=this._roots=this._hoverElements=null};return t});V("zrender/animation/easing",[],function(){var t={Linear:function(x){return x},QuadraticIn:function(x){return x*x},QuadraticOut:function(x){return x*(2-x)},QuadraticInOut:function(x){if((x*=2)<1)return 0.5*x*x;return-0.5*(--x*(x-2)-1)},CubicIn:function(x){return x*x*x},CubicOut:function(x){return--x*x*x+1},CubicInOut:function(x){if((x*=2)<1)return 0.5*x*x*
x;return 0.5*((x-=2)*x*x+2)},QuarticIn:function(x){return x*x*x*x},QuarticOut:function(x){return 1- --x*x*x*x},QuarticInOut:function(x){if((x*=2)<1)return 0.5*x*x*x*x;return-0.5*((x-=2)*x*x*x-2)},QuinticIn:function(x){return x*x*x*x*x},QuinticOut:function(x){return--x*x*x*x*x+1},QuinticInOut:function(x){if((x*=2)<1)return 0.5*x*x*x*x*x;return 0.5*((x-=2)*x*x*x*x+2)},SinusoidalIn:function(x){return 1-Math.cos(x*Math.PI/2)},SinusoidalOut:function(x){return Math.sin(x*Math.PI/2)},SinusoidalInOut:function(x){return 0.5*
(1-Math.cos(Math.PI*x))},ExponentialIn:function(x){return x===0?0:Math.pow(1024,x-1)},ExponentialOut:function(x){return x===1?1:1-Math.pow(2,-10*x)},ExponentialInOut:function(x){if(x===0)return 0;if(x===1)return 1;if((x*=2)<1)return 0.5*Math.pow(1024,x-1);return 0.5*(-Math.pow(2,-10*(x-1))+2)},CircularIn:function(x){return 1-Math.sqrt(1-x*x)},CircularOut:function(x){return Math.sqrt(1- --x*x)},CircularInOut:function(x){if((x*=2)<1)return-0.5*(Math.sqrt(1-x*x)-1);return 0.5*(Math.sqrt(1-(x-=2)*x)+
1)},ElasticIn:function(x){var A,s=0.1;if(x===0)return 0;if(x===1)return 1;if(!s||s<1){s=1;A=0.1}else A=0.4*Math.asin(1/s)/(2*Math.PI);return-(s*Math.pow(2,10*(x-=1))*Math.sin((x-A)*2*Math.PI/0.4))},ElasticOut:function(x){var A,s=0.1;if(x===0)return 0;if(x===1)return 1;if(!s||s<1){s=1;A=0.1}else A=0.4*Math.asin(1/s)/(2*Math.PI);return s*Math.pow(2,-10*x)*Math.sin((x-A)*2*Math.PI/0.4)+1},ElasticInOut:function(x){var A,s=0.1;if(x===0)return 0;if(x===1)return 1;if(!s||s<1){s=1;A=0.1}else A=0.4*Math.asin(1/
s)/(2*Math.PI);if((x*=2)<1)return-0.5*s*Math.pow(2,10*(x-=1))*Math.sin((x-A)*2*Math.PI/0.4);return s*Math.pow(2,-10*(x-=1))*Math.sin((x-A)*2*Math.PI/0.4)*0.5+1},BackIn:function(x){return x*x*(2.70158*x-1.70158)},BackOut:function(x){return--x*x*(2.70158*x+1.70158)+1},BackInOut:function(x){if((x*=2)<1)return 0.5*x*x*(3.5949095*x-2.5949095);return 0.5*((x-=2)*x*(3.5949095*x+2.5949095)+2)},BounceIn:function(x){return 1-t.BounceOut(1-x)},BounceOut:function(x){return x<1/2.75?7.5625*x*x:x<2/2.75?7.5625*
(x-=1.5/2.75)*x+0.75:x<2.5/2.75?7.5625*(x-=2.25/2.75)*x+0.9375:7.5625*(x-=2.625/2.75)*x+0.984375},BounceInOut:function(x){if(x<0.5)return t.BounceIn(x*2)*0.5;return t.BounceOut(x*2-1)*0.5+0.5}};return t});V("zrender/animation/Clip",["require","./easing"],function(t){function x(s){this._targetPool=s.target||{};if(!(this._targetPool instanceof Array))this._targetPool=[this._targetPool];this._life=s.life||1E3;this._delay=s.delay||0;this._startTime=(new Date).getTime()+this._delay;this._endTime=this._startTime+
this._life*1E3;this.loop=typeof s.loop=="undefined"?false:s.loop;this.gap=s.gap||0;this.easing=s.easing||"Linear";this.onframe=s.onframe;this.ondestroy=s.ondestroy;this.onrestart=s.onrestart}var A=t("./easing");x.prototype={step:function(s){s=(s-this._startTime)/this._life;if(!(s<0)){s=Math.min(s,1);var q=typeof this.easing=="string"?A[this.easing]:this.easing;this.fire("frame",typeof q==="function"?q(s):s);if(s==1){if(this.loop){this.restart();return"restart"}this._needsRemove=true;return"destroy"}return null}},
restart:function(){var s=((new Date).getTime()-this._startTime)%this._life;this._startTime=(new Date).getTime()-s+this.gap},fire:function(s,q){for(var r=0,o=this._targetPool.length;r<o;r++)this["on"+s]&&this["on"+s](this._targetPool[r],q)},constructor:x};return x});V("zrender/animation/Animation",["require","./Clip","../tool/color","../tool/util","../tool/event"],function(t){function x(e,h){return e[h]}function A(e,h,j){e[h]=j}function s(e,h,j){return(h-e)*j+e}function q(e,h,j,l,n){var p=e.length;
if(n==1)for(n=0;n<p;n++)l[n]=s(e[n],h[n],j);else{var w=e[0].length;for(n=0;n<p;n++)for(var B=0;B<w;B++)l[n][B]=s(e[n][B],h[n][B],j)}}function r(e){switch(typeof e){case "undefined":case "string":return false}return typeof e.length!=="undefined"}function o(e,h,j,l,n,p,w,B,y){var C=e.length;if(y==1)for(y=0;y<C;y++)B[y]=v(e[y],h[y],j[y],l[y],n,p,w);else{var z=e[0].length;for(y=0;y<C;y++)for(var u=0;u<z;u++)B[y][u]=v(e[y][u],h[y][u],j[y][u],l[y][u],n,p,w)}}function v(e,h,j,l,n,p,w){e=(j-e)*0.5;l=(l-h)*
0.5;return(2*(h-j)+e+l)*w+(-3*(h-j)-2*e-l)*p+e*n+h}function m(e){if(r(e)){var h=e.length;if(r(e[0])){for(var j=[],l=0;l<h;l++)j.push(c.call(e[l]));return j}else return c.call(e)}else return e}function k(e){e[0]=Math.floor(e[0]);e[1]=Math.floor(e[1]);e[2]=Math.floor(e[2]);return"rgba("+e.join(",")+")"}var i=t("./Clip"),f=t("../tool/color"),g=t("../tool/util"),d=t("../tool/event").Dispatcher,a=window.requestAnimationFrame||window.msRequestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||
function(e){setTimeout(e,16)},c=Array.prototype.slice;t=function(e){e=e||{};this.stage=e.stage||{};this.onframe=e.onframe||function(){};this._clips=[];this._running=false;this._time=0;d.call(this)};t.prototype={add:function(e){this._clips.push(e)},remove:function(e){e=g.indexOf(this._clips,e);e>=0&&this._clips.splice(e,1)},_update:function(){for(var e=(new Date).getTime(),h=e-this._time,j=this._clips,l=j.length,n=[],p=[],w=0;w<l;w++){var B=j[w],y=B.step(e);if(y){n.push(y);p.push(B)}}this.stage.update&&
this.stage.update();for(w=0;w<l;)if(j[w]._needsRemove){j[w]=j[l-1];j.pop();l--}else w++;l=n.length;for(w=0;w<l;w++)p[w].fire(n[w]);this._time=e;this.onframe(h);this.dispatch("frame",h)},start:function(){function e(){if(h._running){h._update();a(e)}}var h=this;this._running=true;this._time=(new Date).getTime();a(e)},stop:function(){this._running=false},clear:function(){this._clips=[]},animate:function(e,h){h=h||{};e=new b(e,h.loop,h.getter,h.setter);e.animation=this;return e},constructor:t};g.merge(t.prototype,
d.prototype,true);var b=function(e,h,j,l){this._tracks={};this._target=e;this._loop=h||false;this._getter=j||x;this._setter=l||A;this._delay=this._clipCount=0;this._doneList=[];this._onframeList=[];this._clipList=[]};b.prototype={when:function(e,h){for(var j in h){if(!this._tracks[j]){this._tracks[j]=[];e!==0&&this._tracks[j].push({time:0,value:m(this._getter(this._target,j))})}this._tracks[j].push({time:parseInt(e,10),value:h[j]})}return this},during:function(e){this._onframeList.push(e);return this},
start:function(e){var h=this,j=this._setter,l=this._getter,n=h._onframeList.length,p=e==="spline",w=function(){h._clipCount--;if(h._clipCount===0){h._tracks={};for(var C=h._doneList.length,z=0;z<C;z++)h._doneList[z].call(h)}},B=function(C,z){var u=C.length;if(u){var D=C[0].value,F=r(D),O=false,T=F&&r(D[0])?2:1;C.sort(function(da,H){return da.time-H.time});if(u){D=C[u-1].time;for(var N=[],Y=[],I=0;I<u;I++){N.push(C[I].time/D);var J=C[I].value;if(typeof J=="string"){J=f.toArray(J);if(J.length===0){J[0]=
J[1]=J[2]=0;J[3]=1}O=true}Y.push(J)}var U=0,Q=0,X,W,aa,$,R,ca;if(O)var ea=[0,0,0,0];C=new i({target:h._target,life:D,loop:h._loop,delay:h._delay,onframe:function(da,H){if(H<Q){for(I=X=Math.min(U+1,u-1);I>=0;I--)if(N[I]<=H)break;I=Math.min(I,u-2)}else{for(I=U;I<u;I++)if(N[I]>H)break;I=Math.min(I-1,u-2)}U=I;Q=H;var L=N[I+1]-N[I];if(L!==0){W=(H-N[I])/L;if(p){$=Y[I];aa=Y[I===0?I:I-1];R=Y[I>u-2?u-1:I+1];ca=Y[I>u-3?u-1:I+2];if(F)o(aa,$,R,ca,W,W*W,W*W*W,l(da,z),T);else{if(O){o(aa,$,R,ca,W,W*W,W*W*W,ea,1);
L=k(ea)}else L=v(aa,$,R,ca,W,W*W,W*W*W);j(da,z,L)}}else if(F)q(Y[I],Y[I+1],W,l(da,z),T);else{if(O){q(Y[I],Y[I+1],W,ea,1);L=k(ea)}else L=s(Y[I],Y[I+1],W);j(da,z,L)}for(I=0;I<n;I++)h._onframeList[I](da,H)}},ondestroy:w});if(e&&e!=="spline")C.easing=e;h._clipList.push(C);h._clipCount++;h.animation.add(C)}}};for(var y in this._tracks)B(this._tracks[y],y);return this},stop:function(){for(var e=0;e<this._clipList.length;e++)this.animation.remove(this._clipList[e]);this._clipList=[]},delay:function(e){this._delay=
e;return this},done:function(e){this._doneList.push(e);return this}};return t});V("zrender/zrender",["require","./dep/excanvas","./tool/util","./tool/log","./tool/guid","./Handler","./Painter","./Storage","./animation/Animation","./tool/env"],function(t){function x(g){return function(){for(var d=g.animatingElements,a=0,c=d.length;a<c;a++)g.storage.mod(d[a].id);if(d.length||g._needsRefreshNextFrame)g.refresh()}}t("./dep/excanvas");var A=t("./tool/util"),s=t("./tool/log"),q=t("./tool/guid"),r=t("./Handler"),
o=t("./Painter"),v=t("./Storage"),m=t("./animation/Animation"),k={},i={};i.version="2.0.4";i.init=function(g){g=new f(q(),g);return k[g.id]=g};i.dispose=function(g){if(g)g.dispose();else{for(var d in k)k[d].dispose();k={}}return i};i.getInstance=function(g){return k[g]};i.delInstance=function(g){delete k[g];return i};var f=function(g,d){this.id=g;this.env=t("./tool/env");this.storage=new v;this.painter=new o(d,this.storage);this.handler=new r(d,this.storage,this.painter);this.animatingElements=[];
this.animation=new m({stage:{update:x(this)}});this.animation.start();this._needsRefreshNextFrame=false};f.prototype.getId=function(){return this.id};f.prototype.addShape=function(g){this.storage.addRoot(g);return this};f.prototype.addGroup=function(g){this.storage.addRoot(g);return this};f.prototype.delShape=function(g){this.storage.delRoot(g);return this};f.prototype.delGroup=function(g){this.storage.delRoot(g);return this};f.prototype.modShape=function(g,d){this.storage.mod(g,d);return this};f.prototype.modGroup=
function(g,d){this.storage.mod(g,d);return this};f.prototype.modLayer=function(g,d){this.painter.modLayer(g,d);return this};f.prototype.addHoverShape=function(g){this.storage.addHover(g);return this};f.prototype.render=function(g){this.painter.render(g);this._needsRefreshNextFrame=false;return this};f.prototype.refresh=function(g){this.painter.refresh(g);this._needsRefreshNextFrame=false;return this};f.prototype.refreshNextFrame=function(){this._needsRefreshNextFrame=true;return this};f.prototype.refreshHover=
function(g){this.painter.refreshHover(g);return this};f.prototype.refreshShapes=function(g,d){this.painter.refreshShapes(g,d);return this};f.prototype.resize=function(){this.painter.resize();return this};f.prototype.animate=function(g,d,a){if(typeof g==="string")g=this.storage.get(g);if(g){var c;if(d){for(var b=d.split("."),e=g,h=0,j=b.length;h<j;h++)if(e)e=e[b[h]];if(e)c=e}else c=g;if(c){var l=this.animatingElements;if(typeof g.__aniCount==="undefined")g.__aniCount=0;g.__aniCount===0&&l.push(g);
g.__aniCount++;return this.animation.animate(c,{loop:a}).done(function(){g.__aniCount--;if(g.__aniCount===0){var n=A.indexOf(l,g);l.splice(n,1)}})}else s('Property "'+d+'" is not existed in element '+g.id)}else s("Element not existed")};f.prototype.clearAnimation=function(){this.animation.clear()};f.prototype.showLoading=function(g){this.painter.showLoading(g);return this};f.prototype.hideLoading=function(){this.painter.hideLoading();return this};f.prototype.getWidth=function(){return this.painter.getWidth()};
f.prototype.getHeight=function(){return this.painter.getHeight()};f.prototype.toDataURL=function(g,d,a){return this.painter.toDataURL(g,d,a)};f.prototype.shapeToImage=function(g,d,a){return this.painter.shapeToImage(q(),g,d,a)};f.prototype.on=function(g,d){this.handler.on(g,d);return this};f.prototype.un=function(g,d){this.handler.un(g,d);return this};f.prototype.trigger=function(g,d){this.handler.trigger(g,d);return this};f.prototype.clear=function(){this.storage.delRoot();this.painter.clear();return this};
f.prototype.dispose=function(){this.animation.stop();this.clear();this.storage.dispose();this.painter.dispose();this.handler.dispose();this.animation=this.animatingElements=this.storage=this.painter=this.handler=null;i.delInstance(this.id)};return i});V("zrender",["zrender/zrender"],function(t){return t});V("echarts/util/ecQuery",["zrender/tool/util"],function(){function t(q,r){if(typeof q!="undefined"){if(!r)return q;r=r.split(".");for(var o=r.length,v=0;v<o;){q=q[r[v]];if(typeof q=="undefined")return;
v++}return q}}function x(q,r){for(var o,v=0,m=q.length;v<m;v++){o=t(q[v],r);if(typeof o!="undefined")return o}}function A(q,r){for(var o,v=q.length;v--;){var m=t(q[v],r);if(typeof m!="undefined")if(typeof o=="undefined")o=s.clone(m);else s.merge(o,m,true)}return o}var s=ka("zrender/tool/util");return{query:t,deepQuery:x,deepMerge:A}});V("echarts/util/number",[],function(){function t(r){return r.replace(/^\s+/,"").replace(/\s+$/,"")}function x(r,o){if(typeof r==="string"){if(t(r).match(/%$/))return parseFloat(r)/
100*o;return parseFloat(r)}return r}function A(r,o){return[x(o[0],r.getWidth()),x(o[1],r.getHeight())]}function s(r,o){o instanceof Array||(o=[0,o]);r=Math.min(r.getWidth(),r.getHeight())/2;return[x(o[0],r),x(o[1],r)]}function q(r){if(isNaN(r))return"-";r=(r+"").split(".");return r[0].replace(/(\d{1,3})(?=(?:\d{3})+(?!\d))/g,"$1,")+(r.length>1?"."+r[1]:"")}return{parsePercent:x,parseCenter:A,parseRadius:s,addCommas:q}});V("echarts/component/base",["require","../config","../util/ecQuery","../util/number",
"zrender/tool/util","zrender/tool/env"],function(t){function x(o,v,m,k,i){this.ecTheme=o;this.messageCenter=v;this.zr=m;this.option=k;this.series=k.series;this.myChart=i;this.component=i.component;this._zlevelBase=this.getZlevelBase();this.shapeList=[];this.effectList=[];var f=this;f.hoverConnect=function(g){var d=(g.target||{}).hoverConnect;if(d){var a=10,c;if(d instanceof Array)for(var b=0,e=d.length;b<e;b++){c=f.getShapeById(d[b]);f.zr.addHoverShape(c);a=Math.min(a,c.zlevel)}else if(c=f.getShapeById(d)){f.zr.addHoverShape(c);
a=Math.min(a,c.zlevel)}a<g.target.zlevel&&f.zr.addHoverShape(g.target)}}}var A=t("../config"),s=t("../util/ecQuery"),q=t("../util/number"),r=t("zrender/tool/util");x.prototype={canvasSupported:t("zrender/tool/env").canvasSupported,getZlevelBase:function(o){o=o||this.type+"";switch(o){case A.COMPONENT_TYPE_GRID:case A.COMPONENT_TYPE_AXIS_CATEGORY:case A.COMPONENT_TYPE_AXIS_VALUE:case A.COMPONENT_TYPE_POLAR:return 0;case A.CHART_TYPE_LINE:case A.CHART_TYPE_BAR:case A.CHART_TYPE_SCATTER:case A.CHART_TYPE_PIE:case A.CHART_TYPE_RADAR:case A.CHART_TYPE_MAP:case A.CHART_TYPE_K:case A.CHART_TYPE_CHORD:case A.CHART_TYPE_GUAGE:case A.CHART_TYPE_FUNNEL:return 2;
case A.COMPONENT_TYPE_LEGEND:case A.COMPONENT_TYPE_DATARANGE:case A.COMPONENT_TYPE_DATAZOOM:case A.COMPONENT_TYPE_TIMELINE:case A.COMPONENT_TYPE_ROAMCONTROLLER:return 4;case A.CHART_TYPE_ISLAND:return 5;case A.COMPONENT_TYPE_TOOLBOX:case A.COMPONENT_TYPE_TITLE:return 6;case A.COMPONENT_TYPE_TOOLTIP:return 8;default:return 0}},reformOption:function(o){return r.merge(o||{},r.clone(this.ecTheme[this.type]||{}))},reformCssArray:function(o){if(o instanceof Array)switch(o.length+""){case "4":return o;case "3":return[o[0],
o[1],o[2],o[1]];case "2":return[o[0],o[1],o[0],o[1]];case "1":return[o[0],o[0],o[0],o[0]];case "0":return[0,0,0,0]}else return[o,o,o,o]},getShapeById:function(o){for(var v=0,m=this.shapeList.length;v<m;v++)if(this.shapeList[v].id===o)return this.shapeList[v];return null},getFont:function(o){o=r.merge(r.clone(o)||{},this.ecTheme.textStyle);return o.fontStyle+" "+o.fontWeight+" "+o.fontSize+"px "+o.fontFamily},getItemStyleColor:function(o,v,m,k){return typeof o==="function"?o(v,m,k):o},subPixelOptimize:function(o,
v){return o=v%2===1?Math.floor(o)+0.5:Math.round(o)},resize:function(){this.refresh&&this.refresh();this.clearEffectShape&&this.clearEffectShape(true);var o=this;setTimeout(function(){o.animationEffect&&o.animationEffect()},200)},clear:function(){this.clearEffectShape&&this.clearEffectShape();this.zr&&this.zr.delShape(this.shapeList);this.shapeList=[]},dispose:function(){this.clear();this.effectList=this.shapeList=null},query:s.query,deepQuery:s.deepQuery,deepMerge:s.deepMerge,parsePercent:q.parsePercent,
parseCenter:q.parseCenter,parseRadius:q.parseRadius,numAddCommas:q.addCommas};return x});V("zrender/tool/math",[],function(){function t(r,o){return Math.sin(o?r*q:r)}function x(r,o){return Math.cos(o?r*q:r)}function A(r){return r*q}function s(r){return r/q}var q=Math.PI/180;return{sin:t,cos:x,degreeToRadian:A,radianToDegree:s}});V("zrender/shape/Star",["require","../tool/math","./Base","../tool/util"],function(t){var x=t("../tool/math"),A=x.sin,s=x.cos,q=Math.PI,r=t("./Base");x=function(o){r.call(this,
o)};x.prototype={type:"star",buildPath:function(o,v){var m=v.n;if(!(!m||m<2)){var k=v.x,i=v.y,f=v.r,g=v.r0;if(g==null)g=m>4?f*s(2*q/m)/s(q/m):f/3;var d=q/m,a=-q/2,c=k+f*s(a),b=i+f*A(a);a+=d;v=v.pointList=[];v.push([c,b]);var e=0;m=m*2-1;for(var h;e<m;e++){h=e%2===0?g:f;v.push([k+h*s(a),i+h*A(a)]);a+=d}v.push([c,b]);o.moveTo(v[0][0],v[0][1]);for(e=0;e<v.length;e++)o.lineTo(v[e][0],v[e][1]);o.closePath()}},getRect:function(o){if(o.__rect)return o.__rect;var v;v=o.brushType=="stroke"||o.brushType=="fill"?
o.lineWidth||1:0;o.__rect={x:Math.round(o.x-o.r-v/2),y:Math.round(o.y-o.r-v/2),width:o.r*2+v,height:o.r*2+v};return o.__rect}};t("../tool/util").inherits(x,r);return x});V("zrender/shape/Heart",["require","./Base","../tool/util"],function(t){var x=t("./Base"),A=function(s){x.call(this,s)};A.prototype={type:"heart",buildPath:function(s,q){s.moveTo(q.x,q.y);s.bezierCurveTo(q.x+q.a/2,q.y-q.b*2/3,q.x+q.a*2,q.y+q.b/3,q.x,q.y+q.b);s.bezierCurveTo(q.x-q.a*2,q.y+q.b/3,q.x-q.a/2,q.y-q.b*2/3,q.x,q.y);s.closePath()},
getRect:function(s){if(s.__rect)return s.__rect;var q;q=s.brushType=="stroke"||s.brushType=="fill"?s.lineWidth||1:0;s.__rect={x:Math.round(s.x-s.a-q/2),y:Math.round(s.y-s.b/4-q/2),width:s.a*2+q,height:s.b*5/4+q};return s.__rect}};t("../tool/util").inherits(A,x);return A});V("zrender/shape/Droplet",["require","./Base","../tool/util"],function(t){var x=t("./Base"),A=function(s){x.call(this,s)};A.prototype={type:"droplet",buildPath:function(s,q){s.moveTo(q.x,q.y+q.a);s.bezierCurveTo(q.x+q.a,q.y+q.a,
q.x+q.a*3/2,q.y-q.a/3,q.x,q.y-q.b);s.bezierCurveTo(q.x-q.a*3/2,q.y-q.a/3,q.x-q.a,q.y+q.a,q.x,q.y+q.a);s.closePath()},getRect:function(s){if(s.__rect)return s.__rect;var q;q=s.brushType=="stroke"||s.brushType=="fill"?s.lineWidth||1:0;s.__rect={x:Math.round(s.x-s.a-q/2),y:Math.round(s.y-s.b-q/2),width:s.a*2+q,height:s.a+s.b+q};return s.__rect}};t("../tool/util").inherits(A,x);return A});V("echarts/util/shape/Icon",["require","zrender/tool/util","zrender/shape/Star","zrender/shape/Heart","zrender/shape/Droplet",
"zrender/shape/Image","zrender/shape/Base"],function(t){function x(z,u){var D=u.width/16,F=u.height/16;z.moveTo(u.x,u.y+u.height);z.lineTo(u.x+5*D,u.y+14*F);z.lineTo(u.x+u.width,u.y+3*F);z.lineTo(u.x+13*D,u.y);z.lineTo(u.x+2*D,u.y+11*F);z.lineTo(u.x,u.y+u.height);z.moveTo(u.x+6*D,u.y+10*F);z.lineTo(u.x+14*D,u.y+2*F);z.moveTo(u.x+10*D,u.y+13*F);z.lineTo(u.x+u.width,u.y+13*F);z.moveTo(u.x+13*D,u.y+10*F);z.lineTo(u.x+13*D,u.y+u.height)}function A(z,u){var D=u.width/16,F=u.height/16;z.moveTo(u.x,u.y+
u.height);z.lineTo(u.x+5*D,u.y+14*F);z.lineTo(u.x+u.width,u.y+3*F);z.lineTo(u.x+13*D,u.y);z.lineTo(u.x+2*D,u.y+11*F);z.lineTo(u.x,u.y+u.height);z.moveTo(u.x+6*D,u.y+10*F);z.lineTo(u.x+14*D,u.y+2*F);z.moveTo(u.x+10*D,u.y+13*F);z.lineTo(u.x+u.width,u.y+13*F)}function s(z,u){var D=u.width/16,F=u.height/16;z.moveTo(u.x+4*D,u.y+15*F);z.lineTo(u.x+9*D,u.y+13*F);z.lineTo(u.x+14*D,u.y+8*F);z.lineTo(u.x+11*D,u.y+5*F);z.lineTo(u.x+6*D,u.y+10*F);z.lineTo(u.x+4*D,u.y+15*F);z.moveTo(u.x+5*D,u.y);z.lineTo(u.x+
11*D,u.y);z.moveTo(u.x+5*D,u.y+F);z.lineTo(u.x+11*D,u.y+F);z.moveTo(u.x,u.y+2*F);z.lineTo(u.x+u.width,u.y+2*F);z.moveTo(u.x,u.y+5*F);z.lineTo(u.x+3*D,u.y+u.height);z.lineTo(u.x+13*D,u.y+u.height);z.lineTo(u.x+u.width,u.y+5*F)}function q(z,u){var D=u.width/16,F=u.height/16;z.moveTo(u.x,u.y+3*F);z.lineTo(u.x+6*D,u.y+3*F);z.moveTo(u.x+3*D,u.y);z.lineTo(u.x+3*D,u.y+6*F);z.moveTo(u.x+3*D,u.y+8*F);z.lineTo(u.x+3*D,u.y+u.height);z.lineTo(u.x+u.width,u.y+u.height);z.lineTo(u.x+u.width,u.y+3*F);z.lineTo(u.x+
8*D,u.y+3*F)}function r(z,u){var D=u.width/16,F=u.height/16;z.moveTo(u.x+6*D,u.y);z.lineTo(u.x+2*D,u.y+3*F);z.lineTo(u.x+6*D,u.y+6*F);z.moveTo(u.x+2*D,u.y+3*F);z.lineTo(u.x+14*D,u.y+3*F);z.lineTo(u.x+14*D,u.y+11*F);z.moveTo(u.x+2*D,u.y+5*F);z.lineTo(u.x+2*D,u.y+13*F);z.lineTo(u.x+14*D,u.y+13*F);z.moveTo(u.x+10*D,u.y+10*F);z.lineTo(u.x+14*D,u.y+13*F);z.lineTo(u.x+10*D,u.y+u.height)}function o(z,u){var D=u.width/16,F=u.height/16,O=u.width/2;z.lineWidth=1.5;z.arc(u.x+O,u.y+O,O-D,0,Math.PI*2/3);z.moveTo(u.x+
3*D,u.y+u.height);z.lineTo(u.x+0*D,u.y+12*F);z.lineTo(u.x+5*D,u.y+11*F);z.moveTo(u.x,u.y+8*F);z.arc(u.x+O,u.y+O,O-D,Math.PI,Math.PI*5/3);z.moveTo(u.x+13*D,u.y);z.lineTo(u.x+u.width,u.y+4*F);z.lineTo(u.x+11*D,u.y+5*F)}function v(z,u){var D=u.width/16,F=u.height/16;z.moveTo(u.x,u.y);z.lineTo(u.x,u.y+u.height);z.lineTo(u.x+u.width,u.y+u.height);z.moveTo(u.x+2*D,u.y+14*F);z.lineTo(u.x+7*D,u.y+6*F);z.lineTo(u.x+11*D,u.y+11*F);z.lineTo(u.x+15*D,u.y+2*F)}function m(z,u){var D=u.width/16,F=u.height/16;z.moveTo(u.x,
u.y);z.lineTo(u.x,u.y+u.height);z.lineTo(u.x+u.width,u.y+u.height);z.moveTo(u.x+3*D,u.y+14*F);z.lineTo(u.x+3*D,u.y+6*F);z.lineTo(u.x+4*D,u.y+6*F);z.lineTo(u.x+4*D,u.y+14*F);z.moveTo(u.x+7*D,u.y+14*F);z.lineTo(u.x+7*D,u.y+2*F);z.lineTo(u.x+8*D,u.y+2*F);z.lineTo(u.x+8*D,u.y+14*F);z.moveTo(u.x+11*D,u.y+14*F);z.lineTo(u.x+11*D,u.y+9*F);z.lineTo(u.x+12*D,u.y+9*F);z.lineTo(u.x+12*D,u.y+14*F)}function k(z,u){var D=u.x,F=u.y,O=u.width;u=Math.round(u.height/3);for(var T=3;T--;)z.rect(D,F+u*T+2,O,2)}function i(z,
u){var D=u.x,F=u.y,O=u.height;u=Math.round(u.width/3);for(var T=3;T--;)z.rect(D+u*T,F,2,O)}function f(z,u){var D=u.width/16;z.moveTo(u.x+D,u.y);z.lineTo(u.x+D,u.y+u.height);z.lineTo(u.x+15*D,u.y+u.height);z.lineTo(u.x+15*D,u.y);z.lineTo(u.x+D,u.y);z.moveTo(u.x+3*D,u.y+3*D);z.lineTo(u.x+13*D,u.y+3*D);z.moveTo(u.x+3*D,u.y+6*D);z.lineTo(u.x+13*D,u.y+6*D);z.moveTo(u.x+3*D,u.y+9*D);z.lineTo(u.x+13*D,u.y+9*D);z.moveTo(u.x+3*D,u.y+12*D);z.lineTo(u.x+9*D,u.y+12*D)}function g(z,u){var D=u.width/16,F=u.height/
16;z.moveTo(u.x,u.y);z.lineTo(u.x,u.y+u.height);z.lineTo(u.x+u.width,u.y+u.height);z.lineTo(u.x+u.width,u.y);z.lineTo(u.x,u.y);z.moveTo(u.x+4*D,u.y);z.lineTo(u.x+4*D,u.y+8*F);z.lineTo(u.x+12*D,u.y+8*F);z.lineTo(u.x+12*D,u.y);z.moveTo(u.x+6*D,u.y+11*F);z.lineTo(u.x+6*D,u.y+13*F);z.lineTo(u.x+10*D,u.y+13*F);z.lineTo(u.x+10*D,u.y+11*F);z.lineTo(u.x+6*D,u.y+11*F)}function d(z,u){var D=u.x,F=u.y,O=u.width;u=u.height;z.moveTo(D,F+u/2);z.lineTo(D+O,F+u/2);z.moveTo(D+O/2,F);z.lineTo(D+O/2,F+u)}function a(z,
u){var D=u.width/2,F=u.height/2,O=Math.min(D,F);z.moveTo(u.x+D+O,u.y+F);z.arc(u.x+D,u.y+F,O,0,Math.PI*2);z.closePath()}function c(z,u){z.rect(u.x,u.y,u.width,u.height);z.closePath()}function b(z,u){var D=u.width/2,F=u.height/2,O=u.x+D;u=u.y+F;D=Math.min(D,F);z.moveTo(O,u-D);z.lineTo(O+D,u+D);z.lineTo(O-D,u+D);z.lineTo(O,u-D);z.closePath()}function e(z,u){var D=u.width/2,F=u.height/2,O=u.x+D;u=u.y+F;D=Math.min(D,F);z.moveTo(O,u-D);z.lineTo(O+D,u);z.lineTo(O,u+D);z.lineTo(O-D,u);z.lineTo(O,u-D);z.closePath()}
function h(z,u){var D=u.x,F=u.y,O=u.width/16;z.moveTo(D+8*O,F);z.lineTo(D+O,F+u.height);z.lineTo(D+8*O,F+u.height/4*3);z.lineTo(D+15*O,F+u.height);z.lineTo(D+8*O,F);z.closePath()}function j(z,u){var D=t("zrender/shape/Star"),F=u.width/2,O=u.height/2;D.prototype.buildPath(z,{x:u.x+F,y:u.y+O,r:Math.min(F,O),n:u.n||5})}function l(z,u){t("zrender/shape/Heart").prototype.buildPath(z,{x:u.x+u.width/2,y:u.y+u.height*0.2,a:u.width/2,b:u.height*0.8})}function n(z,u){t("zrender/shape/Droplet").prototype.buildPath(z,
{x:u.x+u.width*0.5,y:u.y+u.height*0.5,a:u.width*0.5,b:u.height*0.8})}function p(z,u){var D=u.x,F=u.y-u.height/2*1.5,O=u.width/2;u=u.height/2;var T=Math.min(O,u);z.arc(D+O,F+u,T,Math.PI/5*4,Math.PI/5);z.lineTo(D+O,F+u+T*1.5);z.closePath()}function w(z,u){setTimeout(function(){(new (t("zrender/shape/Image"))({style:u})).brush(z)},100)}function B(z){C.call(this,z)}var y=t("zrender/tool/util"),C=t("zrender/shape/Base");B.prototype={type:"icon",iconLibrary:{mark:x,markUndo:A,markClear:s,dataZoom:q,dataZoomReset:r,
restore:o,lineChart:v,barChart:m,stackChart:k,tiledChart:i,dataView:f,saveAsImage:g,cross:d,circle:a,rectangle:c,triangle:b,diamond:e,arrow:h,star:j,heart:l,droplet:n,pin:p,image:w},buildPath:function(z,u){if(this.iconLibrary[u.iconType])this.iconLibrary[u.iconType](z,u);else{z.moveTo(u.x,u.y);z.lineTo(u.x+u.width,u.y);z.lineTo(u.x+u.width,u.y+u.height);z.lineTo(u.x,u.y+u.height);z.lineTo(u.x,u.y);z.closePath()}},getRect:function(z){if(z.__rect)return z.__rect;z.__rect={x:Math.round(z.x),y:Math.round(z.y-
(z.iconType=="pin"?z.height/2*1.5:0)),width:z.width,height:z.height};return z.__rect},isCover:function(z,u){u=this.getTansform(z,u);z=u[0];u=u[1];var D=this.style.__rect;if(!D)D=this.style.__rect=this.getRect(this.style);var F=D.height<8||D.width<8?4:0;return z>=D.x-F&&z<=D.x+D.width+F&&u>=D.y-F&&u<=D.y+D.height+F?true:false}};y.inherits(B,C);return B});V("zrender/shape/util/dashedLineTo",[],function(){var t=[5,5];return function(x,A,s,q,r,o){if(x.setLineDash){t[0]=t[1]=o;x.setLineDash(t);x.moveTo(A,
s)}else{o=typeof o!="number"?5:o;var v=q-A,m=r-s;o=Math.floor(Math.sqrt(v*v+m*m)/o);v/=o;m/=o;for(var k=true,i=0;i<o;++i){k?x.moveTo(A,s):x.lineTo(A,s);k=!k;A+=v;s+=m}}x.lineTo(q,r)}});V("zrender/shape/Line",["require","./Base","./util/dashedLineTo","../tool/util"],function(t){var x=t("./Base"),A=t("./util/dashedLineTo"),s=function(q){this.brushTypeOnly="stroke";this.textPosition="end";x.call(this,q)};s.prototype={type:"line",buildPath:function(q,r){if(!r.lineType||r.lineType=="solid"){q.moveTo(r.xStart,
r.yStart);q.lineTo(r.xEnd,r.yEnd)}else if(r.lineType=="dashed"||r.lineType=="dotted")A(q,r.xStart,r.yStart,r.xEnd,r.yEnd,(r.lineWidth||1)*(r.lineType=="dashed"?5:1))},getRect:function(q){if(q.__rect)return q.__rect;var r=q.lineWidth||1;q.__rect={x:Math.min(q.xStart,q.xEnd)-r,y:Math.min(q.yStart,q.yEnd)-r,width:Math.abs(q.xStart-q.xEnd)+r,height:Math.abs(q.yStart-q.yEnd)+r};return q.__rect}};t("../tool/util").inherits(s,x);return s});V("zrender/shape/util/smoothSpline",["require","../../tool/vector"],
function(t){function x(s,q,r,o,v,m,k){s=(r-s)*0.5;o=(o-q)*0.5;return(2*(q-r)+s+o)*k+(-3*(q-r)-2*s-o)*m+s*v+q}var A=t("../../tool/vector");return function(s,q){for(var r=s.length,o=[],v=0,m=1;m<r;m++)v+=A.distance(s[m-1],s[m]);v=v/5;v=v<r?r:v;for(m=0;m<v;m++){var k=m/(v-1)*(q?r:r-1),i=Math.floor(k);k=k-i;var f,g=s[i%r],d;if(q){f=s[(i-1+r)%r];d=s[(i+1)%r];i=s[(i+2)%r]}else{f=s[i===0?i:i-1];d=s[i>r-2?r-1:i+1];i=s[i>r-3?r-1:i+2]}var a=k*k,c=k*a;o.push([x(f[0],g[0],d[0],i[0],k,a,c),x(f[1],g[1],d[1],i[1],
k,a,c)])}return o}});V("zrender/shape/util/smoothBezier",["require","../../tool/vector"],function(t){var x=t("../../tool/vector");return function(A,s,q,r){var o=[],v=[],m=[],k=[],i,f,g=!!r,d,a;if(g){d=[Infinity,Infinity];a=[-Infinity,-Infinity];for(var c=0,b=A.length;c<b;c++){x.min(d,d,A[c]);x.max(a,a,A[c])}x.min(d,d,r[0]);x.max(a,a,r[1])}c=0;for(b=A.length;c<b;c++){r=A[c];if(q){i=A[c?c-1:b-1];f=A[(c+1)%b]}else if(c===0||c===b-1){o.push(A[c]);continue}else{i=A[c-1];f=A[c+1]}x.sub(v,f,i);x.scale(v,
v,s);i=x.distance(r,i);f=x.distance(r,f);var e=i+f;if(e!==0){i/=e;f/=e}x.scale(m,v,-i);x.scale(k,v,f);i=x.add([],r,m);r=x.add([],r,k);if(g){x.max(i,i,d);x.min(i,i,a);x.max(r,r,d);x.min(r,r,a)}o.push(i);o.push(r)}q&&o.push(o.shift());return o}});V("zrender/shape/Polygon",["require","./Base","./util/smoothSpline","./util/smoothBezier","./util/dashedLineTo","../tool/util"],function(t){var x=t("./Base"),A=t("./util/smoothSpline"),s=t("./util/smoothBezier"),q=t("./util/dashedLineTo"),r=function(o){x.call(this,
o)};r.prototype={type:"polygon",brush:function(o,v){var m=this.style;if(v)m=this.getHighlightStyle(m,this.highlightStyle||{});o.save();this.setContext(o,m);this.setTransform(o);v=false;if(m.brushType=="fill"||m.brushType=="both"||typeof m.brushType=="undefined"){o.beginPath();if(m.lineType=="dashed"||m.lineType=="dotted"){this.buildPath(o,{lineType:"solid",lineWidth:m.lineWidth,pointList:m.pointList});v=false}else{this.buildPath(o,m);v=true}o.closePath();o.fill()}if(m.lineWidth>0&&(m.brushType=="stroke"||
m.brushType=="both")){if(!v){o.beginPath();this.buildPath(o,m)}o.stroke()}this.drawText(o,m,this.style);o.restore()},buildPath:function(o,v){var m=v.pointList;if(!(m.length<2))if(v.smooth&&v.smooth!=="spline"){var k=s(m,v.smooth,true,v.smoothConstraint);o.moveTo(m[0][0],m[0][1]);var i,f,g,d=m.length;for(v=0;v<d;v++){i=k[v*2];f=k[v*2+1];g=m[(v+1)%d];o.bezierCurveTo(i[0],i[1],f[0],f[1],g[0],g[1])}}else{if(v.smooth==="spline")m=A(m,true);if(!v.lineType||v.lineType=="solid"){o.moveTo(m[0][0],m[0][1]);
v=1;for(i=m.length;v<i;v++)o.lineTo(m[v][0],m[v][1]);o.lineTo(m[0][0],m[0][1])}else if(v.lineType=="dashed"||v.lineType=="dotted"){k=v._dashLength||(v.lineWidth||1)*(v.lineType=="dashed"?5:1);v._dashLength=k;o.moveTo(m[0][0],m[0][1]);v=1;for(i=m.length;v<i;v++)q(o,m[v-1][0],m[v-1][1],m[v][0],m[v][1],k);q(o,m[m.length-1][0],m[m.length-1][1],m[0][0],m[0][1],k)}}},getRect:function(o){if(o.__rect)return o.__rect;for(var v=Number.MAX_VALUE,m=Number.MIN_VALUE,k=Number.MAX_VALUE,i=Number.MIN_VALUE,f=o.pointList,
g=0,d=f.length;g<d;g++){if(f[g][0]<v)v=f[g][0];if(f[g][0]>m)m=f[g][0];if(f[g][1]<k)k=f[g][1];if(f[g][1]>i)i=f[g][1]}f=o.brushType=="stroke"||o.brushType=="fill"?o.lineWidth||1:0;o.__rect={x:Math.round(v-f/2),y:Math.round(k-f/2),width:m-v+f,height:i-k+f};return o.__rect}};t("../tool/util").inherits(r,x);return r});V("zrender/shape/BrokenLine",["require","./Base","./util/smoothSpline","./util/smoothBezier","./util/dashedLineTo","./Polygon","../tool/util"],function(t){var x=t("./Base"),A=t("./util/smoothSpline"),
s=t("./util/smoothBezier"),q=t("./util/dashedLineTo"),r=function(o){this.brushTypeOnly="stroke";this.textPosition="end";x.call(this,o)};r.prototype={type:"broken-line",buildPath:function(o,v){var m=v.pointList;if(!(m.length<2)){var k=Math.min(v.pointList.length,Math.round(v.pointListLength||v.pointList.length));if(v.smooth&&v.smooth!=="spline"){var i=s(m,v.smooth,false,v.smoothConstraint);o.moveTo(m[0][0],m[0][1]);var f,g,d;for(v=0;v<k-1;v++){f=i[v*2];g=i[v*2+1];d=m[v+1];o.bezierCurveTo(f[0],f[1],
g[0],g[1],d[0],d[1])}}else{if(v.smooth==="spline"){m=A(m);k=m.length}if(!v.lineType||v.lineType=="solid"){o.moveTo(m[0][0],m[0][1]);for(v=1;v<k;v++)o.lineTo(m[v][0],m[v][1])}else if(v.lineType=="dashed"||v.lineType=="dotted"){i=(v.lineWidth||1)*(v.lineType=="dashed"?5:1);o.moveTo(m[0][0],m[0][1]);for(v=1;v<k;v++)q(o,m[v-1][0],m[v-1][1],m[v][0],m[v][1],i)}}}},getRect:function(o){return t("./Polygon").prototype.getRect(o)}};t("../tool/util").inherits(r,x);return r});V("echarts/util/shape/MarkLine",
["require","zrender/shape/Base","./Icon","zrender/shape/Line","zrender/shape/BrokenLine","zrender/tool/matrix","zrender/tool/area","zrender/shape/util/dashedLineTo","zrender/shape/util/smoothSpline","zrender/tool/util"],function(t){function x(i){A.call(this,i)}var A=t("zrender/shape/Base"),s=t("./Icon"),q=new (t("zrender/shape/Line"))({}),r=new (t("zrender/shape/BrokenLine"))({}),o=t("zrender/tool/matrix"),v=t("zrender/tool/area"),m=t("zrender/shape/util/dashedLineTo"),k=t("zrender/shape/util/smoothSpline");
t=t("zrender/tool/util");x.prototype={type:"mark-line",brush:function(i,f){var g=this.style;if(f)g=this.getHighlightStyle(g,this.highlightStyle||{});i.save();this.setContext(i,g);this.setTransform(i);i.save();i.beginPath();this.buildLinePath(i,g);i.stroke();i.restore();this.brushSymbol(i,g,0);this.brushSymbol(i,g,1);this.drawText(i,g,this.style);i.restore()},buildLinePath:function(i,f){var g=f.pointList||this.getPointList(f);f.pointList=g;var d=Math.min(f.pointList.length,Math.round(f.pointListLength||
f.pointList.length));if(!f.lineType||f.lineType=="solid"){i.moveTo(g[0][0],g[0][1]);for(f=1;f<d;f++)i.lineTo(g[f][0],g[f][1])}else if(f.lineType=="dashed"||f.lineType=="dotted")if(f.smooth!=="spline"){var a=(f.lineWidth||1)*(f.lineType=="dashed"?5:1);i.moveTo(g[0][0],g[0][1]);for(f=1;f<d;f++)m(i,g[f-1][0],g[f-1][1],g[f][0],g[f][1],a)}else for(f=1;f<d;f+=2){i.moveTo(g[f-1][0],g[f-1][1]);i.lineTo(g[f][0],g[f][1])}},brushSymbol:function(i,f,g){if(f.symbol[g]!="none"){i.save();i.beginPath();i.lineWidth=
f.symbolBorder;i.strokeStyle=f.symbolBorderColor;f.iconType=f.symbol[g].replace("empty","").toLowerCase();if(f.symbol[g].match("empty"))i.fillStyle="#fff";var d=Math.min(f.pointList.length,Math.round(f.pointListLength||f.pointList.length)),a=g===0?f.pointList[0][0]:f.pointList[d-1][0];d=g===0?f.pointList[0][1]:f.pointList[d-1][1];var c=typeof f.symbolRotate[g]!="undefined"?f.symbolRotate[g]-0:0,b;if(c!==0){b=o.create();o.identity(b);if(a||d)o.translate(b,b,[-a,-d]);o.rotate(b,b,c*Math.PI/180);if(a||
d)o.translate(b,b,[a,d]);i.transform.apply(i,b)}if(f.iconType=="arrow"&&c===0)this.buildArrawPath(i,f,g);else{g=f.symbolSize[g];f.x=a-g;f.y=d-g;f.width=g*2;f.height=g*2;s.prototype.buildPath(i,f)}i.closePath();i.fill();i.stroke();i.restore()}},buildArrawPath:function(i,f,g){var d=Math.min(f.pointList.length,Math.round(f.pointListLength||f.pointList.length)),a=f.symbolSize[g]*2,c=f.pointList[0][0],b=f.pointList[d-1][0],e=f.pointList[0][1];d=f.pointList[d-1][1];var h=0;if(f.smooth==="spline")h=0.2;
f=Math.atan(Math.abs((d-e)/(c-b)));if(g===0)if(b>c)if(d>e)f=Math.PI*2-f+h;else f+=h;else if(d>e)f+=Math.PI-h;else f=Math.PI-f-h;else if(c>b)if(e>d)f=Math.PI*2-f+h;else f+=h;else if(e>d)f+=Math.PI-h;else f=Math.PI-f-h;h=Math.PI/8;c=g===0?c:b;g=g===0?e:d;a=[[c+a*Math.cos(f-h),g-a*Math.sin(f-h)],[c+a*0.6*Math.cos(f),g-a*0.6*Math.sin(f)],[c+a*Math.cos(f+h),g-a*Math.sin(f+h)]];i.moveTo(c,g);e=0;for(b=a.length;e<b;e++)i.lineTo(a[e][0],a[e][1]);i.lineTo(c,g)},getPointList:function(i){var f=[[i.xStart,i.yStart],
[i.xEnd,i.yEnd]];if(i.smooth==="spline"){i=f[1][0];var g=f[1][1];f[3]=[i,g];f[1]=this.getOffetPoint(f[0],f[3]);f[2]=this.getOffetPoint(f[3],f[0]);f=k(f,false);f[f.length-1]=[i,g]}return f},getOffetPoint:function(i,f){var g=Math.sqrt(Math.round((i[0]-f[0])*(i[0]-f[0])+(i[1]-f[1])*(i[1]-f[1])))/3,d=[i[0],i[1]],a;a=i[0]!=f[0]&&i[1]!=f[1]?Math.atan((f[1]-i[1])/(f[0]-i[0])):i[0]==f[0]?(i[1]<=f[1]?1:-1)*Math.PI/2:0;if(i[0]<=f[0]){a-=0.2;i=Math.round(Math.cos(a)*g);g=Math.round(Math.sin(a)*g);d[0]+=i;d[1]+=
g}else{a+=0.2;i=Math.round(Math.cos(a)*g);g=Math.round(Math.sin(a)*g);d[0]-=i;d[1]-=g}return d},getRect:function(i){if(i.__rect)return i.__rect;var f=i.lineWidth||1;i.__rect={x:Math.min(i.xStart,i.xEnd)-f,y:Math.min(i.yStart,i.yEnd)-f,width:Math.abs(i.xStart-i.xEnd)+f,height:Math.abs(i.yStart-i.yEnd)+f};return i.__rect},isCover:function(i,f){f=this.getTansform(i,f);i=f[0];f=f[1];var g=this.style.__rect;if(!g)g=this.style.__rect=this.getRect(this.style);if(i>=g.x&&i<=g.x+g.width&&f>=g.y&&f<=g.y+g.height)return this.style.smooth!==
"spline"?v.isInside(q,this.style,i,f):v.isInside(r,this.style,i,f);return false}};t.inherits(x,A);return x});V("echarts/util/shape/normalIsCover",[],function(){return function(t,x){x=this.getTansform(t,x);t=x[0];x=x[1];var A=this.style.__rect;if(!A)A=this.style.__rect=this.getRect(this.style);return t>=A.x&&t<=A.x+A.width&&x>=A.y&&x<=A.y+A.height}});V("echarts/util/shape/Symbol",["require","zrender/shape/Base","zrender/shape/Polygon","zrender/tool/util","./normalIsCover"],function(t){function x(r){A.call(this,
r)}var A=t("zrender/shape/Base"),s=new (t("zrender/shape/Polygon"))({}),q=t("zrender/tool/util");x.prototype={type:"symbol",buildPath:function(r,o){var v=o.pointList,m=v.length;if(m!==0)for(var k=Math.ceil(m/1E4),i,f,g=v[0]instanceof Array,d=o.size?o.size:2,a=d,c=d/2,b=Math.PI*2,e,h,j=0;j<k;j++){r.beginPath();i=j*1E4;f=i+1E4;f=f>m?m:f;for(i=i;i<f;i++){if(o.random){a=o["randomMap"+i%20]/100;a=d*a*a;c=a/2}if(g){e=v[i][0];h=v[i][1]}else{e=v[i].x;h=v[i].y}if(a<3)r.rect(e-c,h-c,a,a);else switch(o.iconType){case "circle":r.moveTo(e,
h);r.arc(e,h,c,0,b,true);break;case "diamond":r.moveTo(e,h-c);r.lineTo(e+c/3,h-c/3);r.lineTo(e+c,h);r.lineTo(e+c/3,h+c/3);r.lineTo(e,h+c);r.lineTo(e-c/3,h+c/3);r.lineTo(e-c,h);r.lineTo(e-c/3,h-c/3);r.lineTo(e,h-c);break;default:r.rect(e-c,h-c,a,a)}}r.closePath();if(j<k-1)switch(o.brushType){case "both":r.fill();o.lineWidth>0&&r.stroke();break;case "stroke":o.lineWidth>0&&r.stroke();break;default:r.fill()}}},getRect:function(r){return r.__rect||s.getRect(r)},isCover:t("./normalIsCover")};q.inherits(x,
A);return x});V("echarts/util/ecData",[],function(){function t(q,r,o,v,m,k,i,f){var g;if(typeof v!="undefined")g=v.value==null?v:v.value;q._echartsData={_series:r,_seriesIndex:o,_data:v,_dataIndex:m,_name:k,_value:g,_special:i,_special2:f};return q._echartsData}function x(q,r){q=q._echartsData;if(!r)return q;switch(r){case "series":case "seriesIndex":case "data":case "dataIndex":case "name":case "value":case "special":case "special2":return q&&q["_"+r]}return null}function A(q,r,o){q._echartsData=
q._echartsData||{};switch(r){case "series":case "seriesIndex":case "data":case "dataIndex":case "name":case "value":case "special":case "special2":q._echartsData["_"+r]=o;break}}function s(q,r){r._echartsData={_series:q._echartsData._series,_seriesIndex:q._echartsData._seriesIndex,_data:q._echartsData._data,_dataIndex:q._echartsData._dataIndex,_name:q._echartsData._name,_value:q._echartsData._value,_special:q._echartsData._special,_special2:q._echartsData._special2}}return{pack:t,set:A,get:x,clone:s}});
V("echarts/util/ecAnimation",["require","zrender/tool/util","zrender/shape/Polygon"],function(t){function x(c,b,e,h,j){var l=e.style.pointList,n=l.length;if(!b){b=[];if(e._orient!="vertical")for(var p=l[0][1],w=0;w<n;w++)b[w]=[l[w][0],p];else{p=l[0][0];for(w=0;w<n;w++)b[w]=[p,l[w][1]]}if(e.type=="half-smooth-polygon"){b[n-1]=a.clone(l[n-1]);b[n-2]=a.clone(l[n-2])}b={style:{pointList:b}}}b=b.style.pointList;w=b.length;e.style.pointList=w==n?b:w<n?b.concat(l.slice(w)):b.slice(0,n);c.addShape(e);c.animate(e.id,
"style").when(h,{pointList:l}).start(j)}function A(c,b){for(var e=arguments.length,h=2;h<e;h++){var j=arguments[h];c.style[j]=b.style[j]}}function s(c,b,e,h,j){var l=e.style;b||(b={style:{x:l.x,y:e._orient=="vertical"?l.y+l.height:l.y,width:e._orient=="vertical"?l.width:0,height:e._orient!="vertical"?l.height:0}});var n=l.x,p=l.y,w=l.width;l=l.height;A(e,b,"x","y","width","height");c.addShape(e);c.animate(e.id,"style").when(h,{x:n,y:p,width:w,height:l}).start(j)}function q(c,b,e,h,j){if(!b){b=e.style.y;
b={style:{y:[b[0],b[0],b[0],b[0]]}}}var l=e.style.y;e.style.y=b.style.y;c.addShape(e);c.animate(e.id,"style").when(h,{y:l}).start(j)}function r(c,b,e,h,j){b=e.style.x;var l=e.style.y,n=e.style.r0,p=e.style.r;if(e._animationAdd!="r"){e.style.r0=0;e.style.r=0;e.rotation=[Math.PI*2,b,l];c.addShape(e);c.animate(e.id,"style").when(h,{r0:n,r:p}).start(j);c.animate(e.id,"").when(Math.round(h/3*2),{rotation:[0,b,l]}).start(j)}else{e.style.r0=e.style.r;c.addShape(e);c.animate(e.id,"style").when(h,{r0:n}).start(j)}}
function o(c,b,e,h,j){b||(b=e._animationAdd!="r"?{style:{startAngle:e.style.startAngle,endAngle:e.style.startAngle}}:{style:{r0:e.style.r}});var l=e.style.startAngle,n=e.style.endAngle;A(e,b,"startAngle","endAngle");c.addShape(e);c.animate(e.id,"style").when(h,{startAngle:l,endAngle:n}).start(j)}function v(c,b,e,h,j){b||(b={style:{x:e.style.textAlign=="left"?e.style.x+100:e.style.x-100,y:e.style.y}});var l=e.style.x,n=e.style.y;A(e,b,"x","y");c.addShape(e);c.animate(e.id,"style").when(h,{x:l,y:n}).start(j)}
function m(c,b,e,h,j){var l=t("zrender/shape/Polygon").prototype.getRect(e.style);b=l.x+l.width/2;l=l.y+l.height/2;e.scale=[0.1,0.1,b,l];c.addShape(e);c.animate(e.id,"").when(h,{scale:[1,1,b,l]}).start(j)}function k(c,b,e,h,j){b||(b={style:{source0:0,source1:360,target0:0,target1:360}});var l=e.style.source0,n=e.style.source1,p=e.style.target0,w=e.style.target1;b.style&&A(e,b,"source0","source1","target0","target1");c.addShape(e);c.animate(e.id,"style").when(h,{source0:l,source1:n,target0:p,target1:w}).start(j)}
function i(c,b,e,h,j){b||(b={style:{angle:e.style.startAngle}});var l=e.style.angle;e.style.angle=b.style.angle;c.addShape(e);c.animate(e.id,"style").when(h,{angle:l}).start(j)}function f(c,b,e,h,j){e.style._x=e.style.x;e.style._y=e.style.y;e.style._width=e.style.width;e.style._height=e.style.height;if(b)s(c,b,e,h,j);else{b=e._x||0;var l=e._y||0;e.scale=[0,0,b,l];c.addShape(e);c.animate(e.id,"").when(h,{scale:[1,1,b,l]}).start(j||"QuinticOut")}}function g(c,b,e,h,j){b||(b={style:{xEnd:e.style.xStart,
yEnd:e.style.yStart}});var l=e.style.xStart,n=e.style.xEnd,p=e.style.yStart,w=e.style.yEnd;A(e,b,"xStart","xEnd","yStart","yEnd");c.addShape(e);c.animate(e.id,"style").when(h,{xStart:l,xEnd:n,yStart:p,yEnd:w}).start(j)}function d(c,b,e,h,j){if(e.style.smooth){e.style.pointListLength=1;c.addShape(e);e.style.pointList=e.style.pointList||e.getPointList(e.style);c.animate(e.id,"style").when(h,{pointListLength:e.style.pointList.length}).start(j||"QuinticOut")}else{e.style.pointList=!b?[[e.style.xStart,
e.style.yStart],[e.style.xStart,e.style.yStart]]:b.style.pointList;c.addShape(e);c.animate(e.id,"style").when(h,{pointList:[[e.style.xStart,e.style.yStart],[e._x||0,e._y||0]]}).start(j||"QuinticOut")}}var a=t("zrender/tool/util");return{pointList:x,rectangle:s,candle:q,ring:r,sector:o,text:v,polygon:m,chord:k,gaugePointer:i,icon:f,line:g,markline:d}});V("zrender/shape/Circle",["require","./Base","../tool/util"],function(t){var x=t("./Base"),A=function(s){x.call(this,s)};A.prototype={type:"circle",
buildPath:function(s,q){s.arc(q.x,q.y,q.r,0,Math.PI*2,true)},getRect:function(s){if(s.__rect)return s.__rect;var q;q=s.brushType=="stroke"||s.brushType=="fill"?s.lineWidth||1:0;s.__rect={x:Math.round(s.x-s.r-q/2),y:Math.round(s.y-s.r-q/2),width:s.r*2+q,height:s.r*2+q};return s.__rect}};t("../tool/util").inherits(A,x);return A});V("echarts/util/ecEffect",["require","../util/ecData","zrender/shape/Circle","zrender/shape/Image","../util/shape/Icon","../util/shape/Symbol","zrender/tool/env"],function(t){function x(i,
f,g,d){var a=g.effect,c=a.color||g.style.strokeColor||g.style.color,b=a.scaleSize,e=typeof a.shadowBlur!="undefined"?a.shadowBlur:b,h=new v({zlevel:d,style:{brushType:"stroke",iconType:g.style.iconType!="pin"&&g.style.iconType!="droplet"?g.style.iconType:"circle",x:e+1,y:e+1,n:g.style.n,width:g.style.width*b,height:g.style.height*b,lineWidth:1,strokeColor:c,shadowColor:a.shadowColor||c,shadowBlur:e},draggable:false,hoverable:false});if(k){h.style.image=i.shapeToImage(h,h.style.width+e*2+2,h.style.height+
e*2+2).style.image;h=new o({zlevel:h.zlevel,style:h.style,draggable:false,hoverable:false})}q.clone(g,h);h.position=g.position;f.push(h);i.addShape(h);f=window.devicePixelRatio||1;d=(h.style.width/f-g.style.width)/2;h.style.x=g.style._x-d;h.style.y=g.style._y-d;d=(a.period+Math.random()*10)*100;i.modShape(g.id,{invisible:true});c=h.style.x+h.style.width/2/f;f=h.style.y+h.style.height/2/f;i.modShape(h.id,{scale:[0.1,0.1,c,f]});i.animate(h.id,"",a.loop).when(d,{scale:[1,1,c,f]}).done(function(){g.effect.show=
false;i.delShape(h.id)}).start()}function A(i,f,g,d){var a=g.effect,c=a.color||g.style.strokeColor||g.style.color,b=a.scaleSize;d=new m({zlevel:d,position:g.position,scale:g.scale,style:{pointList:g.style.pointList,iconType:g.style.iconType,color:c,strokeColor:c,shadowColor:a.shadowColor||c,shadowBlur:(typeof a.shadowBlur!="undefined"?a.shadowBlur:b*2)*(window.devicePixelRatio||1),random:true,brushType:"fill",lineWidth:1,size:g.style.size},draggable:false,hoverable:false});f.push(d);i.addShape(d);
i.modShape(g.id,{invisible:true});f=Math.round(a.period*100);g={};a={};for(c=0;c<20;c++){d.style["randomMap"+c]=0;g={};g["randomMap"+c]=100;a={};a["randomMap"+c]=0;d.style["randomMap"+c]=Math.random()*100;i.animate(d.id,"style",true).when(f,g).when(f*2,a).when(f*3,g).when(f*4,g).delay(Math.random()*f*c).start()}}function s(i,f,g,d){var a=g.effect,c=a.color||g.style.strokeColor||g.style.color,b=g.style.lineWidth*a.scaleSize,e=typeof a.shadowBlur!="undefined"?a.shadowBlur:b,h=new r({zlevel:d,style:{x:e,
y:e,r:b,color:c,shadowColor:a.shadowColor||g.style.strokeColor||c,shadowBlur:e},draggable:false,hoverable:false});if(k){h.style.image=i.shapeToImage(h,(b+e)*2,(b+e)*2).style.image;h=new o({zlevel:h.zlevel,style:h.style,draggable:false,hoverable:false});d=e}else d=0;q.clone(g,h);h.position=g.position;f.push(h);i.addShape(h);h.style.x=g.style.xStart-d;h.style.y=g.style.yStart-d;f=Math.round(Math.sqrt(Math.round(((g.style.xStart-g.style.xEnd)*(g.style.xStart-g.style.xEnd)+(g.style.yStart-g.style.yEnd)*
(g.style.yStart-g.style.yEnd))*a.period*a.period)));if(g.style.smooth){c=g.style.pointList||g.getPointList(g.style);b=c.length;f=Math.round(f/b);a=i.animate(h.id,"style",a.loop);e=Math.ceil(b/8);for(var j=0;j<b-e;j+=e)a.when(f*(j+1),{x:c[j][0]-d,y:c[j][1]-d});a.when(f*b,{x:c[b-1][0]-d,y:c[b-1][1]-d});a.done(function(){g.effect.show=false;i.delShape(h.id)});a.start("spline")}else i.animate(h.id,"style",a.loop).when(f,{x:g._x-d,y:g._y-d}).done(function(){g.effect.show=false;i.delShape(h.id)}).start()}
var q=t("../util/ecData"),r=t("zrender/shape/Circle"),o=t("zrender/shape/Image"),v=t("../util/shape/Icon"),m=t("../util/shape/Symbol"),k=t("zrender/tool/env").canvasSupported;return{point:x,largePoint:A,line:s}});V("echarts/util/accMath",[],function(){function t(q,r){q=q.toString();r=r.toString();var o=0;try{o=r.split(".")[1].length}catch(v){}try{o-=q.split(".")[1].length}catch(m){}return(q.replace(".","")-0)/(r.replace(".","")-0)*Math.pow(10,o)}function x(q,r){q=q.toString();r=r.toString();var o=
0;try{o+=q.split(".")[1].length}catch(v){}try{o+=r.split(".")[1].length}catch(m){}return(q.replace(".","")-0)*(r.replace(".","")-0)/Math.pow(10,o)}function A(q,r){var o=0,v=0;try{o=q.toString().split(".")[1].length}catch(m){}try{v=r.toString().split(".")[1].length}catch(k){}o=Math.pow(10,Math.max(o,v));return(Math.round(q*o)+Math.round(r*o))/o}function s(q,r){return A(q,-r)}return{accDiv:t,accMul:x,accAdd:A,accSub:s}});V("echarts/chart/base",["require","zrender/shape/Image","../util/shape/Icon","../util/shape/MarkLine",
"../util/shape/Symbol","../config","../util/ecData","../util/ecAnimation","../util/ecEffect","../util/accMath","zrender/tool/util","zrender/tool/area"],function(t){function x(){var d=this;this.selectedMap={};this.lastShapeList=[];this.shapeHandler={onclick:function(){d.isClick=true},ondragover:function(a){var c=a.target;c.highlightStyle=c.highlightStyle||{};a=c.highlightStyle;var b=a.brushTyep,e=a.strokeColor,h=a.lineWidth;a.brushType="stroke";a.strokeColor=d.ecTheme.calculableColor;a.lineWidth=c.type===
"icon"?30:10;d.zr.addHoverShape(c);setTimeout(function(){if(c.highlightStyle){c.highlightStyle.brushType=b;c.highlightStyle.strokeColor=e;c.highlightStyle.lineWidth=h}},20)},ondrop:function(a){if(v.get(a.dragged,"data")!=null)d.isDrop=true},ondragend:function(){d.isDragend=true}}}var A=t("zrender/shape/Image"),s=t("../util/shape/Icon"),q=t("../util/shape/MarkLine"),r=t("../util/shape/Symbol"),o=t("../config"),v=t("../util/ecData"),m=t("../util/ecAnimation"),k=t("../util/ecEffect"),i=t("../util/accMath"),
f=t("zrender/tool/util"),g=t("zrender/tool/area");x.prototype={setCalculable:function(d){d.dragEnableTime=this.ecTheme.DRAG_ENABLE_TIME;d.ondragover=this.shapeHandler.ondragover;d.ondragend=this.shapeHandler.ondragend;d.ondrop=this.shapeHandler.ondrop;return d},ondrop:function(d,a){if(this.isDrop&&d.target){var c=d.target,b=d.dragged,e=v.get(c,"seriesIndex"),h=v.get(c,"dataIndex");c=this.series;var j,l=this.component.legend;if(h===-1){j={value:v.get(b,"value"),name:v.get(b,"name")};if(this.type===
o.CHART_TYPE_PIE&&j.value<0)j.value=0;h=false;for(var n=c[e].data,p=0,w=n.length;p<w;p++)if(n[p].name===j.name&&n[p].value==="-"){c[e].data[p].value=j.value;h=true}!h&&c[e].data.push(j);l&&l.add(j.name,b.style.color||b.style.strokeColor)}else{j=this.option.series[e].data[h]||"-";if(j.value!=null){this.option.series[e].data[h].value=j.value!="-"?i.accAdd(this.option.series[e].data[h].value,v.get(b,"value")):v.get(b,"value");if(this.type===o.CHART_TYPE_FUNNEL||this.type===o.CHART_TYPE_PIE){l&&l.getRelatedAmount(j.name)===
1&&this.component.legend.del(j.name);j.name+=this.option.nameConnector+v.get(b,"name");l&&l.add(j.name,b.style.color||b.style.strokeColor)}}else this.option.series[e].data[h]=j!="-"?i.accAdd(this.option.series[e].data[h],v.get(b,"value")):v.get(b,"value")}a.dragIn=a.dragIn||true;this.isDrop=false;var B=this;setTimeout(function(){B.zr.trigger("mousemove",d.event)},300)}},ondragend:function(d,a){if(this.isDragend&&d.target){var c=d.target;d=v.get(c,"seriesIndex");c=v.get(c,"dataIndex");var b=this.series;
if(b[d].data[c].value!=null){b[d].data[c].value="-";d=b[d].data[c].name;this.component.legend&&this.component.legend.getRelatedAmount(d)===0&&this.component.legend.del(d)}else b[d].data[c]="-";a.dragOut=true;a.needRefresh=true;this.isDragend=false}},onlegendSelected:function(d,a){d=d.selected;for(var c in this.selectedMap){if(this.selectedMap[c]!=d[c])a.needRefresh=true;this.selectedMap[c]=d[c]}},addLabel:function(d,a,c,b,e){var h=[c,a],j=this.deepMerge(h,"itemStyle.normal.label");h=this.deepMerge(h,
"itemStyle.emphasis.label");var l=j.textStyle||{},n=h.textStyle||{};if(j.show){d.style.text=this._getLabelText(a,c,b,"normal");d.style.textPosition=j.position==null?e==="horizontal"?"right":"top":j.position;d.style.textColor=l.color;d.style.textFont=this.getFont(l)}if(h.show){d.highlightStyle.text=this._getLabelText(a,c,b,"emphasis");d.highlightStyle.textPosition=j.show?d.style.textPosition:h.position==null?e==="horizontal"?"right":"top":h.position;d.highlightStyle.textColor=n.color;d.highlightStyle.textFont=
this.getFont(n)}return d},_getLabelText:function(d,a,c,b){var e=this.deepQuery([a,d],"itemStyle."+b+".label.formatter");if(!e&&b==="emphasis")e=this.deepQuery([a,d],"itemStyle.normal.label.formatter");a=a!=null?a.value!=null?a.value:a:"-";if(e)if(typeof e==="function")return e.call(this.myChart,d.name,c,a);else{if(typeof e==="string"){e=e.replace("{a}","{a0}").replace("{b}","{b0}").replace("{c}","{c0}");return e=e.replace("{a0}",d.name).replace("{b0}",c).replace("{c0}",a)}}else return a},buildMark:function(d){var a=
this.series[d];if(this.selectedMap[a.name]){a.markPoint&&this._buildMarkPoint(d);a.markLine&&this._buildMarkLine(d)}},_buildMarkPoint:function(d){var a=(this.markAttachStyle||{})[d],c=this.series[d],b=this.getZlevelBase(),e,h,j=f.clone(c.markPoint);c=0;for(var l=j.data.length;c<l;c++){e=j.data[c];h=this.getMarkCoord(d,e);j.data[c].x=e.x!=null?e.x:h[0];j.data[c].y=e.y!=null?e.y:h[1];if(e.type&&(e.type==="max"||e.type==="min")){j.data[c].value=h[3];j.data[c].name=e.name||e.type;j.data[c].symbolSize=
j.data[c].symbolSize||g.getTextWidth(h[3],this.getFont())/2+5}}d=this._markPoint(d,j);c=0;for(l=d.length;c<l;c++){d[c].zlevel=b+1;for(var n in a)d[c][n]=f.clone(a[n]);this.shapeList.push(d[c])}if(this.type===o.CHART_TYPE_FORCE||this.type===o.CHART_TYPE_CHORD){c=0;for(l=d.length;c<l;c++)this.zr.addShape(d[c])}},_buildMarkLine:function(d){var a=(this.markAttachStyle||{})[d],c=this.series[d],b=this.getZlevelBase(),e,h,j=f.clone(c.markLine);c=0;for(var l=j.data.length;c<l;c++){e=j.data[c];if(e.type&&
(e.type==="max"||e.type==="min"||e.type==="average")){h=this.getMarkCoord(d,e);j.data[c]=[f.clone(e),{}];j.data[c][0].name=e.name||e.type;j.data[c][0].value=h[3];h=h[2];e=[{},{}]}else h=[this.getMarkCoord(d,e[0]),this.getMarkCoord(d,e[1])];j.data[c][0].x=e[0].x!=null?e[0].x:h[0][0];j.data[c][0].y=e[0].y!=null?e[0].y:h[0][1];j.data[c][1].x=e[1].x!=null?e[1].x:h[1][0];j.data[c][1].y=e[1].y!=null?e[1].y:h[1][1]}d=this._markLine(d,j);c=0;for(l=d.length;c<l;c++){d[c].zlevel=b+1;for(var n in a)d[c][n]=
f.clone(a[n]);this.shapeList.push(d[c])}if(this.type===o.CHART_TYPE_FORCE||this.type===o.CHART_TYPE_CHORD){c=0;for(l=d.length;c<l;c++)this.zr.addShape(d[c])}},_markPoint:function(d,a){var c=this.series[d],b=this.component;f.merge(a,this.ecTheme.markPoint);a.name=c.name;var e=[],h=a.data,j,l=b.dataRange;b=b.legend;var n,p,w,B=this.zr.getWidth(),y=this.zr.getHeight();if(a.large){j=this.getLargeMarkPoingShape(d,a);j._mark="largePoint";j&&e.push(j)}else for(var C=0,z=h.length;C<z;C++)if(!(h[C].x==null||
h[C].y==null)){p=h[C]!=null&&h[C].value!=null?h[C].value:"";if(b)n=b.getColor(c.name);if(l){n=isNaN(p)?n:l.getColor(p);w=[h[C],a];j=this.deepQuery(w,"itemStyle.normal.color")||n;w=this.deepQuery(w,"itemStyle.emphasis.color")||j;if(j==null&&w==null)continue}h[C].tooltip=h[C].tooltip||{trigger:"item"};h[C].name=h[C].name!=null?h[C].name:"";h[C].value=p;j=this.getSymbolShape(a,d,h[C],C,h[C].name,this.parsePercent(h[C].x,B),this.parsePercent(h[C].y,y),"pin",n,"rgba(0,0,0,0)","horizontal");j._mark="point";
w=this.deepMerge([h[C],a],"effect");if(w.show)j.effect=w;if(c.type===o.CHART_TYPE_MAP)j._geo=this.getMarkGeo(h[C]);v.pack(j,c,d,h[C],C,h[C].name,p);e.push(j)}return e},_markLine:function(d,a){var c=this.series[d],b=this.component;f.merge(a,this.ecTheme.markLine);a.symbol=a.symbol instanceof Array?a.symbol.length>1?a.symbol:[a.symbol[0],a.symbol[0]]:[a.symbol,a.symbol];a.symbolSize=a.symbolSize instanceof Array?a.symbolSize.length>1?a.symbolSize:[a.symbolSize[0],a.symbolSize[0]]:[a.symbolSize,a.symbolSize];
a.symbolRotate=a.symbolRotate instanceof Array?a.symbolRotate.length>1?a.symbolRotate:[a.symbolRotate[0],a.symbolRotate[0]]:[a.symbolRotate,a.symbolRotate];a.name=c.name;var e=[],h=a.data,j,l=b.dataRange;b=b.legend;for(var n,p,w,B,y=this.zr.getWidth(),C=this.zr.getHeight(),z=0,u=h.length;z<u;z++)if(!(h[z][0].x==null||h[z][0].y==null||h[z][1].x==null||h[z][1].y==null)){if(b)n=b.getColor(c.name);B=this.deepMerge(h[z]);p=B!=null&&B.value!=null?B.value:"";if(l){n=isNaN(p)?n:l.getColor(p);w=[B,a];j=this.deepQuery(w,
"itemStyle.normal.color")||n;w=this.deepQuery(w,"itemStyle.emphasis.color")||j;if(j==null&&w==null)continue}h[z][0].tooltip=B.tooltip||{trigger:"item"};h[z][0].name=h[z][0].name!=null?h[z][0].name:"";h[z][1].name=h[z][1].name!=null?h[z][1].name:"";h[z][0].value=h[z][0].value!=null?h[z][0].value:"";j=this.getLineMarkShape(a,d,h[z],z,this.parsePercent(h[z][0].x,y),this.parsePercent(h[z][0].y,C),this.parsePercent(h[z][1].x,y),this.parsePercent(h[z][1].y,C),n);j._mark="line";B=this.deepMerge([B,a],"effect");
if(B.show)j.effect=B;if(c.type===o.CHART_TYPE_MAP)j._geo=[this.getMarkGeo(h[z][0]),this.getMarkGeo(h[z][1])];v.pack(j,c,d,h[z][0],z,h[z][0].name+(h[z][1].name!==""?" > "+h[z][1].name:""),p);e.push(j)}return e},getMarkCoord:function(){return[0,0]},getSymbolShape:function(d,a,c,b,e,h,j,l,n,p,w){var B=[c,d],y=c!=null?c.value!=null?c.value:c:"-";l=this.deepQuery(B,"symbol")||l;var C=this.deepQuery(B,"symbolSize");C=typeof C==="function"?C(y):C;y=this.deepQuery(B,"symbolRotate");var z=this.deepMerge(B,
"itemStyle.normal"),u=this.deepMerge(B,"itemStyle.emphasis"),D=z.borderWidth!=null?z.borderWidth:z.lineStyle&&z.lineStyle.width;if(D==null)D=l.match("empty")?2:0;var F=u.borderWidth!=null?u.borderWidth:u.lineStyle&&u.lineStyle.width;if(F==null)F=D+2;n=new s({style:{iconType:l.replace("empty","").toLowerCase(),x:h-C,y:j-C,width:C*2,height:C*2,brushType:"both",color:l.match("empty")?p:this.getItemStyleColor(z.color,a,b,c)||n,strokeColor:z.borderColor||this.getItemStyleColor(z.color,a,b,c)||n,lineWidth:D},
highlightStyle:{color:l.match("empty")?p:this.getItemStyleColor(u.color,a,b,c),strokeColor:u.borderColor||z.borderColor||this.getItemStyleColor(z.color,a,b,c)||n,lineWidth:F},clickable:this.deepQuery(B,"clickable")});if(l.match("image")){n.style.image=l.replace(/^image:\/\//,"");n=new A({style:n.style,highlightStyle:n.highlightStyle,clickable:this.deepQuery(B,"clickable")})}if(y!=null)n.rotation=[y*Math.PI/180,h,j];if(l.match("star")){n.style.iconType="star";n.style.n=l.replace("empty","").replace("star",
"")-0||5}if(l==="none"){n.invisible=true;n.hoverable=false}n=this.addLabel(n,d,c,e,w);if(l.match("empty")){if(n.style.textColor==null)n.style.textColor=n.style.strokeColor;if(n.highlightStyle.textColor==null)n.highlightStyle.textColor=n.highlightStyle.strokeColor}v.pack(n,d,a,c,b,e);n._x=h;n._y=j;n._dataIndex=b;n._seriesIndex=a;return n},getLineMarkShape:function(d,a,c,b,e,h,j,l,n){var p=c[0]!=null?c[0].value!=null?c[0].value:c[0]:"-",w=c[1]!=null?c[1].value!=null?c[1].value:c[1]:"-",B=[this.query(c[0],
"symbol")||d.symbol[0],this.query(c[1],"symbol")||d.symbol[1]],y=[this.query(c[0],"symbolSize")||d.symbolSize[0],this.query(c[1],"symbolSize")||d.symbolSize[1]];y[0]=typeof y[0]==="function"?y[0](p):y[0];y[1]=typeof y[1]==="function"?y[1](w):y[1];p=[this.query(c[0],"symbolRotate")||d.symbolRotate[0],this.query(c[1],"symbolRotate")||d.symbolRotate[1]];w=[c[0],d];var C=this.deepMerge(w,"itemStyle.normal");C.color=this.getItemStyleColor(C.color,a,b,c);var z=this.deepMerge(w,"itemStyle.emphasis");z.color=
this.getItemStyleColor(z.color,a,b,c);a=C.lineStyle;b=z.lineStyle;var u=a.width;if(u==null)u=C.borderWidth;var D=b.width;if(D==null)D=z.borderWidth!=null?z.borderWidth:u+2;e=new q({style:{smooth:d.smooth?"spline":false,symbol:B,symbolSize:y,symbolRotate:p,xStart:e,yStart:h,xEnd:j,yEnd:l,brushType:"both",lineType:a.type,shadowColor:a.shadowColor||a.color||C.borderColor||C.color||n,shadowBlur:a.shadowBlur,shadowOffsetX:a.shadowOffsetX,shadowOffsetY:a.shadowOffsetY,color:C.color||n,strokeColor:a.color||
C.borderColor||C.color||n,lineWidth:u,symbolBorderColor:C.borderColor||C.color||n,symbolBorder:C.borderWidth},highlightStyle:{shadowColor:b.shadowColor,shadowBlur:b.shadowBlur,shadowOffsetX:b.shadowOffsetX,shadowOffsetY:b.shadowOffsetY,color:z.color||C.color||n,strokeColor:b.color||a.color||z.borderColor||C.borderColor||z.color||C.color||n,lineWidth:D,symbolBorderColor:z.borderColor||C.borderColor||z.color||C.color||n,symbolBorder:z.borderWidth==null?C.borderWidth+2:z.borderWidth},clickable:this.deepQuery(w,
"clickable")});e=this.addLabel(e,d,c[0],c[0].name+" : "+c[1].name);e._x=j;e._y=l;return e},getLargeMarkPoingShape:function(d,a){var c=this.series[d],b=this.component;d=a.data;var e,h=b.dataRange,j=b.legend;b=[d[0],a];if(j)e=j.getColor(c.name);if(h){c=d[0]!=null?d[0].value!=null?d[0].value:d[0]:"-";e=isNaN(c)?e:h.getColor(c);h=this.deepQuery(b,"itemStyle.normal.color")||e;c=this.deepQuery(b,"itemStyle.emphasis.color")||h;if(h==null&&c==null)return}e=this.deepMerge(b,"itemStyle.normal").color||e;h=
this.deepQuery(b,"symbol")||"circle";h=h.replace("empty","").replace(/\d/g,"");a=this.deepMerge([d[0],a],"effect");e=new r({style:{pointList:d,color:e,strokeColor:e,shadowColor:a.shadowColor||e,shadowBlur:(a.shadowBlur!=null?a.shadowBlur:8)*(window.devicePixelRatio||1),size:this.deepQuery(b,"symbolSize"),iconType:h,brushType:"fill",lineWidth:1},draggable:false,hoverable:false});if(a.show)e.effect=a;return e},backupShapeList:function(){if(this.shapeList&&this.shapeList.length>0){this.lastShapeList=
this.shapeList;this.shapeList=[]}else this.lastShapeList=[]},addShapeList:function(){var d=this.option.animationThreshold/(this.canvasSupported?2:4),a=this.lastShapeList,c=this.shapeList,b=a.length>0?500:this.query(this.option,"animationDuration"),e=this.query(this.option,"animationEasing"),h,j={},l={};if(this.option.animation&&!this.option.renderAsImage&&c.length<d&&!this.motionlessOnce){d=0;for(var n=a.length;d<n;d++){h=this._getAnimationKey(a[d]);if(h.match("undefined"))this.zr.delShape(a[d].id);
else{h+=a[d].type;j[h]=a[d]}}d=0;for(n=c.length;d<n;d++){h=this._getAnimationKey(c[d]);if(h.match("undefined"))this.zr.addShape(c[d]);else{h+=c[d].type;l[h]=c[d]}}for(h in j)l[h]||this.zr.delShape(j[h].id);for(h in l)if(j[h]){this.zr.delShape(j[h].id);this._animateMod(j[h],l[h],b,e)}else this._animateMod(false,l[h],b,e);this.zr.refresh();this.animationEffect()}else{this.motionlessOnce=false;this.zr.delShape(a);d=0;for(n=c.length;d<n;d++)this.zr.addShape(c[d])}},_getAnimationKey:function(d){return this.type!=
o.CHART_TYPE_MAP?v.get(d,"seriesIndex")+"_"+v.get(d,"dataIndex")+(d._mark?d._mark:"")+(this.type===o.CHART_TYPE_RADAR?v.get(d,"special"):""):v.get(d,"seriesIndex")+"_"+v.get(d,"dataIndex")+(d._mark?d._mark:"undefined")},_animateMod:function(d,a,c,b){switch(a.type){case "broken-line":case "half-smooth-polygon":m.pointList(this.zr,d,a,c,b);break;case "rectangle":m.rectangle(this.zr,d,a,c,b);break;case "icon":m.icon(this.zr,d,a,c,b);break;case "candle":c>500?m.candle(this.zr,d,a,c,b):this.zr.addShape(a);
break;case "ring":case "sector":case "circle":if(c>500)m.ring(this.zr,d,a,c+(v.get(a,"dataIndex")||0)%20*100,b);else a.type==="sector"?m.sector(this.zr,d,a,c,b):this.zr.addShape(a);break;case "text":m.text(this.zr,d,a,c,b);break;case "polygon":c>500?m.polygon(this.zr,d,a,c,b):m.pointList(this.zr,d,a,c,b);break;case "chord":m.chord(this.zr,d,a,c,b);break;case "gauge-pointer":m.gaugePointer(this.zr,d,a,c,b);break;case "mark-line":m.markline(this.zr,d,a,c,b);break;case "line":m.line(this.zr,d,a,c,b);
break;default:this.zr.addShape(a);break}},animationMark:function(d,a,c){for(var b=c||this.shapeList,e=0,h=b.length;e<h;e++)b[e]._mark&&this._animateMod(false,b[e],d,a);this.animationEffect(c)},animationEffect:function(d){!d&&this.clearEffectShape();d=d||this.shapeList;var a=o.EFFECT_ZLEVEL;this.canvasSupported&&this.zr.modLayer(a,{motionBlur:true,lastFrameAlpha:0.95});for(var c,b=0,e=d.length;b<e;b++){c=d[b];if(c._mark&&c.effect&&c.effect.show&&k[c._mark]){k[c._mark](this.zr,this.effectList,c,a);
this.effectList[this.effectList.length-1]._mark=c._mark}}},clearEffectShape:function(d){if(this.zr&&this.effectList&&this.effectList.length>0){d&&this.zr.modLayer(o.EFFECT_ZLEVEL,{motionBlur:false});this.zr.delShape(this.effectList)}this.effectList=[]},addMark:function(d,a,c){var b=this.series[d];if(this.selectedMap[b.name]){var e=this.query(this.option,"animationEasing"),h=b[c].data,j=this.shapeList.length;b[c].data=a.data;this["_build"+c.replace("m","M")](d);if(this.option.animation&&!this.option.renderAsImage)this.animationMark(500,
e,this.shapeList.slice(j));else{d=j;for(a=this.shapeList.length;d<a;d++)this.zr.addShape(this.shapeList[d]);this.zr.refresh()}b[c].data=h}},delMark:function(d,a,c){c=c.replace("mark","").replace("large","").toLowerCase();if(this.selectedMap[this.series[d].name]){for(var b=false,e=[this.shapeList,this.effectList],h=2;h--;)for(var j=0,l=e[h].length;j<l;j++)if(e[h][j]._mark===c&&v.get(e[h][j],"seriesIndex")===d&&v.get(e[h][j],"name")===a){this.zr.delShape(e[h][j].id);e[h].splice(j,1);b=true;break}b&&
this.zr.refresh()}}};return x});V("echarts/chart",[],function(){var t={},x={};t.define=function(A,s){x[A]=s;return t};t.get=function(A){return x[A]};return t});V("echarts/chart/island",["require","../component/base","./base","zrender/shape/Circle","../config","../util/ecData","zrender/tool/util","zrender/tool/event","zrender/tool/color","../util/accMath","../chart"],function(t){function x(k,i,f,g,d){A.call(this,k,i,f,{},d);s.call(this);this._zrHeight=this.zr.getHeight();this._zrWidth=this.zr.getWidth();
var a=this;a.shapeHandler.onmousewheel=function(c){var b=c.target;c=c.event;var e=m.getDelta(c);e=e>0?-1:1;b.style.r-=e;b.style.r=b.style.r<5?5:b.style.r;var h=o.get(b,"value"),j=h*a.option.island.calculateStep;h=j>1?Math.round(h-j*e):(h-j*e).toFixed(2)-0;e=o.get(b,"name");b.style.text=e+":"+h;o.set(b,"value",h);o.set(b,"name",e);a.zr.modShape(b.id);a.zr.refresh();m.stop(c)}}var A=t("../component/base"),s=t("./base"),q=t("zrender/shape/Circle"),r=t("../config"),o=t("../util/ecData"),v=t("zrender/tool/util"),
m=t("zrender/tool/event");x.prototype={type:r.CHART_TYPE_ISLAND,_combine:function(k,i){var f=t("zrender/tool/color"),g=t("../util/accMath").accAdd(o.get(k,"value"),o.get(i,"value")),d=o.get(k,"name")+this._nameConnector+o.get(i,"name");k.style.text=d+this._valueConnector+g;o.set(k,"value",g);o.set(k,"name",d);k.style.r=this.option.island.r;k.style.color=f.mix(k.style.color,i.style.color)},refresh:function(k){if(k){k.island=this.reformOption(k.island);this.option=k;this._nameConnector=this.option.nameConnector;
this._valueConnector=this.option.valueConnector}},getOption:function(){return this.option},resize:function(){var k=this.zr.getWidth(),i=this.zr.getHeight(),f=k/(this._zrWidth||k),g=i/(this._zrHeight||i);if(!(f===1&&g===1)){this._zrWidth=k;this._zrHeight=i;k=0;for(i=this.shapeList.length;k<i;k++)this.zr.modShape(this.shapeList[k].id,{style:{x:Math.round(this.shapeList[k].style.x*f),y:Math.round(this.shapeList[k].style.y*g)}})}},add:function(k){var i=o.get(k,"name"),f=o.get(k,"value"),g=o.get(k,"series")!=
null?o.get(k,"series").name:"",d=this.getFont(this.option.island.textStyle);d={zlevel:this._zlevelBase,style:{x:k.style.x,y:k.style.y,r:this.option.island.r,color:k.style.color||k.style.strokeColor,text:i+this._valueConnector+f,textFont:d},draggable:true,hoverable:true,onmousewheel:this.shapeHandler.onmousewheel,_type:"island"};if(d.style.color==="#fff")d.style.color=k.style.strokeColor;this.setCalculable(d);d.dragEnableTime=0;o.pack(d,{name:g},-1,f,-1,i);d=new q(d);this.shapeList.push(d);this.zr.addShape(d)},
del:function(k){this.zr.delShape(k.id);for(var i=[],f=0,g=this.shapeList.length;f<g;f++)this.shapeList[f].id!=k.id&&i.push(this.shapeList[f]);this.shapeList=i},ondrop:function(k,i){if(this.isDrop&&k.target){var f=k.target;this._combine(f,k.dragged);this.zr.modShape(f.id);i.dragIn=true;this.isDrop=false}},ondragend:function(k,i){var f=k.target;if(this.isDragend){if(i.dragIn){this.del(f);i.needRefresh=true}}else if(!i.dragIn){f.style.x=m.getX(k.event);f.style.y=m.getY(k.event);this.add(f);i.needRefresh=
true}this.isDragend=false}};v.inherits(x,s);v.inherits(x,A);t("../chart").define("island",x);return x});V("echarts/component",[],function(){var t={},x={};t.define=function(A,s){x[A]=s;return t};t.get=function(A){return x[A]};return t});V("echarts/component/dataView",["require","./base","../config","zrender/tool/util","../component"],function(t){function x(r,o,v,m,k){A.call(this,r,o,v,m,k);this.dom=k.dom;this._tDom=document.createElement("div");this._textArea=document.createElement("textArea");this._buttonRefresh=
document.createElement("button");this._buttonClose=document.createElement("button");this._hasShow=false;this._zrHeight=v.getHeight();this._zrWidth=v.getWidth();this._tDom.className="echarts-dataview";this.hide();this.dom.firstChild.appendChild(this._tDom);if(window.addEventListener){this._tDom.addEventListener("click",this._stop);this._tDom.addEventListener("mousewheel",this._stop);this._tDom.addEventListener("mousemove",this._stop);this._tDom.addEventListener("mousedown",this._stop);this._tDom.addEventListener("mouseup",
this._stop);this._tDom.addEventListener("touchstart",this._stop);this._tDom.addEventListener("touchmove",this._stop);this._tDom.addEventListener("touchend",this._stop)}else{this._tDom.attachEvent("onclick",this._stop);this._tDom.attachEvent("onmousewheel",this._stop);this._tDom.attachEvent("onmousemove",this._stop);this._tDom.attachEvent("onmousedown",this._stop);this._tDom.attachEvent("onmouseup",this._stop)}}var A=t("./base"),s=t("../config"),q=t("zrender/tool/util");x.prototype={type:s.COMPONENT_TYPE_DATAVIEW,
_lang:["Data View","close","refresh"],_gCssText:"position:absolute;display:block;overflow:hidden;transition:height 0.8s,background-color 1s;-moz-transition:height 0.8s,background-color 1s;-webkit-transition:height 0.8s,background-color 1s;-o-transition:height 0.8s,background-color 1s;z-index:1;left:0;top:0;",hide:function(){this._sizeCssText="width:"+this._zrWidth+"px;height:0px;background-color:#f0ffff;";this._tDom.style.cssText=this._gCssText+this._sizeCssText},show:function(r){this._hasShow=true;
var o=this.query(this.option,"toolbox.feature.dataView.lang")||this._lang;this.option=r;this._tDom.innerHTML='<p style="padding:8px 0;margin:0 0 10px 0;border-bottom:1px solid #eee">'+(o[0]||this._lang[0])+"</p>";this._textArea.style.cssText="display:block;margin:0 0 8px 0;padding:4px 6px;overflow:auto;width:"+(this._zrWidth-15)+"px;height:"+(this._zrHeight-100)+"px;";r=this.query(this.option,"toolbox.feature.dataView.optionToContent");this._textArea.value=typeof r!="function"?this._optionToContent():
r(this.option);this._tDom.appendChild(this._textArea);this._buttonClose.style.cssText="float:right;padding:1px 6px;";this._buttonClose.innerHTML=o[1]||this._lang[1];var v=this;this._buttonClose.onclick=function(){v.hide()};this._tDom.appendChild(this._buttonClose);if(this.query(this.option,"toolbox.feature.dataView.readOnly")===false){this._buttonRefresh.style.cssText="float:right;margin-right:10px;padding:1px 6px;";this._buttonRefresh.innerHTML=o[2]||this._lang[2];this._buttonRefresh.onclick=function(){v._save()};
this._tDom.appendChild(this._buttonRefresh);this._textArea.readOnly=false;this._textArea.style.cursor="default"}else{this._textArea.readOnly=true;this._textArea.style.cursor="text"}this._sizeCssText="width:"+this._zrWidth+"px;height:"+this._zrHeight+"px;background-color:#fff;";this._tDom.style.cssText=this._gCssText+this._sizeCssText},_optionToContent:function(){var r,o,v,m,k,i,f=[],g="";if(this.option.xAxis){f=this.option.xAxis instanceof Array?this.option.xAxis:[this.option.xAxis];r=0;for(m=f.length;r<
m;r++)if((f[r].type||"category")=="category"){i=[];o=0;for(v=f[r].data.length;o<v;o++){k=f[r].data[o];i.push(typeof k.value!="undefined"?k.value:k)}g+=i.join(", ")+"\n\n"}}if(this.option.yAxis){f=this.option.yAxis instanceof Array?this.option.yAxis:[this.option.yAxis];r=0;for(m=f.length;r<m;r++)if(f[r].type=="category"){i=[];o=0;for(v=f[r].data.length;o<v;o++){k=f[r].data[o];i.push(typeof k.value!="undefined"?k.value:k)}g+=i.join(", ")+"\n\n"}}f=this.option.series;var d;r=0;for(m=f.length;r<m;r++){i=
[];o=0;for(v=f[r].data.length;o<v;o++){k=f[r].data[o];d=f[r].type==s.CHART_TYPE_PIE||f[r].type==s.CHART_TYPE_MAP?(k.name||"-")+":":"";if(f[r].type==s.CHART_TYPE_SCATTER){k=typeof k.value!="undefined"?k.value:k;k=k.join(", ")}i.push(d+(typeof k.value!="undefined"?k.value:k))}g+=(f[r].name||"-")+" : \n";g+=i.join(f[r].type==s.CHART_TYPE_SCATTER?"\n":", ");g+="\n\n"}return g},_save:function(){var r=this._textArea.value,o=this.query(this.option,"toolbox.feature.dataView.contentToOption");if(typeof o!=
"function"){r=r.split("\n");o=[];for(var v=0,m=r.length;v<m;v++){r[v]=this._trim(r[v]);r[v]!==""&&o.push(r[v])}this._contentToOption(o)}else o(r,this.option);this.hide();var k=this;setTimeout(function(){k.messageCenter&&k.messageCenter.dispatch(s.EVENT.DATA_VIEW_CHANGED,null,{option:k.option},k.myChart)},k.canvasSupported?800:100)},_contentToOption:function(r){var o,v,m,k,i=[],f=0,g,d;if(this.option.xAxis){i=this.option.xAxis instanceof Array?this.option.xAxis:[this.option.xAxis];o=0;for(k=i.length;o<
k;o++)if((i[o].type||"category")=="category"){g=r[f].split(",");v=0;for(m=i[o].data.length;v<m;v++){d=this._trim(g[v]||"");if(typeof i[o].data[v].value!="undefined")i[o].data[v].value=d;else i[o].data[v]=d}f++}}if(this.option.yAxis){i=this.option.yAxis instanceof Array?this.option.yAxis:[this.option.yAxis];o=0;for(k=i.length;o<k;o++)if(i[o].type=="category"){g=r[f].split(",");v=0;for(m=i[o].data.length;v<m;v++){d=this._trim(g[v]||"");if(typeof i[o].data[v].value!="undefined")i[o].data[v].value=d;
else i[o].data[v]=d}f++}}i=this.option.series;o=0;for(k=i.length;o<k;o++){f++;if(i[o].type==s.CHART_TYPE_SCATTER){v=0;for(m=i[o].data.length;v<m;v++){g=r[f];d=g.replace(" ","").split(",");if(typeof i[o].data[v].value!="undefined")i[o].data[v].value=d;else i[o].data[v]=d;f++}}else{g=r[f].split(",");v=0;for(m=i[o].data.length;v<m;v++){d=(g[v]||"").replace(/.*:/,"");d=this._trim(d);d=d!="-"&&d!==""?d-0:"-";if(typeof i[o].data[v].value!="undefined")i[o].data[v].value=d;else i[o].data[v]=d}f++}}},_trim:function(r){return r.replace(new RegExp("(^[\\s\\t\\xa0\\u3000]+)|([\\u3000\\xa0\\s\\t]+$)",
"g"),"")},_stop:function(r){r=r||window.event;if(r.stopPropagation)r.stopPropagation();else r.cancelBubble=true},resize:function(){this._zrHeight=this.zr.getHeight();this._zrWidth=this.zr.getWidth();if(this._tDom.offsetHeight>10){this._sizeCssText="width:"+this._zrWidth+"px;height:"+this._zrHeight+"px;background-color:#fff;";this._tDom.style.cssText=this._gCssText+this._sizeCssText;this._textArea.style.cssText="display:block;margin:0 0 8px 0;padding:4px 6px;overflow:auto;width:"+(this._zrWidth-15)+
"px;height:"+(this._zrHeight-100)+"px;"}},dispose:function(){if(window.removeEventListener){this._tDom.removeEventListener("click",this._stop);this._tDom.removeEventListener("mousewheel",this._stop);this._tDom.removeEventListener("mousemove",this._stop);this._tDom.removeEventListener("mousedown",this._stop);this._tDom.removeEventListener("mouseup",this._stop);this._tDom.removeEventListener("touchstart",this._stop);this._tDom.removeEventListener("touchmove",this._stop);this._tDom.removeEventListener("touchend",
this._stop)}else{this._tDom.detachEvent("onclick",this._stop);this._tDom.detachEvent("onmousewheel",this._stop);this._tDom.detachEvent("onmousemove",this._stop);this._tDom.detachEvent("onmousedown",this._stop);this._tDom.detachEvent("onmouseup",this._stop)}this._buttonRefresh.onclick=null;this._buttonClose.onclick=null;if(this._hasShow){this._tDom.removeChild(this._textArea);this._tDom.removeChild(this._buttonRefresh);this._tDom.removeChild(this._buttonClose)}this._buttonClose=this._buttonRefresh=
this._textArea=null;this.dom.firstChild.removeChild(this._tDom);this._tDom=null}};q.inherits(x,A);t("../component").define("dataView",x);return x});V("echarts/component/toolbox",["require","./base","zrender/shape/Line","zrender/shape/Image","zrender/shape/Rectangle","../util/shape/Icon","../config","zrender/tool/util","zrender/config","zrender/tool/event","./dataView","../component"],function(t){function x(f,g,d,a,c){A.call(this,f,g,d,a,c);this.dom=c.dom;this._magicType={};this._magicMap={};this._isSilence=
false;this._iconShapeMap={};this._featureTitle={};this._featureIcon={};this._featureColor={};this._enableColor="red";this._disableColor="#ccc";this._markShapeList=[];var b=this;b._onMark=function(e){b.__onMark(e)};b._onMarkUndo=function(e){b.__onMarkUndo(e)};b._onMarkClear=function(e){b.__onMarkClear(e)};b._onDataZoom=function(e){b.__onDataZoom(e)};b._onDataZoomReset=function(e){b.__onDataZoomReset(e)};b._onDataView=function(e){b.__onDataView(e)};b._onRestore=function(e){b.__onRestore(e)};b._onSaveAsImage=
function(e){b.__onSaveAsImage(e)};b._onMagicType=function(e){b.__onMagicType(e)};b._onCustomHandler=function(e){b.__onCustomHandler(e)};b._onmousemove=function(e){return b.__onmousemove(e)};b._onmousedown=function(e){return b.__onmousedown(e)};b._onmouseup=function(e){return b.__onmouseup(e)};b._onclick=function(e){return b.__onclick(e)}}var A=t("./base"),s=t("zrender/shape/Line"),q=t("zrender/shape/Image"),r=t("zrender/shape/Rectangle"),o=t("../util/shape/Icon"),v=t("../config"),m=t("zrender/tool/util"),
k=t("zrender/config"),i=t("zrender/tool/event");x.prototype={type:v.COMPONENT_TYPE_TOOLBOX,_buildShape:function(){this._iconList=[];var f=this.option.toolbox;this._enableColor=f.effectiveColor;this._disableColor=f.disableColor;f=f.feature;var g=[];for(var d in f)if(f[d].show)switch(d){case "mark":g.push({key:d,name:"mark"});g.push({key:d,name:"markUndo"});g.push({key:d,name:"markClear"});break;case "magicType":for(var a=0,c=f[d].type.length;a<c;a++){f[d].title[f[d].type[a]+"Chart"]=f[d].title[f[d].type[a]];
g.push({key:d,name:f[d].type[a]+"Chart"})}break;case "dataZoom":g.push({key:d,name:"dataZoom"});g.push({key:d,name:"dataZoomReset"});break;case "saveAsImage":this.canvasSupported&&g.push({key:d,name:"saveAsImage"});break;default:g.push({key:d,name:d});break}if(g.length>0){var b;a=0;for(c=g.length;a<c;a++){b=g[a].name;d=g[a].key;this._iconList.push(b);this._featureTitle[b]=f[d].title[b]||f[d].title;if(f[d].icon)this._featureIcon[b]=f[d].icon[b]||f[d].icon;if(f[d].color)this._featureColor[b]=f[d].color[b]||
f[d].color}this._itemGroupLocation=this._getItemGroupLocation();this._buildBackground();this._buildItem();a=0;for(c=this.shapeList.length;a<c;a++)this.zr.addShape(this.shapeList[a]);if(this._iconShapeMap.mark){this._iconDisable(this._iconShapeMap.markUndo);this._iconDisable(this._iconShapeMap.markClear)}this._iconShapeMap.dataZoomReset&&this._zoomQueue.length===0&&this._iconDisable(this._iconShapeMap.dataZoomReset)}},_buildItem:function(){var f=this.option.toolbox,g=this._iconList.length,d=this._itemGroupLocation.x,
a=this._itemGroupLocation.y,c=f.itemSize,b=f.itemGap,e,h=f.color instanceof Array?f.color:[f.color],j=this.getFont(f.textStyle),l,n,p;if(f.orient==="horizontal"){l=this._itemGroupLocation.y/this.zr.getHeight()<0.5?"bottom":"top";n=this._itemGroupLocation.x/this.zr.getWidth()<0.5?"left":"right";p=this._itemGroupLocation.y/this.zr.getHeight()<0.5?"top":"bottom"}else l=this._itemGroupLocation.x/this.zr.getWidth()<0.5?"right":"left";this._iconShapeMap={};for(var w=0;w<g;w++){e={type:"icon",zlevel:this._zlevelBase,
style:{x:d,y:a,width:c,height:c,iconType:this._iconList[w],lineWidth:1,strokeColor:this._featureColor[this._iconList[w]]||h[w%h.length],brushType:"stroke"},highlightStyle:{lineWidth:1,text:f.showTitle?this._featureTitle[this._iconList[w]]:undefined,textFont:j,textPosition:l,strokeColor:this._featureColor[this._iconList[w]]||h[w%h.length]},hoverable:true,clickable:true};if(this._featureIcon[this._iconList[w]]){e.style.image=this._featureIcon[this._iconList[w]].replace(/^image:\/\//,"");e.style.opacity=
0.8;e.highlightStyle.opacity=1;e.type="image"}if(f.orient==="horizontal"){if(w===0&&n==="left"){e.highlightStyle.textPosition="specific";e.highlightStyle.textAlign=n;e.highlightStyle.textBaseline=p;e.highlightStyle.textX=d;e.highlightStyle.textY=p==="top"?a+c+10:a-10}if(w===g-1&&n==="right"){e.highlightStyle.textPosition="specific";e.highlightStyle.textAlign=n;e.highlightStyle.textBaseline=p;e.highlightStyle.textX=d+c;e.highlightStyle.textY=p==="top"?a+c+10:a-10}}switch(this._iconList[w]){case "mark":e.onclick=
this._onMark;break;case "markUndo":e.onclick=this._onMarkUndo;break;case "markClear":e.onclick=this._onMarkClear;break;case "dataZoom":e.onclick=this._onDataZoom;break;case "dataZoomReset":e.onclick=this._onDataZoomReset;break;case "dataView":if(!this._dataView)this._dataView=new (t("./dataView"))(this.ecTheme,this.messageCenter,this.zr,this.option,this.myChart);e.onclick=this._onDataView;break;case "restore":e.onclick=this._onRestore;break;case "saveAsImage":e.onclick=this._onSaveAsImage;break;default:if(this._iconList[w].match("Chart")){e._name=
this._iconList[w].replace("Chart","");e.onclick=this._onMagicType}else e.onclick=this._onCustomHandler;break}if(e.type==="icon")e=new o(e);else if(e.type==="image")e=new q(e);this.shapeList.push(e);this._iconShapeMap[this._iconList[w]]=e;if(f.orient==="horizontal")d+=c+b;else a+=c+b}},_buildBackground:function(){var f=this.option.toolbox,g=f.padding[0],d=f.padding[3];this.shapeList.push(new r({zlevel:this._zlevelBase,hoverable:false,style:{x:this._itemGroupLocation.x-d,y:this._itemGroupLocation.y-
g,width:this._itemGroupLocation.width+d+f.padding[1],height:this._itemGroupLocation.height+g+f.padding[2],brushType:f.borderWidth===0?"fill":"both",color:f.backgroundColor,strokeColor:f.borderColor,lineWidth:f.borderWidth}}))},_getItemGroupLocation:function(){var f=this.option.toolbox,g=this._iconList.length,d=f.itemGap,a=f.itemSize,c=0,b=0;if(f.orient==="horizontal"){c=(a+d)*g-d;b=a}else{b=(a+d)*g-d;c=a}g=this.zr.getWidth();switch(f.x){case "center":g=Math.floor((g-c)/2);break;case "left":g=f.padding[3]+
f.borderWidth;break;case "right":g=g-c-f.padding[1]-f.borderWidth;break;default:g=f.x-0;g=isNaN(g)?0:g;break}d=this.zr.getHeight();switch(f.y){case "top":f=f.padding[0]+f.borderWidth;break;case "bottom":f=d-b-f.padding[2]-f.borderWidth;break;case "center":f=Math.floor((d-b)/2);break;default:f=f.y-0;f=isNaN(f)?0:f;break}return{x:g,y:f,width:c,height:b}},__onmousemove:function(f){if(this._marking){this._markShape.style.xEnd=i.getX(f.event);this._markShape.style.yEnd=i.getY(f.event);this.zr.addHoverShape(this._markShape)}if(this._zooming){this._zoomShape.style.width=
i.getX(f.event)-this._zoomShape.style.x;this._zoomShape.style.height=i.getY(f.event)-this._zoomShape.style.y;this.zr.addHoverShape(this._zoomShape);this.dom.style.cursor="crosshair"}if(this._zoomStart&&this.dom.style.cursor!="pointer"&&this.dom.style.cursor!="move")this.dom.style.cursor="crosshair"},__onmousedown:function(f){if(!f.target){this._zooming=true;var g=i.getX(f.event);f=i.getY(f.event);var d=this.option.dataZoom||{};this._zoomShape=new r({zlevel:this._zlevelBase,style:{x:g,y:f,width:1,
height:1,brushType:"both"},highlightStyle:{lineWidth:2,color:d.fillerColor||v.dataZoom.fillerColor,strokeColor:d.handleColor||v.dataZoom.handleColor,brushType:"both"}});this.zr.addHoverShape(this._zoomShape);return true}},__onmouseup:function(){if(!this._zoomShape||Math.abs(this._zoomShape.style.width)<10||Math.abs(this._zoomShape.style.height)<10){this._zooming=false;return true}if(this._zooming&&this.component.dataZoom){this._zooming=false;var f=this.component.dataZoom.rectZoom(this._zoomShape.style);
if(f){this._zoomQueue.push({start:f.start,end:f.end,start2:f.start2,end2:f.end2});this._iconEnable(this._iconShapeMap.dataZoomReset);this.zr.refresh()}}return true},__onclick:function(f){if(!f.target)if(this._marking){this._marking=false;this._markShapeList.push(this._markShape);this._iconEnable(this._iconShapeMap.markUndo);this._iconEnable(this._iconShapeMap.markClear);this.zr.addShape(this._markShape);this.zr.refresh()}else if(this._markStart){this._marking=true;var g=i.getX(f.event);f=i.getY(f.event);
this._markShape=new s({zlevel:this._zlevelBase,style:{xStart:g,yStart:f,xEnd:g,yEnd:f,lineWidth:this.query(this.option,"toolbox.feature.mark.lineStyle.width"),strokeColor:this.query(this.option,"toolbox.feature.mark.lineStyle.color"),lineType:this.query(this.option,"toolbox.feature.mark.lineStyle.type")}});this.zr.addHoverShape(this._markShape)}},__onMark:function(f){f=f.target;if(this._marking||this._markStart){this._resetMark();this.zr.refresh()}else{this._resetZoom();this.zr.modShape(f.id,{style:{strokeColor:this._enableColor}});
this.zr.refresh();this._markStart=true;var g=this;setTimeout(function(){g.zr&&g.zr.on(k.EVENT.CLICK,g._onclick)&&g.zr.on(k.EVENT.MOUSEMOVE,g._onmousemove)},10)}return true},__onMarkUndo:function(){if(this._marking)this._marking=false;else{var f=this._markShapeList.length;if(f>=1){this.zr.delShape(this._markShapeList[f-1].id);this.zr.refresh();this._markShapeList.pop();if(f===1){this._iconDisable(this._iconShapeMap.markUndo);this._iconDisable(this._iconShapeMap.markClear)}}}return true},__onMarkClear:function(){if(this._marking)this._marking=
false;var f=this._markShapeList.length;if(f>0){for(;f--;)this.zr.delShape(this._markShapeList.pop().id);this._iconDisable(this._iconShapeMap.markUndo);this._iconDisable(this._iconShapeMap.markClear);this.zr.refresh()}return true},__onDataZoom:function(f){f=f.target;if(this._zooming||this._zoomStart){this._resetZoom();this.zr.refresh();this.dom.style.cursor="default"}else{this._resetMark();this.zr.modShape(f.id,{style:{strokeColor:this._enableColor}});this.zr.refresh();this._zoomStart=true;var g=this;
setTimeout(function(){g.zr&&g.zr.on(k.EVENT.MOUSEDOWN,g._onmousedown)&&g.zr.on(k.EVENT.MOUSEUP,g._onmouseup)&&g.zr.on(k.EVENT.MOUSEMOVE,g._onmousemove)},10);this.dom.style.cursor="crosshair"}return true},__onDataZoomReset:function(){if(this._zooming)this._zooming=false;this._zoomQueue.pop();if(this._zoomQueue.length>0)this.component.dataZoom.absoluteZoom(this._zoomQueue[this._zoomQueue.length-1]);else{this.component.dataZoom.rectZoom();this._iconDisable(this._iconShapeMap.dataZoomReset);this.zr.refresh()}return true},
_resetMark:function(){this._marking=false;if(this._markStart){this._markStart=false;this._iconShapeMap.mark&&this.zr.modShape(this._iconShapeMap.mark.id,{style:{strokeColor:this._iconShapeMap.mark.highlightStyle.strokeColor}});this.zr.un(k.EVENT.CLICK,this._onclick);this.zr.un(k.EVENT.MOUSEMOVE,this._onmousemove)}},_resetZoom:function(){this._zooming=false;if(this._zoomStart){this._zoomStart=false;this._iconShapeMap.dataZoom&&this.zr.modShape(this._iconShapeMap.dataZoom.id,{style:{strokeColor:this._iconShapeMap.dataZoom.highlightStyle.strokeColor}});
this.zr.un(k.EVENT.MOUSEDOWN,this._onmousedown);this.zr.un(k.EVENT.MOUSEUP,this._onmouseup);this.zr.un(k.EVENT.MOUSEMOVE,this._onmousemove)}},_iconDisable:function(f){f.type!="image"?this.zr.modShape(f.id,{hoverable:false,clickable:false,style:{strokeColor:this._disableColor}}):this.zr.modShape(f.id,{hoverable:false,clickable:false,style:{opacity:0.3}})},_iconEnable:function(f){f.type!="image"?this.zr.modShape(f.id,{hoverable:true,clickable:true,style:{strokeColor:f.highlightStyle.strokeColor}}):
this.zr.modShape(f.id,{hoverable:true,clickable:true,style:{opacity:0.8}})},__onDataView:function(){this._dataView.show(this.option);return true},__onRestore:function(){this._resetMark();this._resetZoom();this.messageCenter.dispatch(v.EVENT.RESTORE,null,null,this.myChart);return true},__onSaveAsImage:function(){var f=this.option.toolbox.feature.saveAsImage,g=f.type||"png";if(g!="png"&&g!="jpeg")g="png";var d;d=this.myChart.isConnected()?this.myChart.getConnectedDataURL(g):this.zr.toDataURL("image/"+
g,this.option.backgroundColor&&this.option.backgroundColor.replace(" ","")==="rgba(0,0,0,0)"?"#fff":this.option.backgroundColor);var a=document.createElement("div");a.id="__echarts_download_wrap__";a.style.cssText="position:fixed;z-index:99999;display:block;top:0;left:0;background-color:rgba(33,33,33,0.5);text-align:center;width:100%;height:100%;line-height:"+document.documentElement.clientHeight+"px;";var c=document.createElement("a");c.href=d;c.setAttribute("download",(f.name?f.name:this.option.title&&
(this.option.title.text||this.option.title.subtext)?this.option.title.text||this.option.title.subtext:"ECharts")+"."+g);c.innerHTML='<img style="vertical-align:middle" src="'+d+'" title="'+(window.attachEvent&&navigator.userAgent.indexOf("Opera")===-1?"\u53f3\u952e->\u56fe\u7247\u53e6\u5b58\u4e3a":f.lang?f.lang[0]:"\u70b9\u51fb\u4fdd\u5b58")+'"/>';a.appendChild(c);document.body.appendChild(a);a=c=null;setTimeout(function(){var b=document.getElementById("__echarts_download_wrap__");if(b){b.onclick=
function(){var e=document.getElementById("__echarts_download_wrap__");e.onclick=null;e.innerHTML="";document.body.removeChild(e)};b=null}},500)},__onMagicType:function(f){this._resetMark();var g=f.target._name;if(!this._magicType[g]){this._magicType[g]=true;if(g===v.CHART_TYPE_LINE)this._magicType[v.CHART_TYPE_BAR]=false;else if(g===v.CHART_TYPE_BAR)this._magicType[v.CHART_TYPE_LINE]=false;if(g==="stack")this._magicType.tiled=false;else if(g==="tiled")this._magicType.stack=false;this.messageCenter.dispatch(v.EVENT.MAGIC_TYPE_CHANGED,
f.event,{magicType:this._magicType},this.myChart)}return true},setMagicType:function(f){this._resetMark();this._magicType=f;!this._isSilence&&this.messageCenter.dispatch(v.EVENT.MAGIC_TYPE_CHANGED,null,{magicType:this._magicType},this.myChart)},__onCustomHandler:function(f){f=this.option.toolbox.feature[f.target.style.iconType].onclick;typeof f==="function"&&f.call(this,this.option)},reset:function(f,g){g&&this.clear();if(this.query(f,"toolbox.show")&&this.query(f,"toolbox.feature.magicType.show")){var d=
f.toolbox.feature.magicType.type,a=d.length;for(this._magicMap={};a--;)this._magicMap[d[a]]=true;a=f.series.length;for(var c;a--;){d=f.series[a].type;if(this._magicMap[d]){if((c=f.xAxis instanceof Array?f.xAxis[f.series[a].xAxisIndex||0]:f.xAxis)&&(c.type||"category")==="category")c.__boundaryGap=c.boundaryGap!=null?c.boundaryGap:true;if((c=f.yAxis instanceof Array?f.yAxis[f.series[a].yAxisIndex||0]:f.yAxis)&&c.type==="category")c.__boundaryGap=c.boundaryGap!=null?c.boundaryGap:true;f.series[a].__type=
d;f.series[a].__itemStyle=m.clone(f.series[a].itemStyle||{})}if(this._magicMap.stack||this._magicMap.tiled)f.series[a].__stack=f.series[a].stack}}this._magicType=g?{}:this._magicType||{};for(var b in this._magicType)if(this._magicType[b]){this.option=f;this.getMagicOption();break}if((g=f.dataZoom)&&g.show){f=g.start!=null&&g.start>=0&&g.start<=100?g.start:0;g=g.end!=null&&g.end>=0&&g.end<=100?g.end:100;if(f>g){f+=g;g=f-g;f-=g}this._zoomQueue=[{start:f,end:g,start2:0,end2:100}]}else this._zoomQueue=
[]},getMagicOption:function(){var f;if(this._magicType[v.CHART_TYPE_LINE]||this._magicType[v.CHART_TYPE_BAR])for(var g=this._magicType[v.CHART_TYPE_LINE]?false:true,d=0,a=this.option.series.length;d<a;d++)if(this._magicMap[this.option.series[d].type]){this.option.series[d].type=this._magicType[v.CHART_TYPE_LINE]?v.CHART_TYPE_LINE:v.CHART_TYPE_BAR;this.option.series[d].itemStyle=m.clone(this.option.series[d].__itemStyle);if((f=this.option.xAxis instanceof Array?this.option.xAxis[this.option.series[d].xAxisIndex||
0]:this.option.xAxis)&&(f.type||"category")==="category")f.boundaryGap=g?true:f.__boundaryGap;if((f=this.option.yAxis instanceof Array?this.option.yAxis[this.option.series[d].yAxisIndex||0]:this.option.yAxis)&&f.type==="category")f.boundaryGap=g?true:f.__boundaryGap}if(this._magicType.stack||this._magicType.tiled){d=0;for(a=this.option.series.length;d<a;d++)if(this._magicType.stack)this.option.series[d].stack="_ECHARTS_STACK_KENER_2014_";else if(this._magicType.tiled)this.option.series[d].stack=null}return this.option},
silence:function(f){this._isSilence=f},resize:function(){this._resetMark();this.clear();this.option&&this.option.toolbox&&this.option.toolbox.show&&this._buildShape();this._dataView&&this._dataView.resize()},hideDataView:function(){this._dataView&&this._dataView.hide()},clear:function(f){if(this.zr){this.zr.delShape(this.shapeList);this.shapeList=[];if(!f){this.zr.delShape(this._markShapeList);this._markShapeList=[]}}},dispose:function(){if(this._dataView){this._dataView.dispose();this._dataView=
null}this.clear();this._markShapeList=this.shapeList=null},refresh:function(f){if(f){this._resetMark();this._resetZoom();f.toolbox=this.reformOption(f.toolbox);f.toolbox.padding=this.reformCssArray(f.toolbox.padding);this.option=f;this.clear(true);f.toolbox.show&&this._buildShape();this.hideDataView()}}};m.inherits(x,A);t("../component").define("toolbox",x);return x});V("echarts/component/title",["require","./base","zrender/shape/Text","zrender/shape/Rectangle","../config","zrender/tool/util","zrender/tool/area",
"zrender/tool/color","../component"],function(t){function x(k,i,f,g,d){A.call(this,k,i,f,g,d);this.refresh(g)}var A=t("./base"),s=t("zrender/shape/Text"),q=t("zrender/shape/Rectangle"),r=t("../config"),o=t("zrender/tool/util"),v=t("zrender/tool/area"),m=t("zrender/tool/color");x.prototype={type:r.COMPONENT_TYPE_TITLE,_buildShape:function(){this._itemGroupLocation=this._getItemGroupLocation();this._buildBackground();this._buildItem();for(var k=0,i=this.shapeList.length;k<i;k++)this.zr.addShape(this.shapeList[k])},
_buildItem:function(){var k=this.titleOption.text,i=this.titleOption.link,f=this.titleOption.target,g=this.titleOption.subtext,d=this.titleOption.sublink,a=this.titleOption.subtarget,c=this.getFont(this.titleOption.textStyle),b=this.getFont(this.titleOption.subtextStyle),e=this._itemGroupLocation.x,h=this._itemGroupLocation.y,j=this._itemGroupLocation.width,l=this._itemGroupLocation.height;k={zlevel:this._zlevelBase,style:{y:h,color:this.titleOption.textStyle.color,text:k,textFont:c,textBaseline:"top"},
highlightStyle:{color:m.lift(this.titleOption.textStyle.color,1),brushType:"fill"},hoverable:false};if(i){k.hoverable=true;k.clickable=true;k.onclick=function(){if(!f||f!="self")window.open(i);else window.location=i}}b={zlevel:this._zlevelBase,style:{y:h+l,color:this.titleOption.subtextStyle.color,text:g,textFont:b,textBaseline:"bottom"},highlightStyle:{color:m.lift(this.titleOption.subtextStyle.color,1),brushType:"fill"},hoverable:false};if(d){b.hoverable=true;b.clickable=true;b.onclick=function(){if(!a||
a!="self")window.open(d);else window.location=d}}switch(this.titleOption.x){case "center":k.style.x=b.style.x=e+j/2;k.style.textAlign=b.style.textAlign="center";break;case "left":k.style.x=b.style.x=e;k.style.textAlign=b.style.textAlign="left";break;case "right":k.style.x=b.style.x=e+j;k.style.textAlign=b.style.textAlign="right";break;default:e=this.titleOption.x-0;e=isNaN(e)?0:e;k.style.x=b.style.x=e;break}if(this.titleOption.textAlign)k.style.textAlign=b.style.textAlign=this.titleOption.textAlign;
this.shapeList.push(new s(k));g!==""&&this.shapeList.push(new s(b))},_buildBackground:function(){var k=this.titleOption.padding[0],i=this.titleOption.padding[3];this.shapeList.push(new q({zlevel:this._zlevelBase,hoverable:false,style:{x:this._itemGroupLocation.x-i,y:this._itemGroupLocation.y-k,width:this._itemGroupLocation.width+i+this.titleOption.padding[1],height:this._itemGroupLocation.height+k+this.titleOption.padding[2],brushType:this.titleOption.borderWidth===0?"fill":"both",color:this.titleOption.backgroundColor,
strokeColor:this.titleOption.borderColor,lineWidth:this.titleOption.borderWidth}}))},_getItemGroupLocation:function(){var k=this.titleOption.text,i=this.titleOption.subtext,f=this.getFont(this.titleOption.textStyle),g=this.getFont(this.titleOption.subtextStyle),d=Math.max(v.getTextWidth(k,f),v.getTextWidth(i,g));k=v.getTextHeight(k,f)+(i===""?0:this.titleOption.itemGap+v.getTextHeight(i,g));i=this.zr.getWidth();switch(this.titleOption.x){case "center":i=Math.floor((i-d)/2);break;case "left":i=this.titleOption.padding[3]+
this.titleOption.borderWidth;break;case "right":i=i-d-this.titleOption.padding[1]-this.titleOption.borderWidth;break;default:i=this.titleOption.x-0;i=isNaN(i)?0:i;break}f=this.zr.getHeight();switch(this.titleOption.y){case "top":f=this.titleOption.padding[0]+this.titleOption.borderWidth;break;case "bottom":f=f-k-this.titleOption.padding[2]-this.titleOption.borderWidth;break;case "center":f=Math.floor((f-k)/2);break;default:f=this.titleOption.y-0;f=isNaN(f)?0:f;break}return{x:i,y:f,width:d,height:k}},
refresh:function(k){if(k){this.option=k;this.option.title=this.reformOption(this.option.title);this.option.title.padding=this.reformCssArray(this.option.title.padding);this.titleOption=this.option.title;this.titleOption.textStyle=o.merge(this.titleOption.textStyle,this.ecTheme.textStyle);this.titleOption.subtextStyle=o.merge(this.titleOption.subtextStyle,this.ecTheme.textStyle)}this.clear();this._buildShape()}};o.inherits(x,A);t("../component").define("title",x);return x});V("echarts/util/shape/Cross",
["require","zrender/shape/Base","zrender/shape/Line","zrender/tool/util","./normalIsCover"],function(t){function x(r){A.call(this,r)}var A=t("zrender/shape/Base"),s=t("zrender/shape/Line"),q=t("zrender/tool/util");x.prototype={type:"cross",buildPath:function(r,o){var v=o.rect;o.xStart=v.x;o.xEnd=v.x+v.width;o.yStart=o.yEnd=o.y;s.prototype.buildPath(r,o);o.xStart=o.xEnd=o.x;o.yStart=v.y;o.yEnd=v.y+v.height;s.prototype.buildPath(r,o)},getRect:function(r){return r.rect},isCover:t("./normalIsCover")};
q.inherits(x,A);return x});V("echarts/component/tooltip",["require","./base","../util/shape/Cross","zrender/shape/Line","zrender/shape/Rectangle","../config","../util/ecData","zrender/config","zrender/tool/event","zrender/tool/area","zrender/tool/color","zrender/tool/util","zrender/shape/Base","../component"],function(t){function x(a,c,b,e,h){A.call(this,a,c,b,e,h);this.dom=h.dom;var j=this;j._onmousemove=function(l){return j.__onmousemove(l)};j._onglobalout=function(l){return j.__onglobalout(l)};
this.zr.on(m.EVENT.MOUSEMOVE,j._onmousemove);this.zr.on(m.EVENT.GLOBALOUT,j._onglobalout);j._hide=function(l){return j.__hide(l)};j._tryShow=function(l){return j.__tryShow(l)};j._refixed=function(l){return j.__refixed(l)};j._setContent=function(l,n){return j.__setContent(l,n)};this._tDom=this._tDom||document.createElement("div");this._tDom.onselectstart=function(){return false};this._tDom.style.position="absolute";this.hasAppend=false;this._axisLineShape&&this.zr.delShape(this._axisLineShape.id);
this._axisLineShape=new q({zlevel:this._zlevelBase,invisible:true,hoverable:false});this.shapeList.push(this._axisLineShape);this.zr.addShape(this._axisLineShape);this._axisShadowShape&&this.zr.delShape(this._axisShadowShape.id);this._axisShadowShape=new q({zlevel:1,invisible:true,hoverable:false});this.shapeList.push(this._axisShadowShape);this.zr.addShape(this._axisShadowShape);this._axisCrossShape&&this.zr.delShape(this._axisCrossShape.id);this._axisCrossShape=new s({zlevel:this._zlevelBase,invisible:true,
hoverable:false});this.shapeList.push(this._axisCrossShape);this.zr.addShape(this._axisCrossShape);this.showing=false;this.refresh(e)}var A=t("./base"),s=t("../util/shape/Cross"),q=t("zrender/shape/Line"),r=new (t("zrender/shape/Rectangle"))({}),o=t("../config"),v=t("../util/ecData"),m=t("zrender/config"),k=t("zrender/tool/event"),i=t("zrender/tool/area"),f=t("zrender/tool/color"),g=t("zrender/tool/util"),d=t("zrender/shape/Base");x.prototype={type:o.COMPONENT_TYPE_TOOLTIP,_gCssText:"position:absolute;display:block;border-style:solid;white-space:nowrap;",
_style:function(a){if(!a)return"";var c=[];if(a.transitionDuration){var b="left "+a.transitionDuration+"s,top "+a.transitionDuration+"s";c.push("transition:"+b);c.push("-moz-transition:"+b);c.push("-webkit-transition:"+b);c.push("-o-transition:"+b)}if(a.backgroundColor){c.push("background-Color:"+f.toHex(a.backgroundColor));c.push("filter:alpha(opacity=70)");c.push("background-Color:"+a.backgroundColor)}a.borderWidth!=null&&c.push("border-width:"+a.borderWidth+"px");a.borderColor!=null&&c.push("border-color:"+
a.borderColor);if(a.borderRadius!=null){c.push("border-radius:"+a.borderRadius+"px");c.push("-moz-border-radius:"+a.borderRadius+"px");c.push("-webkit-border-radius:"+a.borderRadius+"px");c.push("-o-border-radius:"+a.borderRadius+"px")}if(b=a.textStyle){b.color&&c.push("color:"+b.color);b.decoration&&c.push("text-decoration:"+b.decoration);b.align&&c.push("text-align:"+b.align);b.fontFamily&&c.push("font-family:"+b.fontFamily);b.fontSize&&c.push("font-size:"+b.fontSize+"px");b.fontSize&&c.push("line-height:"+
Math.round(b.fontSize*3/2)+"px");b.fontStyle&&c.push("font-style:"+b.fontStyle);b.fontWeight&&c.push("font-weight:"+b.fontWeight)}a=a.padding;if(a!=null){a=this.reformCssArray(a);c.push("padding:"+a[0]+"px "+a[1]+"px "+a[2]+"px "+a[3]+"px")}return c=c.join(";")+";"},__hide:function(){if(this._tDom)this._tDom.style.display="none";var a=false;if(!this._axisLineShape.invisible){this._axisLineShape.invisible=true;this.zr.modShape(this._axisLineShape.id);a=true}if(!this._axisShadowShape.invisible){this._axisShadowShape.invisible=
true;this.zr.modShape(this._axisShadowShape.id);a=true}if(!this._axisCrossShape.invisible){this._axisCrossShape.invisible=true;this.zr.modShape(this._axisCrossShape.id);a=true}if(this._lastTipShape&&this._lastTipShape.tipShape.length>0){this.zr.delShape(this._lastTipShape.tipShape);this._lastTipShape=false;this.shapeList.length=2}a&&this.zr.refresh();this.showing=false},_show:function(a,c,b,e){var h=this._tDom.offsetHeight,j=this._tDom.offsetWidth;if(a){if(typeof a==="function")a=a([c,b]);if(a instanceof
Array){c=a[0];b=a[1]}}if(c+j>this._zrWidth)c-=j+40;if(b+h>this._zrHeight)b-=h-20;if(b<20)b=0;this._tDom.style.cssText=this._gCssText+this._defaultCssText+(e?e:"")+"left:"+c+"px;top:"+b+"px;";if(h<10||j<10)setTimeout(this._refixed,20);this.showing=true},__refixed:function(){if(this._tDom){var a="",c=this._tDom.offsetHeight,b=this._tDom.offsetWidth;if(this._tDom.offsetLeft+b>this._zrWidth)a+="left:"+(this._zrWidth-b-20)+"px;";if(this._tDom.offsetTop+c>this._zrHeight)a+="top:"+(this._zrHeight-c-10)+
"px;";if(a!=="")this._tDom.style.cssText+=a}},__tryShow:function(){var a;if(this._curTarget)if(this._curTarget._type==="island"&&this.option.tooltip.show)this._showItemTrigger();else{var c=v.get(this._curTarget,"series"),b=v.get(this._curTarget,"data");a=this.deepQuery([b,c,this.option],"tooltip.show");if(c==null||b==null||!a){clearTimeout(this._hidingTicket);clearTimeout(this._showingTicket);this._hidingTicket=setTimeout(this._hide,this._hideDelay)}else{a=this.deepQuery([b,c,this.option],"tooltip.trigger");
a==="axis"?this._showAxisTrigger(c.xAxisIndex,c.yAxisIndex,v.get(this._curTarget,"dataIndex")):this._showItemTrigger()}}else this._findPolarTrigger()||this._findAxisTrigger()},_findAxisTrigger:function(){if(!this.component.xAxis||!this.component.yAxis)this._hidingTicket=setTimeout(this._hide,this._hideDelay);else{var a=this.option.series,c,b=0;for(c=a.length;b<c;b++)if(this.deepQuery([a[b],this.option],"tooltip.trigger")==="axis"){c=a[b].xAxisIndex||0;a=a[b].yAxisIndex||0;if(this.component.xAxis.getAxis(c)&&
this.component.xAxis.getAxis(c).type===o.COMPONENT_TYPE_AXIS_CATEGORY)this._showAxisTrigger(c,a,this._getNearestDataIndex("x",this.component.xAxis.getAxis(c)));else this.component.yAxis.getAxis(a)&&this.component.yAxis.getAxis(a).type===o.COMPONENT_TYPE_AXIS_CATEGORY?this._showAxisTrigger(c,a,this._getNearestDataIndex("y",this.component.yAxis.getAxis(a))):this._showAxisTrigger(c,a,-1);return}this.option.tooltip.axisPointer.type==="cross"&&this._showAxisTrigger(-1,-1,-1)}},_findPolarTrigger:function(){if(!this.component.polar)return false;
var a=k.getX(this._event),c=k.getY(this._event);a=this.component.polar.getNearestIndex([a,c]);var b;if(a){b=a.valueIndex;a=a.polarIndex}else a=-1;if(a!=-1)return this._showPolarTrigger(a,b);return false},_getNearestDataIndex:function(a,c){var b=-1,e=k.getX(this._event),h=k.getY(this._event);if(a==="x"){var j,l;h=this.component.grid.getXend();for(a=c.getCoordByIndex(b);a<h;){l=a;if(a<=e)j=a;else break;a=c.getCoordByIndex(++b)}if(b<=0)b=0;else if(e-j<=l-e)b-=1;else if(c.getNameByIndex(b)==null)b-=1}else{var n,
p;e=this.component.grid.getY();for(a=c.getCoordByIndex(b);a>e;){n=a;if(a>=h)p=a;else break;a=c.getCoordByIndex(++b)}if(b<=0)b=0;else if(h-n>=p-h)b-=1;else if(c.getNameByIndex(b)==null)b-=1}return b},_showAxisTrigger:function(a,c,b){!this._event.connectTrigger&&this.messageCenter.dispatch(o.EVENT.TOOLTIP_IN_GRID,this._event,null,this.myChart);if(this.component.xAxis==null||this.component.yAxis==null||a==null||c==null){clearTimeout(this._hidingTicket);clearTimeout(this._showingTicket);this._hidingTicket=
setTimeout(this._hide,this._hideDelay)}else{var e=this.option.series,h=[],j=[],l,n,p,w,B="";if(this.option.tooltip.trigger==="axis"){if(!this.option.tooltip.show)return;n=this.option.tooltip.formatter;p=this.option.tooltip.position}if(a!=-1&&this.component.xAxis.getAxis(a).type===o.COMPONENT_TYPE_AXIS_CATEGORY){l=this.component.xAxis.getAxis(a);for(var y=0,C=e.length;y<C;y++)if(this._isSelected(e[y].name))if(e[y].xAxisIndex===a&&this.deepQuery([e[y],this.option],"tooltip.trigger")==="axis"){w=this.query(e[y],
"tooltip.showContent")||w;n=this.query(e[y],"tooltip.formatter")||n;p=this.query(e[y],"tooltip.position")||p;B+=this._style(this.query(e[y],"tooltip"));if(e[y].stack!=null){h.unshift(e[y]);j.unshift(y)}else{h.push(e[y]);j.push(y)}}this.messageCenter.dispatch(o.EVENT.TOOLTIP_HOVER,this._event,{seriesIndex:j,dataIndex:b},this.myChart);c=k.getY(this._event);a=this.subPixelOptimize(l.getCoordByIndex(b),this._axisLineWidth);this._styleAxisPointer(h,a,this.component.grid.getY(),a,this.component.grid.getYend(),
l.getGap(),a,c)}else if(c!=-1&&this.component.yAxis.getAxis(c).type===o.COMPONENT_TYPE_AXIS_CATEGORY){l=this.component.yAxis.getAxis(c);y=0;for(C=e.length;y<C;y++)if(this._isSelected(e[y].name))if(e[y].yAxisIndex===c&&this.deepQuery([e[y],this.option],"tooltip.trigger")==="axis"){w=this.query(e[y],"tooltip.showContent")||w;n=this.query(e[y],"tooltip.formatter")||n;p=this.query(e[y],"tooltip.position")||p;B+=this._style(this.query(e[y],"tooltip"));h.push(e[y]);j.push(y)}this.messageCenter.dispatch(o.EVENT.TOOLTIP_HOVER,
this._event,{seriesIndex:j,dataIndex:b},this.myChart);a=k.getX(this._event);c=this.subPixelOptimize(l.getCoordByIndex(b),this._axisLineWidth);this._styleAxisPointer(h,this.component.grid.getX(),c,this.component.grid.getXend(),c,l.getGap(),a,c)}else{a=k.getX(this._event);c=k.getY(this._event);this._styleAxisPointer(e,this.component.grid.getX(),c,this.component.grid.getXend(),c,0,a,c);if(b>=0)this._showItemTrigger();else{clearTimeout(this._hidingTicket);clearTimeout(this._showingTicket);this._tDom.style.display=
"none"}}if(h.length>0){if(typeof n==="function"){j=[];y=0;for(C=h.length;y<C;y++){e=h[y].data[b];e=e!=null?e.value!=null?e.value:e:"-";j.push([h[y].name||"",l.getNameByIndex(b),e])}this._curTicket="axis:"+b;this._tDom.innerHTML=n.call(this.myChart,j,this._curTicket,this._setContent)}else{if(typeof n==="string"){this._curTicket=NaN;n=n.replace("{a}","{a0}").replace("{b}","{b0}").replace("{c}","{c0}");y=0;for(C=h.length;y<C;y++){n=n.replace("{a"+y+"}",this._encodeHTML(h[y].name||""));n=n.replace("{b"+
y+"}",this._encodeHTML(l.getNameByIndex(b)));e=h[y].data[b];e=e!=null?e.value!=null?e.value:e:"-";n=n.replace("{c"+y+"}",e instanceof Array?e:this.numAddCommas(e))}}else{this._curTicket=NaN;n=this._encodeHTML(l.getNameByIndex(b));y=0;for(C=h.length;y<C;y++){n+="<br/>"+this._encodeHTML(h[y].name||"")+" : ";e=h[y].data[b];e=e!=null?e.value!=null?e.value:e:"-";n+=e instanceof Array?e:this.numAddCommas(e)}}this._tDom.innerHTML=n}if(!(w===false||!this.option.tooltip.showContent)){if(!this.hasAppend){this._tDom.style.left=
this._zrWidth/2+"px";this._tDom.style.top=this._zrHeight/2+"px";this.dom.firstChild.appendChild(this._tDom);this.hasAppend=true}this._show(p,a+10,c+10,B)}}}},_showPolarTrigger:function(a,c){if(this.component.polar==null||a==null||c==null||c<0)return false;var b=this.option.series,e=[],h,j,l,n="";if(this.option.tooltip.trigger==="axis"){if(!this.option.tooltip.show)return false;h=this.option.tooltip.formatter;j=this.option.tooltip.position}for(var p=this.option.polar[a].indicator[c].text,w=0,B=b.length;w<
B;w++)if(this._isSelected(b[w].name))if(b[w].polarIndex===a&&this.deepQuery([b[w],this.option],"tooltip.trigger")==="axis"){l=this.query(b[w],"tooltip.showContent")||l;h=this.query(b[w],"tooltip.formatter")||h;j=this.query(b[w],"tooltip.position")||j;n+=this._style(this.query(b[w],"tooltip"));e.push(b[w])}if(e.length>0){var y=[];w=0;for(B=e.length;w<B;w++){a=e[w].data;for(var C=0,z=a.length;C<z;C++){b=a[C];if(this._isSelected(b.name)){b=b!=null?b:{name:"",value:{dataIndex:"-"}};y.push([e[w].name||
"",b.name,b.value[c].value!=null?b.value[c].value:b.value[c],p])}}}if(!(y.length<=0)){if(typeof h==="function"){this._curTicket="axis:"+c;this._tDom.innerHTML=h.call(this.myChart,y,this._curTicket,this._setContent)}else{if(typeof h==="string"){h=h.replace("{a}","{a0}").replace("{b}","{b0}").replace("{c}","{c0}").replace("{d}","{d0}");w=0;for(B=y.length;w<B;w++){h=h.replace("{a"+w+"}",this._encodeHTML(y[w][0]));h=h.replace("{b"+w+"}",this._encodeHTML(y[w][1]));h=h.replace("{c"+w+"}",this.numAddCommas(y[w][2]));
h=h.replace("{d"+w+"}",this._encodeHTML(y[w][3]))}}else{h=this._encodeHTML(y[0][1])+"<br/>"+this._encodeHTML(y[0][3])+" : "+this.numAddCommas(y[0][2]);w=1;for(B=y.length;w<B;w++){h+="<br/>"+this._encodeHTML(y[w][1])+"<br/>";h+=this._encodeHTML(y[w][3])+" : "+this.numAddCommas(y[w][2])}}this._tDom.innerHTML=h}if(!(l===false||!this.option.tooltip.showContent)){if(!this.hasAppend){this._tDom.style.left=this._zrWidth/2+"px";this._tDom.style.top=this._zrHeight/2+"px";this.dom.firstChild.appendChild(this._tDom);
this.hasAppend=true}this._show(j,k.getX(this._event),k.getY(this._event),n);return true}}}},_showItemTrigger:function(){if(this._curTarget){var a=v.get(this._curTarget,"series"),c=v.get(this._curTarget,"data"),b=v.get(this._curTarget,"name"),e=v.get(this._curTarget,"value"),h=v.get(this._curTarget,"special"),j=v.get(this._curTarget,"special2"),l,n,p,w="",B="";if(this._curTarget._type!="island"){if(this.option.tooltip.trigger==="item"){l=this.option.tooltip.formatter;n=this.option.tooltip.position}if(this.query(a,
"tooltip.trigger")==="item"){p=this.query(a,"tooltip.showContent")||p;l=this.query(a,"tooltip.formatter")||l;n=this.query(a,"tooltip.position")||n;w+=this._style(this.query(a,"tooltip"))}p=this.query(c,"tooltip.showContent")||p;l=this.query(c,"tooltip.formatter")||l;n=this.query(c,"tooltip.position")||n;w+=this._style(this.query(c,"tooltip"))}else{p=this.deepQuery([c,a,this.option],"tooltip.showContent");l=this.deepQuery([c,a,this.option],"tooltip.islandFormatter");n=this.deepQuery([c,a,this.option],
"tooltip.islandPosition")}if(typeof l==="function"){this._curTicket=(a.name||"")+":"+v.get(this._curTarget,"dataIndex");this._tDom.innerHTML=l.call(this.myChart,[a.name||"",b,e,h,j,c],this._curTicket,this._setContent)}else if(typeof l==="string"){this._curTicket=NaN;l=l.replace("{a}","{a0}").replace("{b}","{b0}").replace("{c}","{c0}");l=l.replace("{a0}",this._encodeHTML(a.name||"")).replace("{b0}",this._encodeHTML(b)).replace("{c0}",e instanceof Array?e:this.numAddCommas(e));l=l.replace("{d}","{d0}").replace("{d0}",
h||"");l=l.replace("{e}","{e0}").replace("{e0}",v.get(this._curTarget,"special2")||"");this._tDom.innerHTML=l}else{this._curTicket=NaN;if(a.type===o.CHART_TYPE_SCATTER)this._tDom.innerHTML=""+(a.name!=null?this._encodeHTML(a.name)+"<br/>":"")+(b===""?"":this._encodeHTML(b)+" : ")+e+(h==null?"":" ("+h+")");else if(a.type===o.CHART_TYPE_RADAR&&h){B+=this._encodeHTML(b===""?a.name||"":b);B+=B===""?"":"<br />";for(a=0;a<h.length;a++)B+=this._encodeHTML(h[a].text)+" : "+this.numAddCommas(e[a])+"<br />";
this._tDom.innerHTML=B}else if(a.type===o.CHART_TYPE_CHORD)if(j==null)this._tDom.innerHTML=this._encodeHTML(b)+" ("+this.numAddCommas(e)+")";else{B=this._encodeHTML(b);h=this._encodeHTML(h);this._tDom.innerHTML=""+(a.name!=null?this._encodeHTML(a.name)+"<br/>":"")+B+" -> "+h+" ("+this.numAddCommas(e)+")<br />"+h+" -> "+B+" ("+this.numAddCommas(j)+")"}else this._tDom.innerHTML=""+(a.name!=null?this._encodeHTML(a.name)+"<br/>":"")+this._encodeHTML(b)+" : "+this.numAddCommas(e)+(h==null?"":" ("+this.numAddCommas(h)+
")")}if(!this._axisLineShape.invisible||!this._axisShadowShape.invisible){this._axisLineShape.invisible=true;this.zr.modShape(this._axisLineShape.id);this._axisShadowShape.invisible=true;this.zr.modShape(this._axisShadowShape.id);this.zr.refresh()}if(!(p===false||!this.option.tooltip.showContent)){if(!this.hasAppend){this._tDom.style.left=this._zrWidth/2+"px";this._tDom.style.top=this._zrHeight/2+"px";this.dom.firstChild.appendChild(this._tDom);this.hasAppend=true}this._show(n,k.getX(this._event)+
20,k.getY(this._event)-20,w)}}},_styleAxisPointer:function(a,c,b,e,h,j,l,n){if(a.length>0){var p,w;p=this.option.tooltip.axisPointer;var B=p.type,y={line:{},cross:{},shadow:{}};for(w in y){y[w].color=p[w+"Style"].color;y[w].width=p[w+"Style"].width;y[w].type=p[w+"Style"].type}for(var C=0,z=a.length;C<z;C++)if(this.deepQuery([a[C],this.option],"tooltip.trigger")==="axis"){p=a[C];B=(w=this.query(p,"tooltip.axisPointer.type"))||B;if(w){y[w].color=this.query(p,"tooltip.axisPointer."+w+"Style.color")||
y[w].color;y[w].width=this.query(p,"tooltip.axisPointer."+w+"Style.width")||y[w].width;y[w].type=this.query(p,"tooltip.axisPointer."+w+"Style.type")||y[w].type}}if(B==="line"){this._axisLineShape.style={xStart:c,yStart:b,xEnd:e,yEnd:h,strokeColor:y.line.color,lineWidth:y.line.width,lineType:y.line.type};this._axisLineShape.invisible=false;this.zr.modShape(this._axisLineShape.id)}else if(B==="cross"){this._axisCrossShape.style={brushType:"stroke",rect:this.component.grid.getArea(),x:l,y:n,text:("( "+
this.component.xAxis.getAxis(0).getValueFromCoord(l)+" , "+this.component.yAxis.getAxis(0).getValueFromCoord(n)+" )").replace("  , "," ").replace(" ,  "," "),textPosition:"specific",strokeColor:y.cross.color,lineWidth:y.cross.width,lineType:y.cross.type};if(this.component.grid.getXend()-l>100){this._axisCrossShape.style.textAlign="left";this._axisCrossShape.style.textX=l+10}else{this._axisCrossShape.style.textAlign="right";this._axisCrossShape.style.textX=l-10}if(n-this.component.grid.getY()>50){this._axisCrossShape.style.textBaseline=
"bottom";this._axisCrossShape.style.textY=n-10}else{this._axisCrossShape.style.textBaseline="top";this._axisCrossShape.style.textY=n+10}this._axisCrossShape.invisible=false;this.zr.modShape(this._axisCrossShape.id)}else if(B==="shadow"){if(y.shadow.width==null||y.shadow.width==="auto"||isNaN(y.shadow.width))y.shadow.width=j;if(c===e)if(Math.abs(this.component.grid.getX()-c)<2){y.shadow.width/=2;c=e+=y.shadow.width/2}else{if(Math.abs(this.component.grid.getXend()-c)<2){y.shadow.width/=2;c=e-=y.shadow.width/
2}}else if(b===h)if(Math.abs(this.component.grid.getY()-b)<2){y.shadow.width/=2;b=h+=y.shadow.width/2}else if(Math.abs(this.component.grid.getYend()-b)<2){y.shadow.width/=2;b=h-=y.shadow.width/2}this._axisShadowShape.style={xStart:c,yStart:b,xEnd:e,yEnd:h,strokeColor:y.shadow.color,lineWidth:y.shadow.width};this._axisShadowShape.invisible=false;this.zr.modShape(this._axisShadowShape.id)}this.zr.refresh()}},__onmousemove:function(a){clearTimeout(this._hidingTicket);clearTimeout(this._showingTicket);
var c=a.target,b=k.getX(a.event),e=k.getY(a.event);if(c){this._curTarget=c;this._event=a.event;this._event.zrenderX=b;this._event.zrenderY=e;var h;if(this._needAxisTrigger&&this.component.polar&&(h=this.component.polar.isInside([b,e]))!=-1){a=this.option.series;c=0;for(b=a.length;c<b;c++)if(a[c].polarIndex===h&&this.deepQuery([a[c],this.option],"tooltip.trigger")==="axis"){this._curTarget=null;break}}this._showingTicket=setTimeout(this._tryShow,this._showDelay)}else{this._curTarget=false;this._event=
a.event;this._event.zrenderX=b;this._event.zrenderY=e;if(this._needAxisTrigger&&this.component.grid&&i.isInside(r,this.component.grid.getArea(),b,e))this._showingTicket=setTimeout(this._tryShow,this._showDelay);else if(this._needAxisTrigger&&this.component.polar&&this.component.polar.isInside([b,e])!=-1)this._showingTicket=setTimeout(this._tryShow,this._showDelay);else{!this._event.connectTrigger&&this.messageCenter.dispatch(o.EVENT.TOOLTIP_OUT_GRID,this._event,null,this.myChart);this._hidingTicket=
setTimeout(this._hide,this._hideDelay)}}},__onglobalout:function(){clearTimeout(this._hidingTicket);clearTimeout(this._showingTicket);this._hidingTicket=setTimeout(this._hide,this._hideDelay)},__setContent:function(a,c){if(this._tDom){if(a===this._curTicket)this._tDom.innerHTML=c;setTimeout(this._refixed,20)}},ontooltipHover:function(a,c){if(!this._lastTipShape||this._lastTipShape&&this._lastTipShape.dataIndex!=a.dataIndex){if(this._lastTipShape&&this._lastTipShape.tipShape.length>0){this.zr.delShape(this._lastTipShape.tipShape);
this.shapeList.length=2}for(var b=0,e=c.length;b<e;b++){c[b].zlevel=this._zlevelBase;c[b].style=d.prototype.getHighlightStyle(c[b].style,c[b].highlightStyle);c[b].draggable=false;c[b].hoverable=false;c[b].clickable=false;c[b].ondragend=null;c[b].ondragover=null;c[b].ondrop=null;this.shapeList.push(c[b]);this.zr.addShape(c[b])}this._lastTipShape={dataIndex:a.dataIndex,tipShape:c}}},ondragend:function(){this._hide()},onlegendSelected:function(a){this._selectedMap=a.selected},_setSelectedMap:function(){this._selectedMap=
this.component.legend?g.clone(this.component.legend.getSelectedMap()):{}},_isSelected:function(a){return this._selectedMap[a]!=null?this._selectedMap[a]:true},showTip:function(a){if(a){var c,b=this.option.series;if(a.seriesIndex!=null)c=a.seriesIndex;else for(var e=a.seriesName,h=0,j=b.length;h<j;h++)if(b[h].name===e){c=h;break}b=b[c];if(b!=null){var l=this.myChart.chart[b.type];h=this.deepQuery([b,this.option],"tooltip.trigger")==="axis";if(l)if(h){a=a.dataIndex;switch(l.type){case o.CHART_TYPE_LINE:case o.CHART_TYPE_BAR:case o.CHART_TYPE_K:if(this.component.xAxis==
null||this.component.yAxis==null||b.data.length<=a)return;var n=b.xAxisIndex||0,p=b.yAxisIndex||0;this._event=this.component.xAxis.getAxis(n).type===o.COMPONENT_TYPE_AXIS_CATEGORY?{zrenderX:this.component.xAxis.getAxis(n).getCoordByIndex(a),zrenderY:this.component.grid.getY()+(this.component.grid.getYend()-this.component.grid.getY())/4}:{zrenderX:this.component.grid.getX()+(this.component.grid.getXend()-this.component.grid.getX())/4,zrenderY:this.component.yAxis.getAxis(p).getCoordByIndex(a)};this._showAxisTrigger(n,
p,a);break;case o.CHART_TYPE_RADAR:if(this.component.polar==null||b.data[0].value.length<=a)return;n=b.polarIndex||0;p=this.component.polar.getVector(n,a,"max");this._event={zrenderX:p[0],zrenderY:p[1]};this._showPolarTrigger(n,a);break}}else{e=l.shapeList;switch(l.type){case o.CHART_TYPE_LINE:case o.CHART_TYPE_BAR:case o.CHART_TYPE_K:case o.CHART_TYPE_SCATTER:a=a.dataIndex;h=0;for(j=e.length;h<j;h++)if(v.get(e[h],"seriesIndex")===c&&v.get(e[h],"dataIndex")===a){this._curTarget=e[h];n=e[h].style.x;
p=l.type!=o.CHART_TYPE_K?e[h].style.y:e[h].style.y[0];break}break;case o.CHART_TYPE_RADAR:a=a.dataIndex;h=0;for(j=e.length;h<j;h++)if(e[h].type==="polygon"&&v.get(e[h],"seriesIndex")===c&&v.get(e[h],"dataIndex")===a){this._curTarget=e[h];p=this.component.polar.getCenter(b.polarIndex||0);n=p[0];p=p[1];break}break;case o.CHART_TYPE_PIE:a=a.name;h=0;for(j=e.length;h<j;h++)if(e[h].type==="sector"&&v.get(e[h],"seriesIndex")===c&&v.get(e[h],"name")===a){this._curTarget=e[h];p=this._curTarget.style;c=(p.startAngle+
p.endAngle)/2*Math.PI/180;n=this._curTarget.style.x+Math.cos(c)*p.r/1.5;p=this._curTarget.style.y-Math.sin(c)*p.r/1.5;break}break;case o.CHART_TYPE_MAP:a=a.name;c=b.mapType;h=0;for(j=e.length;h<j;h++)if(e[h].type==="text"&&e[h]._mapType===c&&e[h].style._name===a){this._curTarget=e[h];n=this._curTarget.style.x+this._curTarget.position[0];p=this._curTarget.style.y+this._curTarget.position[1];break}break;case o.CHART_TYPE_CHORD:a=a.name;h=0;for(j=e.length;h<j;h++)if(e[h].type==="sector"&&v.get(e[h],
"name")===a){this._curTarget=e[h];p=this._curTarget.style;c=(p.startAngle+p.endAngle)/2*Math.PI/180;n=this._curTarget.style.x+Math.cos(c)*(p.r-2);p=this._curTarget.style.y-Math.sin(c)*(p.r-2);this.zr.trigger(m.EVENT.MOUSEMOVE,{zrenderX:n,zrenderY:p});return}break;case o.CHART_TYPE_FORCE:a=a.name;h=0;for(j=e.length;h<j;h++)if(e[h].type==="circle"&&v.get(e[h],"name")===a){this._curTarget=e[h];n=this._curTarget.position[0];p=this._curTarget.position[1];break}break}if(n!=null&&p!=null){this._event={zrenderX:n,
zrenderY:p};this.zr.addHoverShape(this._curTarget);this.zr.refreshHover();this._showItemTrigger()}}}}},hideTip:function(){this._hide()},refresh:function(a){this._zrHeight=this.zr.getHeight();this._zrWidth=this.zr.getWidth();this._lastTipShape&&this._lastTipShape.tipShape.length>0&&this.zr.delShape(this._lastTipShape.tipShape);this._lastTipShape=false;this.shapeList.length=2;if(a){this.option=a;this.option.tooltip=this.reformOption(this.option.tooltip);this.option.tooltip.textStyle=g.merge(this.option.tooltip.textStyle,
this.ecTheme.textStyle);this.option.tooltip.padding=this.reformCssArray(this.option.tooltip.padding);this._needAxisTrigger=false;if(this.option.tooltip.trigger==="axis")this._needAxisTrigger=true;a=this.option.series;for(var c=0,b=a.length;c<b;c++)if(this.query(a[c],"tooltip.trigger")==="axis"){this._needAxisTrigger=true;break}this._showDelay=this.option.tooltip.showDelay;this._hideDelay=this.option.tooltip.hideDelay;this._defaultCssText=this._style(this.option.tooltip);this._setSelectedMap();this._axisLineWidth=
this.option.tooltip.axisPointer.lineStyle.width}if(this.showing){var e=this;setTimeout(function(){e.zr.trigger(m.EVENT.MOUSEMOVE,e.zr.handler._event)},50)}},dispose:function(){this._lastTipShape&&this._lastTipShape.tipShape.length>0&&this.zr.delShape(this._lastTipShape.tipShape);this.clear();this.shapeList=null;clearTimeout(this._hidingTicket);clearTimeout(this._showingTicket);this.zr.un(m.EVENT.MOUSEMOVE,this._onmousemove);this.zr.un(m.EVENT.GLOBALOUT,this._onglobalout);this.hasAppend&&this.dom.firstChild.removeChild(this._tDom);
this._tDom=null},_encodeHTML:function(a){return String(a).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}};g.inherits(x,A);t("../component").define("tooltip",x);return x});V("zrender/shape/Ring",["require","./Base","../tool/util"],function(t){var x=t("./Base"),A=function(s){x.call(this,s)};A.prototype={type:"ring",buildPath:function(s,q){s.arc(q.x,q.y,q.r,0,Math.PI*2,false);s.moveTo(q.x+q.r0,q.y);s.arc(q.x,q.y,q.r0,0,Math.PI*2,true)},getRect:function(s){if(s.__rect)return s.__rect;
var q;q=s.brushType=="stroke"||s.brushType=="fill"?s.lineWidth||1:0;s.__rect={x:Math.round(s.x-s.r-q/2),y:Math.round(s.y-s.r-q/2),width:s.r*2+q,height:s.r*2+q};return s.__rect}};t("../tool/util").inherits(A,x);return A});V("zrender/shape/Sector",["require","../tool/math","./Base","./Ring","./Polygon","../tool/util"],function(t){var x=t("../tool/math"),A=t("./Base"),s=function(q){A.call(this,q)};s.prototype={type:"sector",buildPath:function(q,r){var o=r.x,v=r.y,m=typeof r.r0=="undefined"?0:r.r0,k=
r.r,i=r.startAngle;r=r.endAngle;if(Math.abs(r-i)>=360){q.arc(o,v,k,0,Math.PI*2,false);if(m!==0){q.moveTo(o+m,v);q.arc(o,v,m,0,Math.PI*2,true)}}else{i=x.degreeToRadian(i);r=x.degreeToRadian(r);var f=Math.PI*2,g=x.cos(i),d=x.sin(i);q.moveTo(g*m+o,v-d*m);q.lineTo(g*k+o,v-d*k);q.arc(o,v,k,f-i,f-r,true);q.lineTo(x.cos(r)*m+o,v-x.sin(r)*m);m!==0&&q.arc(o,v,m,f-r,f-i,false);q.closePath()}},getRect:function(q){if(q.__rect)return q.__rect;var r=q.x,o=q.y,v=typeof q.r0=="undefined"?0:q.r0,m=q.r,k=q.startAngle,
i=q.endAngle;if(Math.abs(i-k)>=360){q.__rect=t("./Ring").prototype.getRect(q);return q.__rect}k=(720+k)%360;i=(720+i)%360;if(i<=k)i+=360;var f=[];k<=90&&i>=90&&f.push([r,o-m]);k<=180&&i>=180&&f.push([r-m,o]);k<=270&&i>=270&&f.push([r,o+m]);k<=360&&i>=360&&f.push([r+m,o]);k=x.degreeToRadian(k);i=x.degreeToRadian(i);f.push([x.cos(k)*v+r,o-x.sin(k)*v]);f.push([x.cos(k)*m+r,o-x.sin(k)*m]);f.push([x.cos(i)*m+r,o-x.sin(i)*m]);f.push([x.cos(i)*v+r,o-x.sin(i)*v]);q.__rect=t("./Polygon").prototype.getRect({brushType:q.brushType,
lineWidth:q.lineWidth,pointList:f});return q.__rect}};t("../tool/util").inherits(s,A);return s});V("echarts/util/shape/Candle",["require","zrender/shape/Base","zrender/tool/util","./normalIsCover"],function(t){function x(q){A.call(this,q)}var A=t("zrender/shape/Base"),s=t("zrender/tool/util");x.prototype={type:"candle",_numberOrder:function(q,r){return r-q},buildPath:function(q,r){var o=s.clone(r.y).sort(this._numberOrder);q.moveTo(r.x,o[3]);q.lineTo(r.x,o[2]);q.moveTo(r.x-r.width/2,o[2]);q.rect(r.x-
r.width/2,o[2],r.width,o[1]-o[2]);q.moveTo(r.x,o[1]);q.lineTo(r.x,o[0])},getRect:function(q){if(!q.__rect){var r=0;if(q.brushType=="stroke"||q.brushType=="fill")r=q.lineWidth||1;var o=s.clone(q.y).sort(this._numberOrder);q.__rect={x:Math.round(q.x-q.width/2-r/2),y:Math.round(o[3]-r/2),width:q.width+r,height:o[0]-o[3]+r}}return q.__rect},isCover:t("./normalIsCover")};s.inherits(x,A);return x});V("echarts/component/legend",["require","./base","zrender/shape/Text","zrender/shape/Rectangle","zrender/shape/Sector",
"../util/shape/Icon","../util/shape/Candle","../config","zrender/tool/util","zrender/tool/area","../component"],function(t){function x(d,a,c,b,e){if(this.query(b,"legend.data")){A.call(this,d,a,c,b,e);var h=this;h._legendSelected=function(j){h.__legendSelected(j)};this._colorIndex=0;this._colorMap={};this._selectedMap={};this.refresh(b)}else console.error("option.legend.data has not been defined.")}var A=t("./base"),s=t("zrender/shape/Text"),q=t("zrender/shape/Rectangle"),r=t("zrender/shape/Sector"),
o=t("../util/shape/Icon"),v=t("../util/shape/Candle"),m=t("../config"),k=t("zrender/tool/util"),i=t("zrender/tool/area");x.prototype={type:m.COMPONENT_TYPE_LEGEND,_buildShape:function(){this._itemGroupLocation=this._getItemGroupLocation();this._buildBackground();this._buildItem();for(var d=0,a=this.shapeList.length;d<a;d++)this.zr.addShape(this.shapeList[d])},_buildItem:function(){var d=this.legendOption.data,a=d.length,c,b,e,h=this.legendOption.textStyle,j,l,n=this.zr.getWidth(),p=this.zr.getHeight(),
w=this._itemGroupLocation.x,B=this._itemGroupLocation.y,y=this.legendOption.itemWidth,C=this.legendOption.itemHeight,z=this.legendOption.itemGap,u;if(this.legendOption.orient==="vertical"&&this.legendOption.x==="right")w=this._itemGroupLocation.x+this._itemGroupLocation.width-y;for(var D=0;D<a;D++){e=k.merge(d[D].textStyle||{},h);j=this.getFont(e);c=this._getName(d[D]);l=this._getFormatterName(c);if(c==="")if(this.legendOption.orient==="horizontal"){w=this._itemGroupLocation.x;B+=C+z}else{this.legendOption.x===
"right"?(w-=this._itemGroupLocation.maxWidth+z):(w+=this._itemGroupLocation.maxWidth+z);B=this._itemGroupLocation.y}else{b=d[D].icon||this._getSomethingByName(c).type;u=this.getColor(c);if(this.legendOption.orient==="horizontal"){if(n-w<200&&y+5+i.getTextWidth(l,j)+(D===a-1||d[D+1]===""?0:z)>=n-w){w=this._itemGroupLocation.x;B+=C+z}}else if(p-B<200&&C+(D===a-1||d[D+1]===""?0:z)>=p-B){this.legendOption.x==="right"?(w-=this._itemGroupLocation.maxWidth+z):(w+=this._itemGroupLocation.maxWidth+z);B=this._itemGroupLocation.y}b=
this._getItemShapeByType(w,B,y,C,this._selectedMap[c]?u:"#ccc",b,u);b._name=c;b=new o(b);e={zlevel:this._zlevelBase,style:{x:w+y+5,y:B+C/2,color:this._selectedMap[c]?e.color==="auto"?u:e.color:"#ccc",text:l,textFont:j,textBaseline:"middle"},highlightStyle:{color:u,brushType:"fill"},hoverable:!!this.legendOption.selectedMode,clickable:!!this.legendOption.selectedMode};if(this.legendOption.orient==="vertical"&&this.legendOption.x==="right"){e.style.x-=y+10;e.style.textAlign="right"}e._name=c;e=new s(e);
if(this.legendOption.selectedMode){b.onclick=e.onclick=this._legendSelected;b.onmouseover=e.onmouseover=this.hoverConnect;b.hoverConnect=e.id;e.hoverConnect=b.id}this.shapeList.push(b);this.shapeList.push(e);if(this.legendOption.orient==="horizontal")w+=y+5+i.getTextWidth(l,j)+z;else B+=C+z}}this.legendOption.orient==="horizontal"&&this.legendOption.x==="center"&&B!=this._itemGroupLocation.y&&this._mLineOptimize()},_getName:function(d){return typeof d.name!="undefined"?d.name:d},_getFormatterName:function(d){var a=
this.legendOption.formatter;return typeof a==="function"?a.call(this.myChart,d):typeof a==="string"?a.replace("{name}",d):d},_getFormatterNameFromData:function(d){return this._getFormatterName(this._getName(d))},_mLineOptimize:function(){for(var d=[],a=this._itemGroupLocation.x,c=2,b=this.shapeList.length;c<b;c++)if(this.shapeList[c].style.x===a)d.push((this._itemGroupLocation.width-(this.shapeList[c-1].style.x+i.getTextWidth(this.shapeList[c-1].style.text,this.shapeList[c-1].style.textFont)-a))/
2);else c===b-1&&d.push((this._itemGroupLocation.width-(this.shapeList[c].style.x+i.getTextWidth(this.shapeList[c].style.text,this.shapeList[c].style.textFont)-a))/2);var e=-1;c=1;for(b=this.shapeList.length;c<b;c++){this.shapeList[c].style.x===a&&e++;if(d[e]!==0)this.shapeList[c].style.x+=d[e]}},_buildBackground:function(){var d=this.legendOption.padding[0],a=this.legendOption.padding[3];this.shapeList.push(new q({zlevel:this._zlevelBase,hoverable:false,style:{x:this._itemGroupLocation.x-a,y:this._itemGroupLocation.y-
d,width:this._itemGroupLocation.width+a+this.legendOption.padding[1],height:this._itemGroupLocation.height+d+this.legendOption.padding[2],brushType:this.legendOption.borderWidth===0?"fill":"both",color:this.legendOption.backgroundColor,strokeColor:this.legendOption.borderColor,lineWidth:this.legendOption.borderWidth}}))},_getItemGroupLocation:function(){var d=this.legendOption.data,a=d.length,c=this.legendOption.itemGap,b=this.legendOption.itemWidth+5,e=this.legendOption.itemHeight,h=this.legendOption.textStyle,
j=this.getFont(h),l=0,n=0,p=this.legendOption.padding,w=this.zr.getWidth()-p[1]-p[3],B=this.zr.getHeight()-p[0]-p[2],y=0;p=0;if(this.legendOption.orient==="horizontal"){n=e;for(var C=0;C<a;C++)if(this._getName(d[C])===""){y-=c;if(y>w){l=w;n+=e+c}else l=Math.max(l,y);n+=e+c;y=0}else y+=b+i.getTextWidth(this._getFormatterNameFromData(d[C]),d[C].textStyle?this.getFont(k.merge(d[C].textStyle||{},h)):j)+c;n=Math.max(n,e);y-=c;if(y>w){l=w;n+=e+c}else l=Math.max(l,y)}else{for(C=0;C<a;C++)p=Math.max(p,i.getTextWidth(this._getFormatterNameFromData(d[C]),
d[C].textStyle?this.getFont(k.merge(d[C].textStyle||{},h)):j));p+=b;l=p;for(C=0;C<a;C++)if(this._getName(d[C])===""){y-=c;if(y>B){n=B;l+=p+c}else n=Math.max(n,y);l+=p+c;y=0}else y+=e+c;l=Math.max(l,p);y-=c;if(y>B){n=B;l+=p+c}else n=Math.max(n,y)}w=this.zr.getWidth();B=this.zr.getHeight();switch(this.legendOption.x){case "center":d=Math.floor((w-l)/2);break;case "left":d=this.legendOption.padding[3]+this.legendOption.borderWidth;break;case "right":d=w-l-this.legendOption.padding[1]-this.legendOption.padding[3]-
this.legendOption.borderWidth*2;break;default:d=this.parsePercent(this.legendOption.x,w);break}switch(this.legendOption.y){case "top":a=this.legendOption.padding[0]+this.legendOption.borderWidth;break;case "bottom":a=B-n-this.legendOption.padding[0]-this.legendOption.padding[2]-this.legendOption.borderWidth*2;break;case "center":a=Math.floor((B-n)/2);break;default:a=this.parsePercent(this.legendOption.y,B);break}return{x:d,y:a,width:l,height:n,maxWidth:p}},_getSomethingByName:function(d){for(var a=
this.option.series,c,b=0,e=a.length;b<e;b++){if(a[b].name===d)return{type:a[b].type,series:a[b],seriesIndex:b,data:null,dataIndex:-1};if(a[b].type===m.CHART_TYPE_PIE||a[b].type===m.CHART_TYPE_RADAR||a[b].type===m.CHART_TYPE_CHORD||a[b].type===m.CHART_TYPE_FORCE||a[b].type===m.CHART_TYPE_FUNNEL){c=a[b].type!=m.CHART_TYPE_FORCE?a[b].data:a[b].categories;for(var h=0,j=c.length;h<j;h++)if(c[h].name===d)return{type:a[b].type,series:a[b],seriesIndex:b,data:c[h],dataIndex:h}}}return{type:"bar",series:null,
seriesIndex:-1,data:null,dataIndex:-1}},_getItemShapeByType:function(d,a,c,b,e,h,j){j=e==="#ccc"?j:e;d={zlevel:this._zlevelBase,style:{iconType:"legendicon"+h,x:d,y:a,width:c,height:b,color:e,strokeColor:e,lineWidth:2},highlightStyle:{color:j,strokeColor:j,lineWidth:1},hoverable:this.legendOption.selectedMode,clickable:this.legendOption.selectedMode};var l;if(h.match("image")){l=h.replace(/^image:\/\//,"");h="image"}switch(h){case "line":d.style.brushType="stroke";d.highlightStyle.lineWidth=3;break;
case "radar":case "scatter":d.highlightStyle.lineWidth=3;break;case "k":d.style.brushType="both";d.highlightStyle.lineWidth=3;d.highlightStyle.color=d.style.color=this.query(this.ecTheme,"k.itemStyle.normal.color")||"#fff";d.style.strokeColor=e!="#ccc"?this.query(this.ecTheme,"k.itemStyle.normal.lineStyle.color")||"#ff3200":e;break;case "image":d.style.iconType="image";d.style.image=l;if(e==="#ccc")d.style.opacity=0.5;break}return d},__legendSelected:function(d){var a=d.target._name;if(this.legendOption.selectedMode===
"single")for(var c in this._selectedMap)this._selectedMap[c]=false;this._selectedMap[a]=!this._selectedMap[a];this.messageCenter.dispatch(m.EVENT.LEGEND_SELECTED,d.event,{selected:this._selectedMap,target:a},this.myChart)},refresh:function(d){if(d){this.option=d||this.option;this.option.legend=this.reformOption(this.option.legend);this.option.legend.padding=this.reformCssArray(this.option.legend.padding);this.legendOption=this.option.legend;d=this.legendOption.data||[];var a,c,b;if(this.legendOption.selected)for(a in this.legendOption.selected)this._selectedMap[a]=
typeof this._selectedMap[a]!="undefined"?this._selectedMap[a]:this.legendOption.selected[a];for(var e=0,h=d.length;e<h;e++){a=this._getName(d[e]);if(a!==""){c=this._getSomethingByName(a);if(c.series){b=c.data&&(c.type===m.CHART_TYPE_PIE||c.type===m.CHART_TYPE_FORCE||c.type===m.CHART_TYPE_FUNNEL)?[c.data,c.series]:[c.series];(b=this.getItemStyleColor(this.deepQuery(b,"itemStyle.normal.color"),c.seriesIndex,c.dataIndex,c.data))&&c.type!=m.CHART_TYPE_K&&this.setColor(a,b);this._selectedMap[a]=typeof this._selectedMap[a]!=
"undefined"?this._selectedMap[a]:true}else this._selectedMap[a]=false}}}this.clear();this._buildShape()},getRelatedAmount:function(d){for(var a=0,c=this.option.series,b,e=0,h=c.length;e<h;e++){c[e].name===d&&a++;if(c[e].type===m.CHART_TYPE_PIE||c[e].type===m.CHART_TYPE_RADAR||c[e].type===m.CHART_TYPE_CHORD||c[e].type===m.CHART_TYPE_FORCE||c[e].type===m.CHART_TYPE_FUNNEL){b=c[e].type!=m.CHART_TYPE_FORCE?c[e].data:c[e].categories;for(var j=0,l=b.length;j<l;j++)b[j].name===d&&b[j].value!="-"&&a++}}return a},
setColor:function(d,a){this._colorMap[d]=a},getColor:function(d){this._colorMap[d]||(this._colorMap[d]=this.zr.getColor(this._colorIndex++));return this._colorMap[d]},hasColor:function(d){return this._colorMap[d]?this._colorMap[d]:false},add:function(d,a){for(var c=this.legendOption.data,b=0,e=c.length;b<e;b++)if(this._getName(c[b])===d)return;this.legendOption.data.push(d);this.setColor(d,a);this._selectedMap[d]=true},del:function(d){for(var a=this.legendOption.data,c=0,b=a.length;c<b;c++)if(this._getName(a[c])===
d)return this.legendOption.data.splice(c,1)},getItemShape:function(d){if(d!=null)for(var a,c=0,b=this.shapeList.length;c<b;c++){a=this.shapeList[c];if(a._name===d&&a.type!="text")return a}},setItemShape:function(d,a){for(var c,b=0,e=this.shapeList.length;b<e;b++){c=this.shapeList[b];if(c._name===d&&c.type!="text"){if(!this._selectedMap[d]){a.style.color="#ccc";a.style.strokeColor="#ccc"}this.zr.modShape(c.id,a)}}},isSelected:function(d){return typeof this._selectedMap[d]!="undefined"?this._selectedMap[d]:
true},getSelectedMap:function(){return this._selectedMap},setSelected:function(d,a){if(this.legendOption.selectedMode==="single")for(var c in this._selectedMap)this._selectedMap[c]=false;this._selectedMap[d]=a;this.messageCenter.dispatch(m.EVENT.LEGEND_SELECTED,null,{selected:this._selectedMap,target:d},this.myChart)},onlegendSelected:function(d,a){d=d.selected;for(var c in d){if(this._selectedMap[c]!=d[c])a.needRefresh=true;this._selectedMap[c]=d[c]}}};var f={line:function(d,a){var c=a.height/2;
d.moveTo(a.x,a.y+c);d.lineTo(a.x+a.width,a.y+c)},pie:function(d,a){var c=a.height;r.prototype.buildPath(d,{x:a.x+a.width/2,y:a.y+c+2,r:c+2,r0:6,startAngle:45,endAngle:135})},k:function(d,a){var c=a.y,b=a.width,e=a.height;v.prototype.buildPath(d,{x:a.x+b/2,y:[c+1,c+1,c+e-6,c+e],width:b-6})},bar:function(d,a){var c=a.x,b=a.y+1,e=a.width;a=a.height-2;d.moveTo(c+3,b);d.lineTo(c+e-3,b);d.quadraticCurveTo(c+e,b,c+e,b+3);d.lineTo(c+e,b+a-3);d.quadraticCurveTo(c+e,b+a,c+e-3,b+a);d.lineTo(c+3,b+a);d.quadraticCurveTo(c,
b+a,c,b+a-3);d.lineTo(c,b+3);d.quadraticCurveTo(c,b,c+3,b)},force:function(d,a){o.prototype.iconLibrary.circle(d,a)},radar:function(d,a){var c=a.x+a.width/2,b=a.y+a.height/2;a=a.height/2;var e=2*Math.PI/6,h=-Math.PI/2,j=c+a*Math.cos(h),l=b+a*Math.sin(h);d.moveTo(j,l);h+=e;for(var n=0;n<5;n++){d.lineTo(c+a*Math.cos(h),b+a*Math.sin(h));h+=e}d.lineTo(j,l)}};f.chord=f.pie;f.map=f.bar;for(var g in f)o.prototype.iconLibrary["legendicon"+g]=f[g];k.inherits(x,A);t("../component").define("legend",x);return x});
V("echarts/util/shape/Chain",["require","zrender/shape/Base","./Icon","zrender/shape/util/dashedLineTo","zrender/tool/util","zrender/tool/matrix"],function(t){function x(v){A.call(this,v)}var A=t("zrender/shape/Base"),s=t("./Icon"),q=t("zrender/shape/util/dashedLineTo"),r=t("zrender/tool/util"),o=t("zrender/tool/matrix");x.prototype={type:"chain",brush:function(v,m){var k=this.style;if(m)k=this.getHighlightStyle(k,this.highlightStyle||{});v.save();this.setContext(v,k);this.setTransform(v);v.save();
v.beginPath();this.buildLinePath(v,k);v.stroke();v.restore();this.brushSymbol(v,k);v.restore()},buildLinePath:function(v,m){var k=m.x,i=m.y+5,f=m.width,g=m.height/2-10;v.moveTo(k,i);v.lineTo(k,i+g);v.moveTo(k+f,i);v.lineTo(k+f,i+g);v.moveTo(k,i+g/2);if(!m.lineType||m.lineType=="solid")v.lineTo(k+f,i+g/2);else if(m.lineType=="dashed"||m.lineType=="dotted")q(v,k,i+g/2,k+f,i+g/2,(m.lineWidth||1)*(m.lineType=="dashed"?5:1))},brushSymbol:function(v,m){var k=m.y+m.height/4;v.save();for(var i=m.chainPoint,
f,g=0,d=i.length;g<d;g++){f=i[g];if(f.symbol!="none"){v.beginPath();var a=f.symbolSize;s.prototype.buildPath(v,{iconType:f.symbol,x:f.x-a,y:k-a,width:a*2,height:a*2,n:f.n});v.fillStyle=f.isEmpty?"#fff":m.strokeColor;v.closePath();v.fill();v.stroke()}if(f.showLabel){v.font=f.textFont;v.fillStyle=f.textColor;v.textAlign=f.textAlign;v.textBaseline=f.textBaseline;if(f.rotation){v.save();this._updateTextTransform(v,f.rotation);v.fillText(f.name,f.textX,f.textY);v.restore()}else v.fillText(f.name,f.textX,
f.textY)}}v.restore()},_updateTextTransform:function(v,m){var k=o.create();o.identity(k);if(m[0]!==0){var i=m[1]||0,f=m[2]||0;if(i||f)o.translate(k,k,[-i,-f]);o.rotate(k,k,m[0]);if(i||f)o.translate(k,k,[i,f])}v.transform.apply(v,k)},isCover:function(v,m){var k=this.style;return v>=k.x&&v<=k.x+k.width&&m>=k.y&&m<=k.y+k.height?true:false}};r.inherits(x,A);return x});V("echarts/component/timeline",["require","./base","zrender/shape/Rectangle","../util/shape/Icon","../util/shape/Chain","../config","zrender/tool/util",
"zrender/tool/area","zrender/tool/event","../component"],function(t){function x(f,g,d,a,c){s.call(this,f,g,d,a,c);var b=this;b._onclick=function(e){return b.__onclick(e)};b._ondrift=function(e,h){return b.__ondrift(this,e,h)};b._ondragend=function(){return b.__ondragend()};b._setCurrentOption=function(){var e=b.timelineOption;b.currentIndex%=e.data.length;b.myChart.setOption(b.options[b.currentIndex]||{},e.notMerge);b.messageCenter.dispatch(v.EVENT.TIMELINE_CHANGED,null,{currentIndex:b.currentIndex,
data:e.data[b.currentIndex].name!=null?e.data[b.currentIndex].name:e.data[b.currentIndex]},b.myChart)};b._onFrame=function(){b._setCurrentOption();b._syncHandleShape();if(b.timelineOption.autoPlay)b.playTicket=setTimeout(function(){b.currentIndex+=1;if(!b.timelineOption.loop&&b.currentIndex>=b.timelineOption.data.length){b.currentIndex=b.timelineOption.data.length-1;b.stop()}else b._onFrame()},b.timelineOption.playInterval)};this.setTheme(false);this.options=this.option.options;this.currentIndex=
this.timelineOption.currentIndex%this.timelineOption.data.length;if(!this.timelineOption.notMerge&&this.currentIndex!==0)this.options[this.currentIndex]=m.merge(this.options[this.currentIndex],this.options[0]);if(this.timelineOption.show){this._buildShape();this._syncHandleShape()}this._setCurrentOption();if(this.timelineOption.autoPlay){b=this;this.playTicket=setTimeout(function(){b.play()},this.ecTheme.animationDuration)}}function A(f,g){var d=g.x+2,a=g.y+2+2,c=g.width-2,b=g.height-2,e=g.symbol;
if(e==="last"){f.moveTo(d+c-2,a+b/3);f.lineTo(d+c-2,a);f.lineTo(d+2,a+b/2);f.lineTo(d+c-2,a+b);f.lineTo(d+c-2,a+b/3*2);f.moveTo(d,a);f.lineTo(d,a)}else if(e==="next"){f.moveTo(d+2,a+b/3);f.lineTo(d+2,a);f.lineTo(d+c-2,a+b/2);f.lineTo(d+2,a+b);f.lineTo(d+2,a+b/3*2);f.moveTo(d,a);f.lineTo(d,a)}else if(e==="play")if(g.status==="stop"){f.moveTo(d+2,a);f.lineTo(d+c-2,a+b/2);f.lineTo(d+2,a+b);f.lineTo(d+2,a)}else{e=g.brushType==="both"?2:3;f.rect(d+2,a,e,b);f.rect(d+c-e-2,a,e,b)}else if(e.match("image")){g=
"";g=e.replace(/^image:\/\//,"");e=r.prototype.iconLibrary.image;e(f,{x:d,y:a,width:c,height:b,image:g})}}var s=t("./base"),q=t("zrender/shape/Rectangle"),r=t("../util/shape/Icon"),o=t("../util/shape/Chain"),v=t("../config"),m=t("zrender/tool/util"),k=t("zrender/tool/area"),i=t("zrender/tool/event");x.prototype={type:v.COMPONENT_TYPE_TIMELINE,_buildShape:function(){this._location=this._getLocation();this._buildBackground();this._buildControl();this._chainPoint=this._getChainPoint();if(this.timelineOption.label.show)for(var f=
this._getInterval(),g=0,d=this._chainPoint.length;g<d;g+=f)this._chainPoint[g].showLabel=true;this._buildChain();this._buildHandle();g=0;for(f=this.shapeList.length;g<f;g++)this.zr.addShape(this.shapeList[g])},_getLocation:function(){var f=this.timelineOption,g=f.padding,d=this.zr.getWidth(),a=this.parsePercent(f.x,d),c=this.parsePercent(f.x2,d),b;if(f.width==null){b=d-a-c;c=d-c}else{b=this.parsePercent(f.width,d);c=a+b}var e=this.zr.getHeight();d=this.parsePercent(f.height,e);if(f.y!=null){f=this.parsePercent(f.y,
e);e=f+d}else{e=e-this.parsePercent(f.y2,e);f=e-d}return{x:a+g[3],y:f+g[0],x2:c-g[1],y2:e-g[2],width:b-g[1]-g[3],height:d-g[0]-g[2]}},_getReformedLabel:function(f){var g=this.timelineOption,d=g.data[f].name!=null?g.data[f].name:g.data[f];if(f=g.data[f].formatter||g.label.formatter)if(typeof f==="function")d=f.call(this.myChart,d);else if(typeof f==="string")d=f.replace("{value}",d);return d},_getInterval:function(){var f=this._chainPoint,g=this.timelineOption,d=g.label.interval;if(d==="auto"){var a=
g.label.textStyle.fontSize,c=g.data,b=g.data.length;if(b>3){var e=false,h,j;for(d=0;!e&&d<b;){d++;e=true;for(var l=d;l<b;l+=d){h=f[l].x-f[l-d].x;if(g.label.rotate!==0)j=a;else if(c[l].textStyle)j=k.getTextWidth(f[l].name,f[l].textFont);else{j=f[l].name+"";var n=(j.match(/\w/g)||"").length;j=n*a*2/3+(j.length-n)*a}if(h<j){e=false;break}}}}else d=1}else d=d-0+1;return d},_getChainPoint:function(){function f(F){return j[F].name!=null?j[F].name:j[F]}var g=this.timelineOption,d=g.symbol.toLowerCase(),
a=g.symbolSize,c=g.label.rotate,b=g.label.textStyle,e=this.getFont(b),h,j=g.data,l=this._location.x,n=this._location.y+this._location.height/4*3;h=this._location.x2-this._location.x;var p=j.length,w=[];if(p>1){var B=h/p;B=B>50?50:B<20?5:B;h-=B*2;if(g.type==="number")for(g=0;g<p;g++)w.push(l+B+h/(p-1)*g);else{w[0]=new Date(f(0).replace(/-/g,"/"));w[p-1]=new Date(f(p-1).replace(/-/g,"/"))-w[0];for(g=1;g<p;g++)w[g]=l+B+h*(new Date(f(g).replace(/-/g,"/"))-w[0])/w[p-1];w[0]=l+B}}else w.push(l+h/2);B=[];
var y,C,z,u,D;for(g=0;g<p;g++){l=w[g];y=j[g].symbol&&j[g].symbol.toLowerCase()||d;if(y.match("empty")){y=y.replace("empty","");z=true}else z=false;if(y.match("star")){C=y.replace("star","")-0||5;y="star"}h=j[g].textStyle?m.merge(j[g].textStyle||{},b):b;u=h.align||"center";if(c){u=c>0?"right":"left";D=[c*Math.PI/180,l,n-5]}else D=false;B.push({x:l,n:C,isEmpty:z,symbol:y,symbolSize:j[g].symbolSize||a,color:j[g].color,borderColor:j[g].borderColor,borderWidth:j[g].borderWidth,name:this._getReformedLabel(g),
textColor:h.color,textAlign:u,textBaseline:h.baseline||"middle",textX:l,textY:n-(c?5:0),textFont:j[g].textStyle?this.getFont(h):e,rotation:D,showLabel:false})}return B},_buildBackground:function(){var f=this.timelineOption,g=f.padding,d=this._location.width,a=this._location.height;if(f.borderWidth!==0||f.backgroundColor.replace(/\s/g,"")!="rgba(0,0,0,0)")this.shapeList.push(new q({zlevel:this._zlevelBase,hoverable:false,style:{x:this._location.x-g[3],y:this._location.y-g[0],width:d+g[1]+g[3],height:a+
g[0]+g[2],brushType:f.borderWidth===0?"fill":"both",color:f.backgroundColor,strokeColor:f.borderColor,lineWidth:f.borderWidth}}))},_buildControl:function(){var f=this,g=this.timelineOption,d=g.lineStyle,a=g.controlStyle;if(g.controlPosition!=="none"){if(g.controlPosition==="left"){g=this._location.x;this._location.x+=60}else{g=this._location.x2-55;this._location.x2-=60}d={zlevel:this._zlevelBase+1,style:{iconType:"timelineControl",symbol:"last",x:g,y:this._location.y,width:15,height:15,brushType:"stroke",
color:a.normal.color,strokeColor:a.normal.color,lineWidth:d.width},highlightStyle:{color:a.emphasis.color,strokeColor:a.emphasis.color,lineWidth:d.width+1},clickable:true};this._ctrLastShape=new r(d);this._ctrLastShape.onclick=function(){f.last()};this.shapeList.push(this._ctrLastShape);g+=20;this._ctrPlayShape=new r(m.clone(d));this._ctrPlayShape.style.brushType="fill";this._ctrPlayShape.style.symbol="play";this._ctrPlayShape.style.status=this.timelineOption.autoPlay?"playing":"stop";this._ctrPlayShape.style.x=
g;this._ctrPlayShape.onclick=function(){f._ctrPlayShape.style.status==="stop"?f.play():f.stop()};this.shapeList.push(this._ctrPlayShape);g+=20;this._ctrNextShape=new r(m.clone(d));this._ctrNextShape.style.symbol="next";this._ctrNextShape.style.x=g;this._ctrNextShape.onclick=function(){f.next()};this.shapeList.push(this._ctrNextShape)}},_buildChain:function(){var f=this.timelineOption.lineStyle;this._timelineShae={zlevel:this._zlevelBase,style:{x:this._location.x,y:this.subPixelOptimize(this._location.y,
f.width),width:this._location.x2-this._location.x,height:this._location.height,chainPoint:this._chainPoint,brushType:"both",strokeColor:f.color,lineWidth:f.width,lineType:f.type},hoverable:false,clickable:true,onclick:this._onclick};this._timelineShae=new o(this._timelineShae);this.shapeList.push(this._timelineShae)},_buildHandle:function(){var f=this._chainPoint[this.currentIndex],g=f.symbolSize+1;g=g<5?5:g;this._handleShape={zlevel:this._zlevelBase+1,hoverable:false,draggable:true,style:{iconType:"diamond",
n:f.n,x:f.x-g,y:this._location.y+this._location.height/4-g,width:g*2,height:g*2,brushType:"both",textPosition:"specific",textX:f.x,textY:this._location.y-this._location.height/4,textAlign:"center",textBaseline:"middle"},highlightStyle:{},ondrift:this._ondrift,ondragend:this._ondragend};this._handleShape=new r(this._handleShape);this.shapeList.push(this._handleShape)},_syncHandleShape:function(){if(this.timelineOption.show){var f=this.timelineOption,g=f.checkpointStyle,d=this._chainPoint[this.currentIndex];
this._handleShape.style.text=g.label.show?d.name:"";this._handleShape.style.textFont=d.textFont;this._handleShape.style.n=d.n;if(g.symbol==="auto")this._handleShape.style.iconType=d.symbol!="none"?d.symbol:"diamond";else{this._handleShape.style.iconType=g.symbol;if(g.symbol.match("star")){this._handleShape.style.n=g.symbol.replace("star","")-0||5;this._handleShape.style.iconType="star"}}var a;if(g.symbolSize==="auto"){a=d.symbolSize+2;a=a<5?5:a}else a=g.symbolSize-0;this._handleShape.style.color=
g.color==="auto"?d.color?d.color:f.controlStyle.emphasis.color:g.color;this._handleShape.style.textColor=g.label.textStyle.color==="auto"?this._handleShape.style.color:g.label.textStyle.color;this._handleShape.highlightStyle.strokeColor=this._handleShape.style.strokeColor=g.borderColor==="auto"?d.borderColor?d.borderColor:"#fff":g.borderColor;this._handleShape.style.lineWidth=g.borderWidth==="auto"?d.borderWidth?d.borderWidth:0:g.borderWidth-0;this._handleShape.highlightStyle.lineWidth=this._handleShape.style.lineWidth+
1;this.zr.animate(this._handleShape.id,"style").when(500,{x:d.x-a,textX:d.x,y:this._location.y+this._location.height/4-a,width:a*2,height:a*2}).start("ExponentialOut")}},_findChainIndex:function(f){var g=this._chainPoint,d=g.length;if(f<=g[0].x)return 0;else if(f>=g[d-1].x)return d-1;for(var a=0;a<d-1;a++)if(f>=g[a].x&&f<=g[a+1].x)return Math.abs(f-g[a].x)<Math.abs(f-g[a+1].x)?a:a+1},__onclick:function(f){f=this._findChainIndex(i.getX(f.event));if(f===this.currentIndex)return true;this.currentIndex=
f;this.timelineOption.autoPlay&&this.stop();clearTimeout(this.playTicket);this._onFrame()},__ondrift:function(f,g){this.timelineOption.autoPlay&&this.stop();var d=this._chainPoint,a=d.length;if(f.style.x+g<=d[0].x-d[0].symbolSize){f.style.x=d[0].x-d[0].symbolSize;g=0}else if(f.style.x+g>=d[a-1].x-d[a-1].symbolSize){f.style.x=d[a-1].x-d[a-1].symbolSize;g=a-1}else{f.style.x+=g;g=this._findChainIndex(f.style.x)}d=d[g];a=d.symbolSize+2;f.style.iconType=d.symbol;f.style.n=d.n;f.style.textX=f.style.x+a/
2;f.style.y=this._location.y+this._location.height/4-a;f.style.width=a*2;f.style.height=a*2;f.style.text=d.name;if(g===this.currentIndex)return true;this.currentIndex=g;if(this.timelineOption.realtime){clearTimeout(this.playTicket);var c=this;this.playTicket=setTimeout(function(){c._setCurrentOption()},200)}return true},__ondragend:function(){this.isDragend=true},ondragend:function(f,g){if(this.isDragend&&f.target){!this.timelineOption.realtime&&this._setCurrentOption();g.dragOut=true;g.dragIn=true;
this.isDragend=g.needRefresh=false;this._syncHandleShape()}},last:function(){this.timelineOption.autoPlay&&this.stop();this.currentIndex-=1;if(this.currentIndex<0)this.currentIndex=this.timelineOption.data.length-1;this._onFrame();return this.currentIndex},next:function(){this.timelineOption.autoPlay&&this.stop();this.currentIndex+=1;if(this.currentIndex>=this.timelineOption.data.length)this.currentIndex=0;this._onFrame();return this.currentIndex},play:function(f,g){if(this._ctrPlayShape&&this._ctrPlayShape.style.status!=
"playing"){this._ctrPlayShape.style.status="playing";this.zr.modShape(this._ctrPlayShape.id);this.zr.refresh()}this.timelineOption.autoPlay=g!=null?g:true;this.timelineOption.autoPlay||clearTimeout(this.playTicket);this.currentIndex=f!=null?f:this.currentIndex+1;if(this.currentIndex>=this.timelineOption.data.length)this.currentIndex=0;this._onFrame();return this.currentIndex},stop:function(){if(this._ctrPlayShape&&this._ctrPlayShape.style.status!="stop"){this._ctrPlayShape.style.status="stop";this.zr.modShape(this._ctrPlayShape.id);
this.zr.refresh()}this.timelineOption.autoPlay=false;clearTimeout(this.playTicket);return this.currentIndex},resize:function(){if(this.timelineOption.show){this.clear();this._buildShape();this._syncHandleShape()}},setTheme:function(f){this.timelineOption=this.reformOption(m.clone(this.option.timeline));this.timelineOption.padding=this.reformCssArray(this.timelineOption.padding);this.timelineOption.label.textStyle=m.merge(this.timelineOption.label.textStyle||{},this.ecTheme.textStyle);this.timelineOption.checkpointStyle.label.textStyle=
m.merge(this.timelineOption.checkpointStyle.label.textStyle||{},this.ecTheme.textStyle);if(this.timelineOption.show&&f){this.clear();this._buildShape();this._syncHandleShape()}},dispose:function(){this.clear();this.shapeList=null;clearTimeout(this.playTicket)}};r.prototype.iconLibrary.timelineControl=A;m.inherits(x,s);t("../component").define("timeline",x);return x});V("zrender/loadingEffect/Bar",["require","./Base","../tool/util","../tool/color","../shape/Rectangle"],function(t){function x(o){A.call(this,
o)}var A=t("./Base"),s=t("../tool/util"),q=t("../tool/color"),r=t("../shape/Rectangle");s.inherits(x,A);x.prototype._start=function(o,v){var m=s.merge(this.options,{textStyle:{color:"#888"},backgroundColor:"rgba(250, 250, 250, 0.8)",effectOption:{x:0,y:this.canvasHeight/2-30,width:this.canvasWidth,height:5,brushType:"fill",timeInterval:100}}),k=this.createTextShape(m.textStyle),i=this.createBackgroundShape(m.backgroundColor),f=m.effectOption,g=new r({highlightStyle:s.clone(f)});g.highlightStyle.color=
f.color||q.getLinearGradient(f.x,f.y,f.x+f.width,f.y+f.height,[[0,"#ff6400"],[0.5,"#ffe100"],[1,"#b1ff00"]]);if(m.progress!=null){o(i);g.highlightStyle.width=this.adjust(m.progress,[0,1])*m.effectOption.width;o(g);o(k);v()}else{g.highlightStyle.width=0;return setInterval(function(){o(i);if(g.highlightStyle.width<f.width)g.highlightStyle.width+=8;else g.highlightStyle.width=0;o(g);o(k);v()},f.timeInterval)}};return x});V("zrender/loadingEffect/Bubble",["require","./Base","../tool/util","../tool/color",
"../shape/Circle"],function(t){function x(o){A.call(this,o)}var A=t("./Base"),s=t("../tool/util"),q=t("../tool/color"),r=t("../shape/Circle");s.inherits(x,A);x.prototype._start=function(o,v){var m=s.merge(this.options,{textStyle:{color:"#888"},backgroundColor:"rgba(250, 250, 250, 0.8)",effect:{n:50,lineWidth:2,brushType:"stroke",color:"random",timeInterval:100}}),k=this.createTextShape(m.textStyle),i=this.createBackgroundShape(m.backgroundColor);m=m.effect;for(var f=m.n,g=m.brushType,d=m.lineWidth,
a=[],c=this.canvasWidth,b=this.canvasHeight,e=0;e<f;e++){var h=m.color=="random"?q.alpha(q.random(),0.3):m.color;a[e]=new r({highlightStyle:{x:Math.ceil(Math.random()*c),y:Math.ceil(Math.random()*b),r:Math.ceil(Math.random()*40),brushType:g,color:h,strokeColor:h,lineWidth:d},animationY:Math.ceil(Math.random()*20)})}return setInterval(function(){o(i);for(var j=0;j<f;j++){var l=a[j].highlightStyle;if(l.y-a[j].animationY+l.r<=0){a[j].highlightStyle.y=b+l.r;a[j].highlightStyle.x=Math.ceil(Math.random()*
c)}a[j].highlightStyle.y-=a[j].animationY;o(a[j])}o(k);v()},m.timeInterval)};return x});V("zrender/loadingEffect/DynamicLine",["require","./Base","../tool/util","../tool/color","../shape/Line"],function(t){function x(o){A.call(this,o)}var A=t("./Base"),s=t("../tool/util"),q=t("../tool/color"),r=t("../shape/Line");s.inherits(x,A);x.prototype._start=function(o,v){var m=s.merge(this.options,{textStyle:{color:"#fff"},backgroundColor:"rgba(0, 0, 0, 0.8)",effectOption:{n:30,lineWidth:1,color:"random",timeInterval:100}}),
k=this.createTextShape(m.textStyle),i=this.createBackgroundShape(m.backgroundColor);m=m.effectOption;for(var f=m.n,g=m.lineWidth,d=[],a=this.canvasWidth,c=this.canvasHeight,b=0;b<f;b++){var e=-Math.ceil(Math.random()*1E3),h=Math.ceil(Math.random()*400),j=Math.ceil(Math.random()*c),l=m.color=="random"?q.random():m.color;d[b]=new r({highlightStyle:{xStart:e,yStart:j,xEnd:e+h,yEnd:j,strokeColor:l,lineWidth:g},animationX:Math.ceil(Math.random()*100),len:h})}return setInterval(function(){o(i);for(var n=
0;n<f;n++){var p=d[n].highlightStyle;if(p.xStart>=a){d[n].len=Math.ceil(Math.random()*400);p.xStart=-400;p.xEnd=-400+d[n].len;p.yStart=Math.ceil(Math.random()*c);p.yEnd=p.yStart}p.xStart+=d[n].animationX;p.xEnd+=d[n].animationX;o(d[n])}o(k);v()},m.timeInterval)};return x});V("zrender/loadingEffect/Ring",["require","./Base","../tool/util","../tool/color","../shape/Ring","../shape/Sector"],function(t){function x(v){A.call(this,v)}var A=t("./Base"),s=t("../tool/util"),q=t("../tool/color"),r=t("../shape/Ring"),
o=t("../shape/Sector");s.inherits(x,A);x.prototype._start=function(v,m){var k=s.merge(this.options,{textStyle:{color:"#07a"},backgroundColor:"rgba(250, 250, 250, 0.8)",effect:{x:this.canvasWidth/2,y:this.canvasHeight/2,r0:60,r:100,color:"#bbdcff",brushType:"fill",textPosition:"inside",textFont:"normal 30px verdana",textColor:"rgba(30, 144, 255, 0.6)",timeInterval:100}}),i=k.effect,f=k.textStyle;if(f.x==null)f.x=i.x;if(f.y==null)f.y=i.y+(i.r0+i.r)/2-5;var g=this.createTextShape(k.textStyle),d=this.createBackgroundShape(k.backgroundColor);
f=i.x;for(var a=i.y,c=i.r0+6,b=i.r-6,e=q.lift(i.color,0.1),h=new r({highlightStyle:s.clone(i)}),j=[],l=q.getGradientColors(["#ff6400","#ffe100","#97ff00"],25),n=240,p=0;p<16;p++){j.push(new o({highlightStyle:{x:f,y:a,r0:c,r:b,startAngle:n-15,endAngle:n,brushType:"fill",color:e},_color:q.getLinearGradient(f+c*Math.cos(n,true),a-c*Math.sin(n,true),f+c*Math.cos(n-15,true),a-c*Math.sin(n-15,true),[[0,l[p*2]],[1,l[p*2+1]]])}));n-=15}n=360;for(p=0;p<4;p++){j.push(new o({highlightStyle:{x:f,y:a,r0:c,r:b,
startAngle:n-15,endAngle:n,brushType:"fill",color:e},_color:q.getLinearGradient(f+c*Math.cos(n,true),a-c*Math.sin(n,true),f+c*Math.cos(n-15,true),a-c*Math.sin(n-15,true),[[0,l[p*2+32]],[1,l[p*2+33]]])}));n-=15}var w=0;if(k.progress!=null){v(d);w=this.adjust(k.progress,[0,1]).toFixed(2)*100/5;h.highlightStyle.text=w*5+"%";v(h);for(p=0;p<20;p++){j[p].highlightStyle.color=p<w?j[p]._color:e;v(j[p])}v(g);m()}else return setInterval(function(){v(d);w+=w>=20?-20:1;v(h);for(var B=0;B<20;B++){j[B].highlightStyle.color=
B<w?j[B]._color:e;v(j[B])}v(g);m()},i.timeInterval)};return x});V("zrender/loadingEffect/Spin",["require","./Base","../tool/util","../tool/color","../tool/area","../shape/Sector"],function(t){function x(v){A.call(this,v)}var A=t("./Base"),s=t("../tool/util"),q=t("../tool/color"),r=t("../tool/area"),o=t("../shape/Sector");s.inherits(x,A);x.prototype._start=function(v,m){var k=s.merge(this.options,{textStyle:{color:"#fff",textAlign:"start"},backgroundColor:"rgba(0, 0, 0, 0.8)"}),i=this.createTextShape(k.textStyle),
f=r.getTextWidth(i.highlightStyle.text,i.highlightStyle.textFont),g=r.getTextHeight(i.highlightStyle.text,i.highlightStyle.textFont),d=s.merge(this.options.effect||{},{r0:9,r:15,n:18,color:"#fff",timeInterval:100});f=this.getLocation(this.options.textStyle,f+10+d.r*2,Math.max(d.r*2,g));d.x=f.x+d.r;d.y=i.highlightStyle.y=f.y+f.height/2;i.highlightStyle.x=d.x+d.r+10;var a=this.createBackgroundShape(k.backgroundColor),c=d.n;k=d.x;f=d.y;g=d.r0;for(var b=d.r,e=d.color,h=[],j=Math.round(180/c),l=0;l<c;l++)h[l]=
new o({highlightStyle:{x:k,y:f,r0:g,r:b,startAngle:j*l*2,endAngle:j*l*2+j,color:q.alpha(e,(l+1)/c),brushType:"fill"}});var n=[0,k,f];return setInterval(function(){v(a);n[0]-=0.3;for(var p=0;p<c;p++){h[p].rotation=n;v(h[p])}v(i);m()},d.timeInterval)};return x});V("zrender/loadingEffect/Whirling",["require","./Base","../tool/util","../tool/area","../shape/Ring","../shape/Droplet","../shape/Circle"],function(t){function x(m){A.call(this,m)}var A=t("./Base"),s=t("../tool/util"),q=t("../tool/area"),r=
t("../shape/Ring"),o=t("../shape/Droplet"),v=t("../shape/Circle");s.inherits(x,A);x.prototype._start=function(m,k){var i=s.merge(this.options,{textStyle:{color:"#888",textAlign:"start"},backgroundColor:"rgba(250, 250, 250, 0.8)"}),f=this.createTextShape(i.textStyle),g=q.getTextWidth(f.highlightStyle.text,f.highlightStyle.textFont),d=q.getTextHeight(f.highlightStyle.text,f.highlightStyle.textFont),a=s.merge(this.options.effect||{},{r:18,colorIn:"#fff",colorOut:"#555",colorWhirl:"#6cf",timeInterval:50});
g=this.getLocation(this.options.textStyle,g+10+a.r*2,Math.max(a.r*2,d));a.x=g.x+a.r;a.y=f.highlightStyle.y=g.y+g.height/2;f.highlightStyle.x=a.x+a.r+10;var c=this.createBackgroundShape(i.backgroundColor),b=new o({highlightStyle:{a:Math.round(a.r/2),b:Math.round(a.r-a.r/6),brushType:"fill",color:a.colorWhirl}}),e=new v({highlightStyle:{r:Math.round(a.r/6),brushType:"fill",color:a.colorIn}}),h=new r({highlightStyle:{r0:Math.round(a.r-a.r/3),r:a.r,brushType:"fill",color:a.colorOut}}),j=[0,a.x,a.y];b.highlightStyle.x=
e.highlightStyle.x=h.highlightStyle.x=j[1];b.highlightStyle.y=e.highlightStyle.y=h.highlightStyle.y=j[2];return setInterval(function(){m(c);m(h);j[0]-=0.3;b.rotation=j;m(b);m(e);m(f);k()},a.timeInterval)};return x});V("echarts/theme/default",[],function(){return{}});V("echarts/echarts",["require","./config","zrender/tool/util","zrender/tool/event","zrender/tool/env","zrender","zrender/config","zrender","./chart/island","./component/toolbox","./component","./component/title","./component/tooltip",
"./component/legend","./util/ecData","./chart","./component","zrender/tool/color","./component/timeline","zrender","zrender/shape/Image","zrender/loadingEffect/Bar","zrender/loadingEffect/Bubble","zrender/loadingEffect/DynamicLine","zrender/loadingEffect/Ring","zrender/loadingEffect/Spin","zrender/loadingEffect/Whirling","./theme/default"],function(t){function x(){o.Dispatcher.call(this)}function A(d){this._themeConfig=r.clone(q);this.dom=d;this._connected=false;this._status={dragIn:false,dragOut:false,
needRefresh:false};this._curEventType=false;this._chartList=[];this._messageCenter=new x;this._messageCenterOutSide=new x;this.resize=this.resize();this._init()}function s(d,a,c,b,e){d=d._chartList;for(var h=d.length;h--;){var j=d[h];typeof j[a]==="function"&&j[a](c,b,e)}}var q=t("./config"),r=t("zrender/tool/util"),o=t("zrender/tool/event"),v={},m=t("zrender/tool/env").canvasSupported,k=new Date-0,i={};v.version="2.0.4";v.dependencies={zrender:"2.0.4"};v.init=function(d,a){var c=t("zrender");if((c.version||
"1.0.3").replace(".","")-0<v.dependencies.zrender.replace(".","")-0)console.error("ZRender "+(c.version||"1.0.3-")+" is too old for ECharts "+v.version+". Current version need ZRender "+v.dependencies.zrender+"+");d=d instanceof Array?d[0]:d;c=d.getAttribute("_echarts_instance_");if(!c){c=k++;d.setAttribute("_echarts_instance_",c)}i[c]&&i[c].dispose();i[c]=new A(d);i[c].id=c;i[c].setTheme(a);return i[c]};v.getInstanceById=function(d){return i[d]};r.merge(x.prototype,o.Dispatcher.prototype,true);var f=
t("zrender/config").EVENT,g=["CLICK","DBLCLICK","MOUSEOVER","MOUSEOUT","DRAGSTART","DRAGEND","DRAGENTER","DRAGOVER","DRAGLEAVE","DROP"];A.prototype={_init:function(){var d=this,a=t("zrender").init(this.dom);this._zr=a;this._messageCenter.dispatch=function(l,n,p,w){p=p||{};p.type=l;p.event=n;d._messageCenter.dispatchWithContext(l,p,w);l!="HOVER"&&l!="MOUSEOUT"?setTimeout(function(){d._messageCenterOutSide.dispatchWithContext(l,p,w)},50):d._messageCenterOutSide.dispatchWithContext(l,p,w)};this._onevent=
function(l){return d.__onevent(l)};for(var c in q.EVENT)c!="CLICK"&&c!="DBLCLICK"&&c!="HOVER"&&c!="MOUSEOUT"&&c!="MAP_ROAM"&&this._messageCenter.bind(q.EVENT[c],this._onevent,this);var b={};this._onzrevent=function(l){return d[b[l.type]](l)};c=0;for(var e=g.length;c<e;c++){var h=g[c],j=f[h];b[j]="_on"+h.toLowerCase();a.on(j,this._onzrevent)}this.chart={};this.component={};this._island=new (t("./chart/island"))(this._themeConfig,this._messageCenter,a,{},this);this.chart.island=this._island;this._toolbox=
new (t("./component/toolbox"))(this._themeConfig,this._messageCenter,a,{},this);this.component.toolbox=this._toolbox;c=t("./component");c.define("title",t("./component/title"));c.define("tooltip",t("./component/tooltip"));c.define("legend",t("./component/legend"));if(a.getWidth()===0||a.getHeight()===0)console.error("Dom\u2019s width & height should be ready before init.")},__onevent:function(d){d.__echartsId=d.__echartsId||this.id;var a=d.__echartsId===this.id;if(!this._curEventType)this._curEventType=
d.type;switch(d.type){case q.EVENT.LEGEND_SELECTED:this._onlegendSelected(d);break;case q.EVENT.DATA_ZOOM:if(!a){var c=this.component.dataZoom;if(c){c.silence(true);c.absoluteZoom(d.zoom);c.silence(false)}}this._ondataZoom(d);break;case q.EVENT.DATA_RANGE:a&&this._ondataRange(d);break;case q.EVENT.MAGIC_TYPE_CHANGED:if(!a)if(c=this.component.toolbox){c.silence(true);c.setMagicType(d.magicType);c.silence(false)}this._onmagicTypeChanged(d);break;case q.EVENT.DATA_VIEW_CHANGED:a&&this._ondataViewChanged(d);
break;case q.EVENT.TOOLTIP_HOVER:a&&this._tooltipHover(d);break;case q.EVENT.RESTORE:this._onrestore();break;case q.EVENT.REFRESH:a&&this._onrefresh(d);break;case q.EVENT.TOOLTIP_IN_GRID:case q.EVENT.TOOLTIP_OUT_GRID:if(a){if(this._connected)if(c=this.component.grid){d.x=(d.event.zrenderX-c.getX())/c.getWidth();d.y=(d.event.zrenderY-c.getY())/c.getHeight()}}else(c=this.component.grid)&&this._zr.trigger("mousemove",{connectTrigger:true,zrenderX:c.getX()+d.x*c.getWidth(),zrenderY:c.getY()+d.y*c.getHeight()});
break}if(this._connected&&a&&this._curEventType===d.type){for(var b in this._connected)this._connected[b].connectedEventHandler(d);this._curEventType=null}if(!a||!this._connected&&a)this._curEventType=null},_onclick:function(d){s(this,"onclick",d);if(d.target){var a=this._eventPackage(d.target);a&&a.seriesIndex!=null&&this._messageCenter.dispatch(q.EVENT.CLICK,d.event,a,this)}},_ondblclick:function(d){s(this,"ondblclick",d);if(d.target){var a=this._eventPackage(d.target);a&&a.seriesIndex!=null&&this._messageCenter.dispatch(q.EVENT.DBLCLICK,
d.event,a,this)}},_onmouseover:function(d){if(d.target){var a=this._eventPackage(d.target);a&&a.seriesIndex!=null&&this._messageCenter.dispatch(q.EVENT.HOVER,d.event,a,this)}},_onmouseout:function(d){if(d.target){var a=this._eventPackage(d.target);a&&a.seriesIndex!=null&&this._messageCenter.dispatch(q.EVENT.MOUSEOUT,d.event,a,this)}},_ondragstart:function(d){this._status={dragIn:false,dragOut:false,needRefresh:false};s(this,"ondragstart",d)},_ondragenter:function(d){s(this,"ondragenter",d)},_ondragover:function(d){s(this,
"ondragover",d)},_ondragleave:function(d){s(this,"ondragleave",d)},_ondrop:function(d){s(this,"ondrop",d,this._status);this._island.ondrop(d,this._status)},_ondragend:function(d){s(this,"ondragend",d,this._status);this._timeline&&this._timeline.ondragend(d,this._status);this._island.ondragend(d,this._status);if(this._status.needRefresh){this._syncBackupData(this._option);var a=this._messageCenter;a.dispatch(q.EVENT.DATA_CHANGED,d.event,this._eventPackage(d.target),this);a.dispatch(q.EVENT.REFRESH,
null,null,this)}},_onlegendSelected:function(d){this._status.needRefresh=false;s(this,"onlegendSelected",d,this._status);this._status.needRefresh&&this._messageCenter.dispatch(q.EVENT.REFRESH,null,null,this)},_ondataZoom:function(d){this._status.needRefresh=false;s(this,"ondataZoom",d,this._status);this._status.needRefresh&&this._messageCenter.dispatch(q.EVENT.REFRESH,null,null,this)},_ondataRange:function(d){this._clearEffect();this._status.needRefresh=false;s(this,"ondataRange",d,this._status);
this._status.needRefresh&&this._zr.refresh()},_onmagicTypeChanged:function(){this._clearEffect();this._render(this._toolbox.getMagicOption())},_ondataViewChanged:function(d){this._syncBackupData(d.option);this._messageCenter.dispatch(q.EVENT.DATA_CHANGED,null,d,this);this._messageCenter.dispatch(q.EVENT.REFRESH,null,null,this)},_tooltipHover:function(d){s(this,"ontooltipHover",d,[])},_onrestore:function(){this.restore()},_onrefresh:function(d){this._refreshInside=true;this.refresh(d);this._refreshInside=
false},_syncBackupData:function(d){this.component.dataZoom&&this.component.dataZoom.syncBackupData(d)},_eventPackage:function(d){if(d){var a=t("./util/ecData"),c=a.get(d,"seriesIndex"),b=a.get(d,"dataIndex");b=c!=-1&&this.component.dataZoom?this.component.dataZoom.getRealDataIndex(c,b):b;return{seriesIndex:c,seriesName:(a.get(d,"series")||{}).name,dataIndex:b,data:a.get(d,"data"),name:a.get(d,"name"),value:a.get(d,"value"),special:a.get(d,"special")}}},_render:function(d){this._mergeGlobalConifg(d);
var a=d.backgroundColor;if(a)if(!m&&a.indexOf("rgba")!=-1){a=a.split(",");this.dom.style.filter="alpha(opacity="+a[3].substring(0,a[3].lastIndexOf(")"))*100+")";a.length=3;a[0]=a[0].replace("a","");this.dom.style.backgroundColor=a.join(",")+")"}else this.dom.style.backgroundColor=a;this._zr.clearAnimation();this._chartList=[];a=t("./chart");var c=t("./component");if(d.xAxis||d.yAxis){d.grid=d.grid||{};d.dataZoom=d.dataZoom||{}}for(var b=["title","legend","tooltip","dataRange","roamController","grid",
"dataZoom","xAxis","yAxis","polar"],e,h,j=0,l=b.length;j<l;j++){h=b[j];e=this.component[h];if(d[h]){if(e)e.refresh&&e.refresh(d);else{e=c.get(/^[xy]Axis$/.test(h)?"axis":h);e=new e(this._themeConfig,this._messageCenter,this._zr,d,this,h);this.component[h]=e}this._chartList.push(e)}else if(e){e.dispose();this.component[h]=null;delete this.component[h]}}var n;c={};j=0;for(l=d.series.length;j<l;j++)if(n=d.series[j].type){if(!c[n]){c[n]=true;if(b=a.get(n)){if(this.chart[n]){b=this.chart[n];b.refresh(d)}else b=
new b(this._themeConfig,this._messageCenter,this._zr,d,this);this._chartList.push(b);this.chart[n]=b}else console.error(n+" has not been required.")}}else console.error("series["+j+"] chart type has not been defined.");for(n in this.chart)if(n!=q.CHART_TYPE_ISLAND&&!c[n]){this.chart[n].dispose();this.chart[n]=null;delete this.chart[n]}this.component.grid&&this.component.grid.refixAxisShape(this.component);this._island.refresh(d);this._toolbox.refresh(d);d.animation&&!d.renderAsImage?this._zr.refresh():
this._zr.render();n="IMG"+this.id;a=document.getElementById(n);if(d.renderAsImage&&m){if(a)a.src=this.getDataURL(d.renderAsImage);else{a=this.getImage(d.renderAsImage);a.id=n;a.style.position="absolute";a.style.left=0;a.style.top=0;this.dom.firstChild.appendChild(a)}this.un();this._zr.un();this._disposeChartList();this._zr.clear()}else a&&a.parentNode.removeChild(a);this._option=d},restore:function(){this._clearEffect();this._option=r.clone(this._optionRestore);this._disposeChartList();this._island.clear();
this._toolbox.reset(this._option,true);this._render(this._option)},refresh:function(d){this._clearEffect();d=d||{};var a=d.option;if(!this._refreshInside&&a){a=this.getOption();r.merge(a,d.option,true);r.merge(this._optionRestore,d.option,true);this._toolbox.reset(a)}this._island.refresh(a);this._toolbox.refresh(a);this._zr.clearAnimation();d=0;for(var c=this._chartList.length;d<c;d++)this._chartList[d].refresh&&this._chartList[d].refresh(a);this.component.grid&&this.component.grid.refixAxisShape(this.component);
this._zr.refresh()},_disposeChartList:function(){this._clearEffect();this._zr.clearAnimation();for(var d=this._chartList.length;d--;){var a=this._chartList[d];if(a){var c=a.type;this.chart[c]&&delete this.chart[c];this.component[c]&&delete this.component[c];a.dispose&&a.dispose()}}this._chartList=[]},_mergeGlobalConifg:function(d){for(var a=["backgroundColor","calculable","calculableColor","calculableHolderColor","nameConnector","valueConnector","animation","animationThreshold","animationDuration",
"animationEasing","addDataAnimation","symbolList","DRAG_ENABLE_TIME"],c=a.length;c--;){var b=a[c];if(d[b]==null)d[b]=this._themeConfig[b]}var e=d.color;if(!(e&&e.length))e=this._themeConfig.color;this._zr.getColor=function(h){return t("zrender/tool/color").getColor(h,e)}},setOption:function(d,a){return d.timeline?this._setTimelineOption(d):this._setOption(d,a)},_setOption:function(d,a){this._option=!a&&this._option?r.merge(this.getOption(),r.clone(d),true):r.clone(d);this._optionRestore=r.clone(this._option);
if(!this._option.series||this._option.series.length===0)this._zr.clear();else{if(this.component.dataZoom&&(this._option.dataZoom||this._option.toolbox&&this._option.toolbox.feature&&this._option.toolbox.feature.dataZoom&&this._option.toolbox.feature.dataZoom.show))this.component.dataZoom.syncOption(this._option);this._toolbox.reset(this._option);this._render(this._option);return this}},getOption:function(){function d(b){var e=c._optionRestore[b];if(e)if(e instanceof Array)for(var h=e.length;h--;)a[b][h].data=
r.clone(e[h].data);else a[b].data=r.clone(e.data)}var a=r.clone(this._option),c=this;d("xAxis");d("yAxis");d("series");return a},setSeries:function(d,a){if(a){this._option.series=d;this.setOption(this._option,a)}else this.setOption({series:d});return this},getSeries:function(){return this.getOption().series},_setTimelineOption:function(d){this._timeline&&this._timeline.dispose();this._timeline=new (t("./component/timeline"))(this._themeConfig,this._messageCenter,this._zr,d,this);this.component.timeline=
this._timeline;return this},addData:function(d,a,c,b,e){for(var h=d instanceof Array?d:[[d,a,c,b,e]],j=this.getOption(),l=this._optionRestore,n=0,p=h.length;n<p;n++){d=h[n][0];a=h[n][1];c=h[n][2];b=h[n][3];e=h[n][4];var w=l.series[d],B=c?"unshift":"push";c=c?"pop":"shift";if(w){var y=w.data,C=j.series[d].data;y[B](a);C[B](a);if(!b){y[c]();a=C[c]()}if(e!=null){var z,u;if(w.type===q.CHART_TYPE_PIE&&(z=l.legend)&&(u=z.data)){w=j.legend.data;u[B](e);w[B](e);if(!b){b=r.indexOf(u,a.name);b!=-1&&u.splice(b,
1);b=r.indexOf(w,a.name);b!=-1&&w.splice(b,1)}}else if(l.xAxis!=null&&l.yAxis!=null){y=w.xAxisIndex||0;if(l.xAxis[y].type==null||l.xAxis[y].type==="category"){a=l.xAxis[y].data;y=j.xAxis[y].data;a[B](e);y[B](e);if(!b){a[c]();y[c]()}}y=w.yAxisIndex||0;if(l.yAxis[y].type==="category"){a=l.yAxis[y].data;y=j.yAxis[y].data;a[B](e);y[B](e);if(!b){a[c]();y[c]()}}}}this._option.series[d].data=j.series[d].data}}this._zr.clearAnimation();var D=this._chartList;n=0;for(p=D.length;n<p;n++)j.addDataAnimation&&
D[n].addDataAnimation&&D[n].addDataAnimation(h);this.component.dataZoom&&this.component.dataZoom.syncOption(j);this._option=j;var F=this;setTimeout(function(){if(F._zr){F._zr.clearAnimation();for(var O=0,T=D.length;O<T;O++)D[O].motionlessOnce=j.addDataAnimation&&D[O].addDataAnimation;F._messageCenter.dispatch(q.EVENT.REFRESH,null,{option:j},F)}},j.addDataAnimation?500:0);return this},addMarkPoint:function(d,a){return this._addMark(d,a,"markPoint")},addMarkLine:function(d,a){return this._addMark(d,
a,"markLine")},_addMark:function(d,a,c){var b=this._option.series,e;if(b&&(e=b[d])){b=this._optionRestore.series[d];var h=e[c],j=b[c];h=e[c]=h||{data:[]};j=b[c]=j||{data:[]};for(var l in a)if(l==="data"){h.data=h.data.concat(a.data);j.data=j.data.concat(a.data)}else if(typeof a[l]!="object"||h[l]==null)h[l]=j[l]=a[l];else{r.merge(h[l],a[l],true);r.merge(j[l],a[l],true)}(e=this.chart[e.type])&&e.addMark(d,a,c)}return this},delMarkPoint:function(d,a){return this._delMark(d,a,"markPoint")},delMarkLine:function(d,
a){return this._delMark(d,a,"markLine")},_delMark:function(d,a,c){var b=this._option.series,e,h,j;if(!(b&&(e=b[d])&&(h=e[c])&&(j=h.data)))return this;a=a.split(" > ");b=-1;h=0;for(var l=j.length;h<l;h++){var n=j[h];if(n instanceof Array){if(n[0].name===a[0]&&n[1].name===a[1]){b=h;break}}else if(n.name===a[0]){b=h;break}}if(b>-1){j.splice(b,1);this._optionRestore.series[d][c].data.splice(b,1);(e=this.chart[e.type])&&e.delMark(d,a.join(" > "),c)}return this},getDom:function(){return this.dom},getZrender:function(){return this._zr},
getDataURL:function(d){if(!m)return"";if(this._chartList.length===0){var a=document.getElementById("IMG"+this.id);if(a)return a.src}(a=this.component.tooltip)&&a.hideTip();switch(d){case "jpeg":break;default:d="png"}if((a=this._option.backgroundColor)&&a.replace(" ","")==="rgba(0,0,0,0)")a="#fff";return this._zr.toDataURL("image/"+d,a)},getImage:function(d){var a=this._optionRestore.title,c=document.createElement("img");c.src=this.getDataURL(d);c.title=a&&a.text||"ECharts";return c},getConnectedDataURL:function(d){if(!this.isConnected())return this.getDataURL(d);
var a=this.dom,c={self:{img:this.getDataURL(d),left:a.offsetLeft,top:a.offsetTop,right:a.offsetLeft+a.offsetWidth,bottom:a.offsetTop+a.offsetHeight}},b=c.self.left,e=c.self.top,h=c.self.right,j=c.self.bottom;for(var l in this._connected){a=this._connected[l].getDom();c[l]={img:this._connected[l].getDataURL(d),left:a.offsetLeft,top:a.offsetTop,right:a.offsetLeft+a.offsetWidth,bottom:a.offsetTop+a.offsetHeight};b=Math.min(b,c[l].left);e=Math.min(e,c[l].top);h=Math.max(h,c[l].right);j=Math.max(j,c[l].bottom)}var n=
document.createElement("div");n.style.position="absolute";n.style.left="-4000px";n.style.width=h-b+"px";n.style.height=j-e+"px";document.body.appendChild(n);var p=t("zrender").init(n);d=t("zrender/shape/Image");for(l in c)p.addShape(new d({style:{x:c[l].left-b,y:c[l].top-e,image:c[l].img}}));p.render();if((c=this._option.backgroundColor)&&c.replace(/ /g,"")==="rgba(0,0,0,0)")c="#fff";c=p.toDataURL("image/png",c);setTimeout(function(){p.dispose();n.parentNode.removeChild(n);n=null},100);return c},
getConnectedImage:function(d){var a=this._optionRestore.title,c=document.createElement("img");c.src=this.getConnectedDataURL(d);c.title=a&&a.text||"ECharts";return c},on:function(d,a){this._messageCenterOutSide.bind(d,a,this);return this},un:function(d,a){this._messageCenterOutSide.unbind(d,a);return this},connect:function(d){if(!d)return this;if(!this._connected)this._connected={};if(d instanceof Array)for(var a=0,c=d.length;a<c;a++)this._connected[d[a].id]=d[a];else this._connected[d.id]=d;return this},
disConnect:function(d){if(!d||!this._connected)return this;if(d instanceof Array)for(var a=0,c=d.length;a<c;a++)delete this._connected[d[a].id];else delete this._connected[d.id];for(var b in this._connected)return this;this._connected=false;return this},connectedEventHandler:function(d){d.__echartsId!=this.id&&this._onevent(d)},isConnected:function(){return!!this._connected},showLoading:function(d){var a={bar:t("zrender/loadingEffect/Bar"),bubble:t("zrender/loadingEffect/Bubble"),dynamicLine:t("zrender/loadingEffect/DynamicLine"),
ring:t("zrender/loadingEffect/Ring"),spin:t("zrender/loadingEffect/Spin"),whirling:t("zrender/loadingEffect/Whirling")};this._toolbox.hideDataView();d=d||{};var c=d.textStyle||{};d.textStyle=c;var b=r.merge(r.clone(c),this._themeConfig.textStyle);c.textFont=b.fontStyle+" "+b.fontWeight+" "+b.fontSize+"px "+b.fontFamily;c.text=d.text||this._themeConfig.loadingText;if(d.x!=null)c.x=d.x;if(d.y!=null)c.y=d.y;d.effectOption=d.effectOption||{};d.effectOption.textStyle=c;c=d.effect;if(typeof c==="string"||
c==null)c=a[d.effect||"spin"];this._zr.showLoading(new c(d.effectOption));return this},hideLoading:function(){this._zr.hideLoading();return this},setTheme:function(d){if(d){if(typeof d==="string")switch(d){default:d=t("./theme/default")}else d=d||{};for(var a in this._themeConfig)delete this._themeConfig[a];for(a in q)this._themeConfig[a]=r.clone(q[a]);d.color&&(this._themeConfig.color=[]);d.symbolList&&(this._themeConfig.symbolList=[]);r.merge(this._themeConfig,r.clone(d),true)}if(!m)this._themeConfig.textStyle.fontFamily=
this._themeConfig.textStyle.fontFamily2;this._timeline&&this._timeline.setTheme(true);this._optionRestore&&this.restore()},resize:function(){var d=this;return function(){d._clearEffect();d._zr.resize();if(d._option&&d._option.renderAsImage&&m){d._render(d._option);return d}d._zr.clearAnimation();d._island.resize();d._toolbox.resize();d._timeline&&d._timeline.resize();for(var a=0,c=d._chartList.length;a<c;a++)d._chartList[a].resize&&d._chartList[a].resize();d.component.grid&&d.component.grid.refixAxisShape(d.component);
d._zr.refresh();d._messageCenter.dispatch(q.EVENT.RESIZE,null,null,d);return d}},_clearEffect:function(){this._zr.modLayer(q.EFFECT_ZLEVEL,{motionBlur:false});this._zr.painter.clearLayer(q.EFFECT_ZLEVEL)},clear:function(){this._disposeChartList();this._zr.clear();this._option={};this._optionRestore={};return this},dispose:function(){var d=this.dom.getAttribute("_echarts_instance_");d&&delete i[d];this._island.dispose();this._toolbox.dispose();this._timeline&&this._timeline.dispose();this._messageCenter.unbind();
this.clear();this._zr.dispose();this._zr=null}};return v});V("echarts",["echarts/echarts"],function(t){return t});V("echarts/util/shape/GaugePointer",["require","zrender/shape/Base","zrender/tool/util","./normalIsCover"],function(t){function x(q){A.call(this,q)}var A=t("zrender/shape/Base"),s=t("zrender/tool/util");x.prototype={type:"gauge-pointer",buildPath:function(q,r){var o=r.r,v=r.width,m=r.angle,k=r.x-Math.cos(m)*v*(v>=o/3?1:2),i=r.y+Math.sin(m)*v*(v>=o/3?1:2);m=r.angle-Math.PI/2;q.moveTo(k,
i);q.lineTo(r.x+Math.cos(m)*v,r.y-Math.sin(m)*v);q.lineTo(r.x+Math.cos(r.angle)*o,r.y-Math.sin(r.angle)*o);q.lineTo(r.x-Math.cos(m)*v,r.y+Math.sin(m)*v);q.lineTo(k,i)},getRect:function(q){if(q.__rect)return q.__rect;var r=q.width*2,o=q.x,v=q.y,m=o+Math.cos(q.angle)*q.r,k=v-Math.sin(q.angle)*q.r;q.__rect={x:Math.min(o,m)-r,y:Math.min(v,k)-r,width:Math.abs(o-m)+r,height:Math.abs(v-k)+r};return q.__rect},isCover:t("./normalIsCover")};s.inherits(x,A);return x});V("echarts/chart/gauge",["require","../component/base",
"./base","../util/shape/GaugePointer","zrender/shape/Text","zrender/shape/Line","zrender/shape/Rectangle","zrender/shape/Circle","zrender/shape/Sector","../config","../util/ecData","../util/accMath","zrender/tool/util","../chart"],function(t){function x(a,c,b,e,h){A.call(this,a,c,b,e,h);s.call(this);this.refresh(e)}var A=t("../component/base"),s=t("./base"),q=t("../util/shape/GaugePointer"),r=t("zrender/shape/Text"),o=t("zrender/shape/Line"),v=t("zrender/shape/Rectangle"),m=t("zrender/shape/Circle"),
k=t("zrender/shape/Sector"),i=t("../config"),f=t("../util/ecData"),g=t("../util/accMath"),d=t("zrender/tool/util");x.prototype={type:i.CHART_TYPE_GAUGE,_buildShape:function(){var a=this.series;this._paramsMap={};for(var c=0,b=a.length;c<b;c++)if(a[c].type===i.CHART_TYPE_GAUGE){a[c]=this.reformOption(a[c]);this._buildSingleGauge(c);this.buildMark(c)}this.addShapeList()},_buildSingleGauge:function(a){var c=this.series[a];this._paramsMap[a]={center:this.parseCenter(this.zr,c.center),radius:this.parseRadius(this.zr,
c.radius),startAngle:c.startAngle.toFixed(2)-0,endAngle:c.endAngle.toFixed(2)-0};this._paramsMap[a].totalAngle=this._paramsMap[a].startAngle-this._paramsMap[a].endAngle;this._colorMap(a);this._buildAxisLine(a);this._buildSplitLine(a);this._buildAxisTick(a);this._buildAxisLabel(a);this._buildPointer(a);this._buildTitle(a);this._buildDetail(a)},_buildAxisLine:function(a){var c=this.series[a];if(c.axisLine.show){var b=c.min,e=c.max-b,h=this._paramsMap[a],j=h.center,l=h.startAngle,n=h.totalAngle,p=h.colorArray;
c=c.axisLine.lineStyle;var w=this.parsePercent(c.width,h.radius[1]);h=h.radius[1];w=h-w;for(var B,y=l,C,z=0,u=p.length;z<u;z++){C=l-n*(p[z][0]-b)/e;B=this._getSector(j,w,h,C,y,p[z][1],c);y=C;B._animationAdd="r";f.set(B,"seriesIndex",a);f.set(B,"dataIndex",z);this.shapeList.push(B)}}},_buildSplitLine:function(a){var c=this.series[a];if(c.splitLine.show){var b=this._paramsMap[a],e=c.splitNumber,h=c.min,j=c.max-h;c=c.splitLine;var l=this.parsePercent(c.length,b.radius[1]);c=c.lineStyle;var n=c.color,
p=b.center,w=b.startAngle*Math.PI/180,B=b.totalAngle*Math.PI/180;b=b.radius[1];l=b-l;for(var y,C,z=0;z<=e;z++){y=w-B/e*z;C=Math.sin(y);y=Math.cos(y);this.shapeList.push(new o({zlevel:this._zlevelBase+1,hoverable:false,style:{xStart:p[0]+y*b,yStart:p[1]-C*b,xEnd:p[0]+y*l,yEnd:p[1]-C*l,strokeColor:n==="auto"?this._getColor(a,h+j/e*z):n,lineType:c.type,lineWidth:c.width,shadowColor:c.shadowColor,shadowBlur:c.shadowBlur,shadowOffsetX:c.shadowOffsetX,shadowOffsetY:c.shadowOffsetY}}))}}},_buildAxisTick:function(a){var c=
this.series[a];if(c.axisTick.show){var b=this._paramsMap[a],e=c.splitNumber,h=c.min,j=c.max-h,l=c.axisTick;c=l.splitNumber;var n=this.parsePercent(l.length,b.radius[1]);l=l.lineStyle;var p=l.color,w=b.center,B=b.startAngle*Math.PI/180,y=b.totalAngle*Math.PI/180;b=b.radius[1];n=b-n;for(var C,z=0,u=e*c;z<=u;z++)if(z%c!==0){C=B-y/u*z;e=Math.sin(C);C=Math.cos(C);this.shapeList.push(new o({zlevel:this._zlevelBase+1,hoverable:false,style:{xStart:w[0]+C*b,yStart:w[1]-e*b,xEnd:w[0]+C*n,yEnd:w[1]-e*n,strokeColor:p===
"auto"?this._getColor(a,h+j/u*z):p,lineType:l.type,lineWidth:l.width,shadowColor:l.shadowColor,shadowBlur:l.shadowBlur,shadowOffsetX:l.shadowOffsetX,shadowOffsetY:l.shadowOffsetY}}))}}},_buildAxisLabel:function(a){var c=this.series[a];if(c.axisLabel.show){var b=c.splitNumber,e=c.min,h=c.max-e,j=c.axisLabel.textStyle,l=this.getFont(j),n=j.color,p=this._paramsMap[a],w=p.center,B=p.startAngle,y=p.totalAngle;p=p.radius[1]-this.parsePercent(c.splitLine.length,p.radius[1])-10;for(var C,z,u,D,F=0;F<=b;F++){D=
g.accAdd(e,g.accMul(g.accDiv(h,b),F));C=B-y/b*F;z=Math.sin(C*Math.PI/180);u=Math.cos(C*Math.PI/180);C=(C+360)%360;this.shapeList.push(new r({zlevel:this._zlevelBase+1,hoverable:false,style:{x:w[0]+u*p,y:w[1]-z*p,color:n==="auto"?this._getColor(a,D):n,text:this._getLabelText(c.axisLabel.formatter,D),textAlign:C>=110&&C<=250?"left":C<=70||C>=290?"right":"center",textBaseline:C>=10&&C<=170?"top":C>=190&&C<=350?"bottom":"middle",textFont:l,shadowColor:j.shadowColor,shadowBlur:j.shadowBlur,shadowOffsetX:j.shadowOffsetX,
shadowOffsetY:j.shadowOffsetY}}))}}},_buildPointer:function(a){var c=this.series[a];if(c.pointer.show){var b=c.max-c.min,e=c.pointer,h=this._paramsMap[a],j=this.parsePercent(e.length,h.radius[1]),l=this.parsePercent(e.width,h.radius[1]),n=h.center,p=this._getValue(a);p=p<c.max?p:c.max;c=(h.startAngle-h.totalAngle/b*(p-c.min))*Math.PI/180;b=e.color==="auto"?this._getColor(a,p):e.color;h=new q({zlevel:this._zlevelBase+1,style:{x:n[0],y:n[1],r:j,startAngle:h.startAngle*Math.PI/180,angle:c,color:b,width:l,
shadowColor:e.shadowColor,shadowBlur:e.shadowBlur,shadowOffsetX:e.shadowOffsetX,shadowOffsetY:e.shadowOffsetY},highlightStyle:{brushType:"fill",width:l>2?2:l/2,color:"#fff"}});f.pack(h,this.series[a],a,this.series[a].data[0],0,this.series[a].data[0].name,p);this.shapeList.push(h);this.shapeList.push(new m({zlevel:this._zlevelBase+2,hoverable:false,style:{x:n[0],y:n[1],r:e.width/2.5,color:"#fff"}}))}},_buildTitle:function(a){var c=this.series[a];if(c.title.show){var b=c.data[0];b=b.name!=null?b.name:
"";if(b!==""){var e=c.title;c=e.offsetCenter;e=e.textStyle;var h=e.color,j=this._paramsMap[a],l=j.center[0]+this.parsePercent(c[0],j.radius[1]);c=j.center[1]+this.parsePercent(c[1],j.radius[1]);this.shapeList.push(new r({zlevel:this._zlevelBase+(Math.abs(l-j.center[0])+Math.abs(c-j.center[1]))<e.fontSize*2?2:1,hoverable:false,style:{x:l,y:c,color:h==="auto"?this._getColor(a):h,text:b,textAlign:"center",textFont:this.getFont(e),shadowColor:e.shadowColor,shadowBlur:e.shadowBlur,shadowOffsetX:e.shadowOffsetX,
shadowOffsetY:e.shadowOffsetY}}))}}},_buildDetail:function(a){var c=this.series[a];if(c.detail.show){c=c.detail;var b=c.offsetCenter,e=c.backgroundColor,h=c.textStyle,j=h.color,l=this._paramsMap[a],n=this._getValue(a),p=l.center[0]-c.width/2+this.parsePercent(b[0],l.radius[1]);b=l.center[1]+this.parsePercent(b[1],l.radius[1]);this.shapeList.push(new v({zlevel:this._zlevelBase+(Math.abs(p+c.width/2-l.center[0])+Math.abs(b+c.height/2-l.center[1]))<h.fontSize?2:1,hoverable:false,style:{x:p,y:b,width:c.width,
height:c.height,brushType:"both",color:e==="auto"?this._getColor(a,n):e,lineWidth:c.borderWidth,strokeColor:c.borderColor,shadowColor:c.shadowColor,shadowBlur:c.shadowBlur,shadowOffsetX:c.shadowOffsetX,shadowOffsetY:c.shadowOffsetY,text:this._getLabelText(c.formatter,n),textFont:this.getFont(h),textPosition:"inside",textColor:j==="auto"?this._getColor(a,n):j}}))}},_getValue:function(a){a=this.series[a].data[0];return a.value!=null?a.value:a},_colorMap:function(a){var c=this.series[a],b=c.min,e=c.max-
b;c=c.axisLine.lineStyle.color;c instanceof Array||(c=[[1,c]]);for(var h=[],j=0,l=c.length;j<l;j++)h.push([c[j][0]*e+b,c[j][1]]);this._paramsMap[a].colorArray=h},_getColor:function(a,c){if(c==null)c=this._getValue(a);a=this._paramsMap[a].colorArray;for(var b=0,e=a.length;b<e;b++)if(a[b][0]>=c)return a[b][1];return a[a.length-1][1]},_getSector:function(a,c,b,e,h,j,l){return new k({zlevel:this._zlevelBase,hoverable:false,style:{x:a[0],y:a[1],r0:c,r:b,startAngle:e,endAngle:h,brushType:"fill",color:j,
shadowColor:l.shadowColor,shadowBlur:l.shadowBlur,shadowOffsetX:l.shadowOffsetX,shadowOffsetY:l.shadowOffsetY}})},_getLabelText:function(a,c){if(a)if(typeof a==="function")return a.call(this.myChart,c);else if(typeof a==="string")return a.replace("{value}",c);return c},refresh:function(a){if(a){this.option=a;this.series=a.series}this.backupShapeList();this._buildShape()}};d.inherits(x,s);d.inherits(x,A);t("../chart").define("gauge",x);return x});V("echarts/chart/funnel",["require","../component/base",
"./base","zrender/shape/Text","zrender/shape/Line","zrender/shape/Polygon","../config","../util/ecData","../util/number","zrender/tool/util","zrender/tool/color","zrender/tool/area","../chart"],function(t){function x(d,a,c,b,e){A.call(this,d,a,c,b,e);s.call(this);this.refresh(b)}var A=t("../component/base"),s=t("./base"),q=t("zrender/shape/Text"),r=t("zrender/shape/Line"),o=t("zrender/shape/Polygon"),v=t("../config"),m=t("../util/ecData"),k=t("../util/number"),i=t("zrender/tool/util"),f=t("zrender/tool/color"),
g=t("zrender/tool/area");x.prototype={type:v.CHART_TYPE_FUNNEL,_buildShape:function(){var d=this.series,a=this.component.legend;this._paramsMap={};this._selected={};this.selectedMap={};for(var c,b=0,e=d.length;b<e;b++)if(d[b].type===v.CHART_TYPE_FUNNEL){d[b]=this.reformOption(d[b]);c=d[b].name||"";this.selectedMap[c]=a?a.isSelected(c):true;if(this.selectedMap[c]){this._buildSingleFunnel(b);this.buildMark(b)}}this.addShapeList()},_buildSingleFunnel:function(d){var a=this.component.legend,c=this.series[d],
b=this._mapData(d),e=this._getLocation(d);this._paramsMap[d]={location:e,data:b};for(var h,j=0,l=[],n=0,p=b.length;n<p;n++){h=b[n].name;this.selectedMap[h]=a?a.isSelected(h):true;if(this.selectedMap[h]&&!isNaN(b[n].value)){l.push(b[n]);j++}}if(j!==0){b=this._buildFunnelCase(d);var w=c.gap;j=j>1?(e.height-(j-1)*w)/j:e.height;var B,y=e.y,C=c.sort==="descending"?this._getItemWidth(d,l[0].value):k.parsePercent(c.minSize,e.width),z=c.sort==="descending"?1:0,u=e.centerX,D=[[u-C/2-(C===0?0:10),y-(C===0?
10:5)],[u+C/2+(C===0?0:10),y-(C===0?10:5)]];n=0;for(p=l.length;n<p;n++){h=l[n].name;if(this.selectedMap[h]&&!isNaN(l[n].value)){B=n<=p-2?this._getItemWidth(d,l[n+z].value):c.sort==="descending"?k.parsePercent(c.minSize,e.width):k.parsePercent(c.maxSize,e.width);this._buildItem(d,l[n]._index,a?a.getColor(h):this.zr.getColor(l[n]._index),u-C/2,y,C,B,j);y+=j+w;C=B;D.unshift([u-C/2-10,y]);D.push([u+C/2+10,y])}}if(b){if(C===0){D.pop();D[0][0]+=10;D[0][1]+=10}else{D[D.length-1][1]+=5;D[0][1]+=5}b.style.pointList=
D}}},_buildFunnelCase:function(d){var a=this.series[d];if(this.deepQuery([a,this.option],"calculable")){var c=this._paramsMap[d].location;c={hoverable:false,style:{pointListd:[[c.x-10,c.y-10],[c.x+c.width+10,c.y-10],[c.x+c.width+10,c.y+c.height+10],[c.x-10,c.y+c.height+10]],brushType:"stroke",lineWidth:1,strokeColor:a.calculableHolderColor||this.ecTheme.calculableHolderColor}};m.pack(c,a,d,undefined,-1);this.setCalculable(c);c=new o(c);this.shapeList.push(c);return c}},_getLocation:function(d){var a=
this.series[d],c=this.zr.getWidth(),b=this.zr.getHeight();d=this.parsePercent(a.x,c);var e=this.parsePercent(a.y,b);c=a.width==null?c-d-this.parsePercent(a.x2,c):this.parsePercent(a.width,c);a=a.height==null?b-e-this.parsePercent(a.y2,b):this.parsePercent(a.height,b);return{x:d,y:e,width:c,height:a,centerX:d+c/2}},_mapData:function(d){function a(j,l){if(j.value==="-")return 1;else if(l.value==="-")return-1;return l.value-j.value}function c(j,l){return-a(j,l)}d=this.series[d];for(var b=i.clone(d.data),
e=0,h=b.length;e<h;e++)b[e]._index=e;if(d.sort!="none")b.sort(d.sort==="descending"?a:c);return b},_buildItem:function(d,a,c,b,e,h,j,l){var n=this.series,p=n[d],w=p.data[a],B=this.getPolygon(d,a,c,b,e,h,j,l);m.pack(B,n[d],d,n[d].data[a],a,n[d].data[a].name);this.shapeList.push(B);var y=this.getLabel(d,a,c,b,e,h,j,l);m.pack(y,n[d],d,n[d].data[a],a,n[d].data[a].name);this.shapeList.push(y);if(!this._needLabel(p,w,false))y.invisible=true;d=this.getLabelLine(d,a,c,b,e,h,j,l);this.shapeList.push(d);if(!this._needLabelLine(p,
w,false))d.invisible=true;a=[];c=[];if(this._needLabelLine(p,w,true)){a.push(d.id);c.push(d.id)}if(this._needLabel(p,w,true)){a.push(y.id);c.push(B.id)}B.hoverConnect=a;y.hoverConnect=c;B.onmouseover=y.onmouseover=this.hoverConnect},_getItemWidth:function(d,a){var c=this.series[d],b=this._paramsMap[d].location;d=c.min;var e=c.max,h=k.parsePercent(c.minSize,b.width);c=k.parsePercent(c.maxSize,b.width);return a*(c-h)/(e-d)},getPolygon:function(d,a,c,b,e,h,j,l){var n=this.series[d],p=n.data[a],w=[p,
n],B=this.deepMerge(w,"itemStyle.normal")||{},y=this.deepMerge(w,"itemStyle.emphasis")||{};c=this.getItemStyleColor(B.color,d,a,p)||c;d=this.getItemStyleColor(y.color,d,a,p)||(typeof c==="string"?f.lift(c,-0.2):c);b={zlevel:this._zlevelBase,clickable:this.deepQuery(w,"clickable"),style:{pointList:[[b,e],[b+h,e],[b+h-(h-j)/2,e+l],[b+(h-j)/2,e+l]],brushType:"both",color:c,lineWidth:B.borderWidth,strokeColor:B.borderColor},highlightStyle:{color:d,lineWidth:y.borderWidth,strokeColor:y.borderColor}};if(this.deepQuery([p,
n,this.option],"calculable")){this.setCalculable(b);b.draggable=true}return new o(b)},getLabel:function(d,a,c,b,e,h,j,l){var n=this.series[d],p=this._paramsMap[d].location;n=i.merge(i.clone(n.data[a].itemStyle)||{},n.itemStyle);var w="normal",B=n[w].label,y=B.textStyle||{},C=n[w].labelLine.length;w=this.getLabelText(d,a,w);var z=this.getFont(y),u,D,F=c;B.position=B.position||n.normal.label.position;if(B.position==="inner"||B.position==="inside"){u="center";D=b+h/2;F=Math.max(h,j)/2>g.getTextWidth(w,
z)?"#fff":f.reverse(c)}else if(B.position==="left"){u="right";D=C==="auto"?p.x-10:p.centerX-Math.max(h,j)/2-C}else{u="left";D=C==="auto"?p.x+p.width+10:p.centerX+Math.max(h,j)/2+C}e={zlevel:this._zlevelBase+1,style:{x:D,y:e+l/2,color:y.color||F,text:w,textAlign:y.align||u,textBaseline:y.baseline||"middle",textFont:z}};w="emphasis";B=n[w].label||B;y=B.textStyle||y;C=n[w].labelLine.length||C;B.position=B.position||n.normal.label.position;w=this.getLabelText(d,a,w);z=this.getFont(y);F=c;if(B.position===
"inner"||B.position==="inside"){u="center";D=b+h/2;F=Math.max(h,j)/2>g.getTextWidth(w,z)?"#fff":f.reverse(c)}else if(B.position==="left"){u="right";D=C==="auto"?p.x-10:p.centerX-Math.max(h,j)/2-C}else{u="left";D=C==="auto"?p.x+p.width+10:p.centerX+Math.max(h,j)/2+C}e.highlightStyle={x:D,color:y.color||F,text:w,textAlign:y.align||u,textFont:z,brushType:"fill"};return new q(e)},getLabelText:function(d,a,c){d=this.series[d];a=d.data[a];if(c=this.deepQuery([a,d],"itemStyle."+c+".label.formatter"))if(typeof c===
"function")return c.call(this.myChart,d.name,a.name,a.value);else{if(typeof c==="string"){c=c.replace("{a}","{a0}").replace("{b}","{b0}").replace("{c}","{c0}");return c=c.replace("{a0}",d.name).replace("{b0}",a.name).replace("{c0}",a.value)}}else return a.name},getLabelLine:function(d,a,c,b,e,h,j,l){var n=this.series[d];d=this._paramsMap[d].location;a=i.merge(i.clone(n.data[a].itemStyle)||{},n.itemStyle);var p="normal";n=a[p].labelLine;var w=a[p].labelLine.length,B=n.lineStyle||{},y=a[p].label;y.position=
y.position||a.normal.label.position;p=y.position==="inner"||y.position==="inside"?b+h/2:y.position==="left"?w==="auto"?d.x-10:d.centerX-Math.max(h,j)/2-w:w==="auto"?d.x+d.width+10:d.centerX+Math.max(h,j)/2+w;e={zlevel:this._zlevelBase+1,hoverable:false,style:{xStart:d.centerX,yStart:e+l/2,xEnd:p,yEnd:e+l/2,strokeColor:B.color||c,lineType:B.type,lineWidth:B.width}};p="emphasis";n=a[p].labelLine||n;w=a[p].labelLine.length||w;B=n.lineStyle||B;y=a[p].label||y;y.position=y.position;p=y.position==="inner"||
y.position==="inside"?b+h/2:y.position==="left"?w==="auto"?d.x-10:d.centerX-Math.max(h,j)/2-w:w==="auto"?d.x+d.width+10:d.centerX+Math.max(h,j)/2+w;e.highlightStyle={xEnd:p,strokeColor:B.color||c,lineType:B.type,lineWidth:B.width};return new r(e)},_needLabel:function(d,a,c){return this.deepQuery([a,d],"itemStyle."+(c?"emphasis":"normal")+".label.show")},_needLabelLine:function(d,a,c){return this.deepQuery([a,d],"itemStyle."+(c?"emphasis":"normal")+".labelLine.show")},refresh:function(d){if(d){this.option=
d;this.series=d.series}this.backupShapeList();this._buildShape()}};i.inherits(x,s);i.inherits(x,A);t("../chart").define("funnel",x);return x});V("echarts/component/categoryAxis",["require","./base","zrender/shape/Text","zrender/shape/Line","zrender/shape/Rectangle","../config","zrender/tool/util","zrender/tool/area","../component"],function(t){function x(k,i,f,g,d,a){if(g.data.length<1)console.error("option.data.length < 1.");else{A.call(this,k,i,f,g,d);this.grid=this.component.grid;for(var c in a)this[c]=
a[c];this.refresh(g)}}var A=t("./base"),s=t("zrender/shape/Text"),q=t("zrender/shape/Line"),r=t("zrender/shape/Rectangle"),o=t("../config"),v=t("zrender/tool/util"),m=t("zrender/tool/area");x.prototype={type:o.COMPONENT_TYPE_AXIS_CATEGORY,_getReformedLabel:function(k){var i=typeof this.option.data[k].value!="undefined"?this.option.data[k].value:this.option.data[k];if(k=this.option.data[k].formatter||this.option.axisLabel.formatter)if(typeof k=="function")i=k.call(this.myChart,i);else if(typeof k==
"string")i=k.replace("{value}",i);return i},_getInterval:function(){var k=this.option.axisLabel.interval;if(k=="auto"){var i=this.option.axisLabel.textStyle.fontSize,f=this.option.data,g=this.option.data.length;if(this.isHorizontal())if(g>3){var d=this.getGap(),a=false,c,b,e=Math.floor(0.5/d);e=e<1?1:e;for(k=Math.floor(15/d);!a&&k<g;){k+=e;a=true;c=Math.floor(d*k);for(var h=Math.floor((g-1)/k)*k;h>=0;h-=k){if(this.option.axisLabel.rotate!==0)b=i;else if(f[h].textStyle)b=m.getTextWidth(this._getReformedLabel(h),
this.getFont(v.merge(f[h].textStyle,this.option.axisLabel.textStyle)));else{b=this._getReformedLabel(h)+"";var j=(b.match(/\w/g)||"").length;b=j*i*2/3+(b.length-j)*i}if(c<b){a=false;break}}}}else k=1;else if(g>3){d=this.getGap();for(k=Math.floor(11/d);d*k-6<i&&k<g;)k++}else k=1}else k=k-0+1;return k},_buildShape:function(){this._interval=this._getInterval();this.option.splitArea.show&&this._buildSplitArea();this.option.splitLine.show&&this._buildSplitLine();this.option.axisLine.show&&this._buildAxisLine();
this.option.axisTick.show&&this._buildAxisTick();this.option.axisLabel.show&&this._buildAxisLabel();for(var k=0,i=this.shapeList.length;k<i;k++)this.zr.addShape(this.shapeList[k])},_buildAxisTick:function(){var k,i=this.option.data.length,f=this.option.axisTick,g=f.length,d=f.lineStyle.color,a=f.lineStyle.width,c=f.interval=="auto"?this._interval:f.interval-0+1,b=f.onGap;b=b?this.getGap()/2:typeof b=="undefined"?this.option.boundaryGap?this.getGap()/2:0:0;var e=b>0?-c:0;if(this.isHorizontal()){f=
this.option.position=="bottom"?f.inside?this.grid.getYend()-g-1:this.grid.getYend()+1:f.inside?this.grid.getY()+1:this.grid.getY()-g-1;for(e=e;e<i;e+=c){k=this.subPixelOptimize(this.getCoordByIndex(e)+(e>=0?b:0),a);k={_axisShape:"axisTick",zlevel:this._zlevelBase,hoverable:false,style:{xStart:k,yStart:f,xEnd:k,yEnd:f+g,strokeColor:d,lineWidth:a}};this.shapeList.push(new q(k))}}else{f=this.option.position=="left"?f.inside?this.grid.getX()+1:this.grid.getX()-g-1:f.inside?this.grid.getXend()-g-1:this.grid.getXend()+
1;for(e=e;e<i;e+=c){k=this.subPixelOptimize(this.getCoordByIndex(e)-(e>=0?b:0),a);k={_axisShape:"axisTick",zlevel:this._zlevelBase,hoverable:false,style:{xStart:f,yStart:k,xEnd:f+g,yEnd:k,strokeColor:d,lineWidth:a}};this.shapeList.push(new q(k))}}},_buildAxisLabel:function(){var k,i=this.option.data,f=this.option.data.length,g=this.option.axisLabel.rotate,d=this.option.axisLabel.margin,a=this.option.axisLabel.clickable,c=this.option.axisLabel.textStyle;if(this.isHorizontal()){var b,e;if(this.option.position==
"bottom"){b=this.grid.getYend()+d;e="top"}else{b=this.grid.getY()-d;e="bottom"}for(d=0;d<f;d+=this._interval)if(this._getReformedLabel(d)!==""){k=v.merge(i[d].textStyle||{},c);k={zlevel:this._zlevelBase,hoverable:false,style:{x:this.getCoordByIndex(d),y:b,color:k.color,text:this._getReformedLabel(d),textFont:this.getFont(k),textAlign:k.align||"center",textBaseline:k.baseline||e}};if(g){k.style.textAlign=g>0?this.option.position=="bottom"?"right":"left":this.option.position=="bottom"?"left":"right";
k.rotation=[g*Math.PI/180,k.style.x,k.style.y]}this.shapeList.push(new s(this._axisLabelClickable(a,k)))}}else{if(this.option.position=="left"){b=this.grid.getX()-d;e="right"}else{b=this.grid.getXend()+d;e="left"}for(d=0;d<f;d+=this._interval)if(this._getReformedLabel(d)!==""){k=v.merge(i[d].textStyle||{},c);k={zlevel:this._zlevelBase,hoverable:false,style:{x:b,y:this.getCoordByIndex(d),color:k.color,text:this._getReformedLabel(d),textFont:this.getFont(k),textAlign:k.align||e,textBaseline:k.baseline||
d===0&&this.option.name!==""?"bottom":d==f-1&&this.option.name!==""?"top":"middle"}};if(g)k.rotation=[g*Math.PI/180,k.style.x,k.style.y];this.shapeList.push(new s(this._axisLabelClickable(a,k)))}}},_buildSplitLine:function(){var k,i=this.option.data.length,f=this.option.splitLine,g=f.lineStyle.type,d=f.lineStyle.width,a=f.lineStyle.color;a=a instanceof Array?a:[a];var c=a.length,b=f.onGap;f=b?this.getGap()/2:typeof b=="undefined"?this.option.boundaryGap?this.getGap()/2:0:0;i-=b||typeof b=="undefined"&&
this.option.boundaryGap?1:0;if(this.isHorizontal()){var e=this.grid.getY(),h=this.grid.getYend();for(b=0;b<i;b+=this._interval){k=this.subPixelOptimize(this.getCoordByIndex(b)+f,d);k={zlevel:this._zlevelBase,hoverable:false,style:{xStart:k,yStart:e,xEnd:k,yEnd:h,strokeColor:a[b/this._interval%c],lineType:g,lineWidth:d}};this.shapeList.push(new q(k))}}else{e=this.grid.getX();h=this.grid.getXend();for(b=0;b<i;b+=this._interval){k=this.subPixelOptimize(this.getCoordByIndex(b)-f,d);k={zlevel:this._zlevelBase,
hoverable:false,style:{xStart:e,yStart:k,xEnd:h,yEnd:k,strokeColor:a[b/this._interval%c],linetype:g,lineWidth:d}};this.shapeList.push(new q(k))}}},_buildSplitArea:function(){var k,i=this.option.splitArea,f=i.areaStyle.color;if(f instanceof Array){var g=f.length,d=this.option.data.length;i=(i=i.onGap)?this.getGap()/2:typeof i=="undefined"?this.option.boundaryGap?this.getGap()/2:0:0;if(this.isHorizontal()){var a=this.grid.getY(),c=this.grid.getHeight();k=this.grid.getX();for(var b,e=0;e<=d;e+=this._interval){b=
e<d?this.getCoordByIndex(e)+i:this.grid.getXend();k={zlevel:this._zlevelBase,hoverable:false,style:{x:k,y:a,width:b-k,height:c,color:f[e/this._interval%g]}};this.shapeList.push(new r(k));k=b}}else{a=this.grid.getX();c=this.grid.getWidth();k=this.grid.getYend();for(e=0;e<=d;e+=this._interval){b=e<d?this.getCoordByIndex(e)-i:this.grid.getY();k={zlevel:this._zlevelBase,hoverable:false,style:{x:a,y:b,width:c,height:k-b,color:f[e/this._interval%g]}};this.shapeList.push(new r(k));k=b}}}else{k={zlevel:this._zlevelBase,
hoverable:false,style:{x:this.grid.getX(),y:this.grid.getY(),width:this.grid.getWidth(),height:this.grid.getHeight(),color:f}};this.shapeList.push(new r(k))}},refresh:function(k){if(k){this.option=this.reformOption(k);this.option.axisLabel.textStyle=v.merge(this.option.axisLabel.textStyle||{},this.ecTheme.textStyle)}this.clear();this._buildShape()},getGap:function(){var k=this.option.data.length,i=this.isHorizontal()?this.grid.getWidth():this.grid.getHeight();return this.option.boundaryGap?i/k:i/
(k>1?k-1:1)},getCoord:function(k){for(var i=this.option.data,f=i.length,g=this.getGap(),d=this.option.boundaryGap?g/2:0,a=0;a<f;a++){if(i[a]==k||typeof i[a].value!="undefined"&&i[a].value==k)return d=this.isHorizontal()?this.grid.getX()+d:this.grid.getYend()-d;d+=g}},getCoordByIndex:function(k){if(k<0)return this.isHorizontal()?this.grid.getX():this.grid.getYend();else if(k>this.option.data.length-1)return this.isHorizontal()?this.grid.getXend():this.grid.getY();else{var i=this.getGap(),f=this.option.boundaryGap?
i/2:0;f+=k*i;return f=this.isHorizontal()?this.grid.getX()+f:this.grid.getYend()-f}},getNameByIndex:function(k){k=this.option.data[k];return typeof k!="undefined"&&typeof k.value!="undefined"?k.value:k},getIndexByName:function(k){for(var i=this.option.data,f=i.length,g=0;g<f;g++)if(i[g]==k||typeof i[g].value!="undefined"&&i[g].value==k)return g;return-1},getValueFromCoord:function(){return""},isMainAxis:function(k){return k%this._interval===0}};v.inherits(x,A);t("../component").define("categoryAxis",
x);return x});V("echarts/component/valueAxis",["require","./base","zrender/shape/Text","zrender/shape/Line","zrender/shape/Rectangle","../config","zrender/tool/util","../component"],function(t){function x(m,k,i,f,g,d,a){if(!a||a.length===0)console.err("option.series.length == 0.");else{A.call(this,m,k,i,f,g);this.series=a;this.grid=this.component.grid;for(var c in d)this[c]=d[c];this.refresh(f,a)}}var A=t("./base"),s=t("zrender/shape/Text"),q=t("zrender/shape/Line"),r=t("zrender/shape/Rectangle"),
o=t("../config"),v=t("zrender/tool/util");x.prototype={type:o.COMPONENT_TYPE_AXIS_VALUE,_buildShape:function(){this._hasData=false;this._calculateValue();if(this._hasData){this.option.splitArea.show&&this._buildSplitArea();this.option.splitLine.show&&this._buildSplitLine();this.option.axisLine.show&&this._buildAxisLine();this.option.axisTick.show&&this._buildAxisTick();this.option.axisLabel.show&&this._buildAxisLabel();for(var m=0,k=this.shapeList.length;m<k;m++)this.zr.addShape(this.shapeList[m])}},
_buildAxisTick:function(){var m,k=this._valueList,i=this._valueList.length,f=this.option.axisTick,g=f.length,d=f.lineStyle.color,a=f.lineStyle.width;if(this.isHorizontal()){var c=this.option.position==="bottom"?f.inside?this.grid.getYend()-g-1:this.grid.getYend()+1:f.inside?this.grid.getY()+1:this.grid.getY()-g-1;for(f=0;f<i;f++){m=this.subPixelOptimize(this.getCoord(k[f]),a);m={_axisShape:"axisTick",zlevel:this._zlevelBase,hoverable:false,style:{xStart:m,yStart:c,xEnd:m,yEnd:c+g,strokeColor:d,lineWidth:a}};
this.shapeList.push(new q(m))}}else{c=this.option.position==="left"?f.inside?this.grid.getX()+1:this.grid.getX()-g-1:f.inside?this.grid.getXend()-g-1:this.grid.getXend()+1;for(f=0;f<i;f++){m=this.subPixelOptimize(this.getCoord(k[f]),a);m={_axisShape:"axisTick",zlevel:this._zlevelBase,hoverable:false,style:{xStart:c,yStart:m,xEnd:c+g,yEnd:m,strokeColor:d,lineWidth:a}};this.shapeList.push(new q(m))}}},_buildAxisLabel:function(){var m,k=this._valueList,i=this._valueList.length,f=this.option.axisLabel.rotate;
m=this.option.axisLabel.margin;var g=this.option.axisLabel.clickable,d=this.option.axisLabel.textStyle;if(this.isHorizontal()){var a,c;if(this.option.position==="bottom"){a=this.grid.getYend()+m;c="top"}else{a=this.grid.getY()-m;c="bottom"}for(var b=0;b<i;b++){m={zlevel:this._zlevelBase,hoverable:false,style:{x:this.getCoord(k[b]),y:a,color:typeof d.color==="function"?d.color(k[b]):d.color,text:this._valueLabel[b],textFont:this.getFont(d),textAlign:d.align||"center",textBaseline:d.baseline||c}};if(f){m.style.textAlign=
f>0?this.option.position==="bottom"?"right":"left":this.option.position==="bottom"?"left":"right";m.rotation=[f*Math.PI/180,m.style.x,m.style.y]}this.shapeList.push(new s(this._axisLabelClickable(g,m)))}}else{if(this.option.position==="left"){a=this.grid.getX()-m;c="right"}else{a=this.grid.getXend()+m;c="left"}for(b=0;b<i;b++){m={zlevel:this._zlevelBase,hoverable:false,style:{x:a,y:this.getCoord(k[b]),color:typeof d.color==="function"?d.color(k[b]):d.color,text:this._valueLabel[b],textFont:this.getFont(d),
textAlign:d.align||c,textBaseline:d.baseline||b===0&&this.option.name!==""?"bottom":b===i-1&&this.option.name!==""?"top":"middle"}};if(f)m.rotation=[f*Math.PI/180,m.style.x,m.style.y];this.shapeList.push(new s(this._axisLabelClickable(g,m)))}}},_buildSplitLine:function(){var m,k=this._valueList,i=this._valueList.length,f=this.option.splitLine,g=f.lineStyle.type,d=f.lineStyle.width;f=f.lineStyle.color;f=f instanceof Array?f:[f];var a=f.length;if(this.isHorizontal())for(var c=this.grid.getY(),b=this.grid.getYend(),
e=0;e<i;e++){m=this.subPixelOptimize(this.getCoord(k[e]),d);m={zlevel:this._zlevelBase,hoverable:false,style:{xStart:m,yStart:c,xEnd:m,yEnd:b,strokeColor:f[e%a],lineType:g,lineWidth:d}};this.shapeList.push(new q(m))}else{c=this.grid.getX();b=this.grid.getXend();for(e=0;e<i;e++){m=this.subPixelOptimize(this.getCoord(k[e]),d);m={zlevel:this._zlevelBase,hoverable:false,style:{xStart:c,yStart:m,xEnd:b,yEnd:m,strokeColor:f[e%a],lineType:g,lineWidth:d}};this.shapeList.push(new q(m))}}},_buildSplitArea:function(){var m,
k=this.option.splitArea.areaStyle.color;if(k instanceof Array){var i=k.length,f=this._valueList,g=this._valueList.length;if(this.isHorizontal()){var d=this.grid.getY(),a=this.grid.getHeight();m=this.grid.getX();for(var c,b=0;b<=g;b++){c=b<g?this.getCoord(f[b]):this.grid.getXend();m={zlevel:this._zlevelBase,hoverable:false,style:{x:m,y:d,width:c-m,height:a,color:k[b%i]}};this.shapeList.push(new r(m));m=c}}else{d=this.grid.getX();a=this.grid.getWidth();m=this.grid.getYend();for(b=0;b<=g;b++){c=b<g?
this.getCoord(f[b]):this.grid.getY();m={zlevel:this._zlevelBase,hoverable:false,style:{x:d,y:c,width:a,height:m-c,color:k[b%i]}};this.shapeList.push(new r(m));m=c}}}else{m={zlevel:this._zlevelBase,hoverable:false,style:{x:this.grid.getX(),y:this.grid.getY(),width:this.grid.getWidth(),height:this.grid.getHeight(),color:k}};this.shapeList.push(new r(m))}},_calculateValue:function(){if(isNaN(this.option.min-0)||isNaN(this.option.max-0)){for(var m,k={},i,f=this.component.legend,g=0,d=this.series.length;g<
d;g++)if(!(this.series[g].type!=o.CHART_TYPE_LINE&&this.series[g].type!=o.CHART_TYPE_BAR&&this.series[g].type!=o.CHART_TYPE_SCATTER&&this.series[g].type!=o.CHART_TYPE_K))if(!(f&&!f.isSelected(this.series[g].name))){m=this.series[g].xAxisIndex||0;i=this.series[g].yAxisIndex||0;if(!(this.option.xAxisIndex!=m&&this.option.yAxisIndex!=i)){var a=this.series[g].name||"kener";if(this.series[g].stack){var c="__Magic_Key_Positive__"+this.series[g].stack,b="__Magic_Key_Negative__"+this.series[g].stack;k[c]=
k[c]||[];k[b]=k[b]||[];k[a]=k[a]||[];m=this.series[g].data;e=0;for(h=m.length;e<h;e++){i=m[e].value!=null?m[e].value:m[e];if(i!=="-"){i-=0;if(i>=0)if(k[c][e]!=null)k[c][e]+=i;else k[c][e]=i;else if(k[b][e]!=null)k[b][e]+=i;else k[b][e]=i;this.option.scale&&k[a].push(i)}}}else{k[a]=k[a]||[];m=this.series[g].data;for(var e=0,h=m.length;e<h;e++){i=m[e].value!=null?m[e].value:m[e];if(this.series[g].type===o.CHART_TYPE_SCATTER){this.option.xAxisIndex!=-1&&k[a].push(i[0]);this.option.yAxisIndex!=-1&&k[a].push(i[1])}else if(this.series[g].type===
o.CHART_TYPE_K){k[a].push(i[0]);k[a].push(i[1]);k[a].push(i[2]);k[a].push(i[3])}else k[a].push(i)}}}}for(g in k){m=k[g];e=0;for(h=m.length;e<h;e++)if(!isNaN(m[e])){this._hasData=true;this._min=m[e];this._max=m[e];break}if(this._hasData)break}for(g in k){m=k[g];e=0;for(h=m.length;e<h;e++)if(!isNaN(m[e])){this._min=Math.min(this._min,m[e]);this._max=Math.max(this._max,m[e])}}k=Math.abs(this._max-this._min);this._min=isNaN(this.option.min-0)?this._min-Math.abs(k*this.option.boundaryGap[0]):this.option.min-
0;this._max=isNaN(this.option.max-0)?this._max+Math.abs(k*this.option.boundaryGap[1]):this.option.max-0;if(this._min===this._max)if(this._max===0)this._max=this.option.power>0?this.option.power:1;else if(this._max>0)this._min=this._max/this.option.splitNumber;else this._max/=this.option.splitNumber;this._reformValue(this.option.scale)}else{this._hasData=true;this._min=this.option.min-0;this._max=this.option.max-0;this._customerValue()}},_reformValue:function(m){var k=this.option.splitNumber,i=this.option.precision,
f;if(i===0)f=this.option.power>1?this.option.power:1;else{f=Math.pow(10,i);this._min*=f;this._max*=f;f=this.option.power}if(this._min>=0&&this._max>=0){if(m){for(;this._min<f&&f!=1;)f/=10;if(i===0){this._min=Math.floor(this._min/f)*f;this._max=Math.ceil(this._max/f)*f}}else{for(;this._max/f<k&&f!=1;)f/=10;this._min=0}f=f>1?f/10:1;m=this._max-this._min;f=Math.ceil(m/k/f)*f;this._max=this._min+f*k}else if(this._min<=0&&this._max<=0){f=-f;if(m){for(;this._max>f&&f!=-1;)f/=10;if(i===0){this._min=Math.ceil(this._min/
f)*f;this._max=Math.floor(this._max/f)*f}}else{for(;this._min/f<k&&f!=-1;)f/=10;this._max=0}f=f<-1?f/10:-1;m=this._min-this._max;f=-Math.ceil(m/k/f)*f;this._min=-f*k+this._max}else{for(m=this._max-this._min;m/f<k&&f!=1;)f/=10;m=Math.round(this._max/m*k);m-=m===k?1:0;m+=m===0?1:0;f=Math.ceil(Math.max(this._max/m,this._min/(m-k))/f)*f;this._max=f*m;this._min=f*(m-k)}this._valueList=[];for(m=0;m<=k;m++)this._valueList.push(this._min+f*m);if(i!==0){f=Math.pow(10,i);this._min=(this._min/f).toFixed(i)-
0;this._max=(this._max/f).toFixed(i)-0;for(m=0;m<=k;m++)this._valueList[m]=(this._valueList[m]/f).toFixed(i)-0}this._reformLabelData()},_customerValue:function(){var m=this.option.splitNumber,k=this.option.precision,i=(this._max-this._min)/m;this._valueList=[];for(var f=0;f<=m;f++)this._valueList.push((this._min+i*f).toFixed(k)-0);this._reformLabelData()},_reformLabelData:function(){this._valueLabel=[];var m=this.option.axisLabel.formatter;if(m)for(var k=0,i=this._valueList.length;k<i;k++)if(typeof m===
"function")this._valueLabel.push(m.call(this.myChart,this._valueList[k]));else typeof m==="string"&&this._valueLabel.push(m.replace("{value}",this._valueList[k]));else{k=0;for(i=this._valueList.length;k<i;k++)this._valueLabel.push(this.numAddCommas(this._valueList[k]))}},getExtremum:function(){this._calculateValue();return{min:this._min,max:this._max}},refresh:function(m,k){if(m){this.option=this.reformOption(m);this.option.axisLabel.textStyle=v.merge(this.option.axisLabel.textStyle||{},this.ecTheme.textStyle);
this.series=k}if(this.zr){this.clear();this._buildShape()}},getCoord:function(m){m=m<this._min?this._min:m;m=m>this._max?this._max:m;return this.isHorizontal()?this.grid.getX()+(m-this._min)/(this._max-this._min)*this.grid.getWidth():this.grid.getYend()-(m-this._min)/(this._max-this._min)*this.grid.getHeight()},getCoordSize:function(m){return this.isHorizontal()?Math.abs(m/(this._max-this._min)*this.grid.getWidth()):Math.abs(m/(this._max-this._min)*this.grid.getHeight())},getValueFromCoord:function(m){if(this.isHorizontal()){m=
m<this.grid.getX()?this.grid.getX():m;m=m>this.grid.getXend()?this.grid.getXend():m;m=this._min+(m-this.grid.getX())/this.grid.getWidth()*(this._max-this._min)}else{m=m<this.grid.getY()?this.grid.getY():m;m=m>this.grid.getYend()?this.grid.getYend():m;m=this._max-(m-this.grid.getY())/this.grid.getHeight()*(this._max-this._min)}return m.toFixed(2)-0}};v.inherits(x,A);t("../component").define("valueAxis",x);return x});V("echarts/component/axis",["require","./base","zrender/shape/Line","../config","../util/ecData",
"zrender/tool/util","zrender/tool/color","./categoryAxis","./valueAxis","../component"],function(t){function x(m,k,i,f,g,d){A.call(this,m,k,i,f,g);this.axisType=d;this._axisList=[];this.refresh(f)}var A=t("./base"),s=t("zrender/shape/Line"),q=t("../config"),r=t("../util/ecData"),o=t("zrender/tool/util"),v=t("zrender/tool/color");x.prototype={type:q.COMPONENT_TYPE_AXIS,axisBase:{_buildAxisLine:function(){var m=this.option.axisLine.lineStyle.width,k=m/2,i={_axisShape:"axisLine",zlevel:this._zlevelBase+
1,hoverable:false};switch(this.option.position){case "left":i.style={xStart:this.grid.getX()-k,yStart:this.grid.getYend(),xEnd:this.grid.getX()-k,yEnd:this.grid.getY(),lineCap:"round"};break;case "right":i.style={xStart:this.grid.getXend()+k,yStart:this.grid.getYend(),xEnd:this.grid.getXend()+k,yEnd:this.grid.getY(),lineCap:"round"};break;case "bottom":i.style={xStart:this.grid.getX(),yStart:this.grid.getYend()+k,xEnd:this.grid.getXend(),yEnd:this.grid.getYend()+k,lineCap:"round"};break;case "top":i.style=
{xStart:this.grid.getX(),yStart:this.grid.getY()-k,xEnd:this.grid.getXend(),yEnd:this.grid.getY()-k,lineCap:"round"};break}if(this.option.name!==""){i.style.text=this.option.name;i.style.textPosition=this.option.nameLocation;i.style.textFont=this.getFont(this.option.nameTextStyle);if(this.option.nameTextStyle.align)i.style.textAlign=this.option.nameTextStyle.align;if(this.option.nameTextStyle.baseline)i.style.textBaseline=this.option.nameTextStyle.baseline;if(this.option.nameTextStyle.color)i.style.textColor=
this.option.nameTextStyle.color}i.style.strokeColor=this.option.axisLine.lineStyle.color;i.style.lineWidth=m;if(this.isHorizontal())i.style.yStart=i.style.yEnd=this.subPixelOptimize(i.style.yEnd,m);else i.style.xStart=i.style.xEnd=this.subPixelOptimize(i.style.xEnd,m);i.style.lineType=this.option.axisLine.lineStyle.type;i=new s(i);this.shapeList.push(i)},_axisLabelClickable:function(m,k){if(m){r.pack(k,undefined,-1,undefined,-1,k.style.text);k.hoverable=true;k.clickable=true;k.highlightStyle={color:v.lift(k.style.color,
1),brushType:"fill"}}return k},refixAxisShape:function(m,k){if(this.option.axisLine.onZero){var i;if(this.isHorizontal()&&k!=null)for(var f=0,g=this.shapeList.length;f<g;f++)if(this.shapeList[f]._axisShape==="axisLine"){this.shapeList[f].style.yStart=this.shapeList[f].style.yEnd=this.subPixelOptimize(k,this.shapeList[f].stylelineWidth);this.zr.modShape(this.shapeList[f].id)}else if(this.shapeList[f]._axisShape==="axisTick"){i=this.shapeList[f].style.yEnd-this.shapeList[f].style.yStart;this.shapeList[f].style.yStart=
k-i;this.shapeList[f].style.yEnd=k;this.zr.modShape(this.shapeList[f].id)}if(!this.isHorizontal()&&m!=null){f=0;for(g=this.shapeList.length;f<g;f++)if(this.shapeList[f]._axisShape==="axisLine"){this.shapeList[f].style.xStart=this.shapeList[f].style.xEnd=this.subPixelOptimize(m,this.shapeList[f].stylelineWidth);this.zr.modShape(this.shapeList[f].id)}else if(this.shapeList[f]._axisShape==="axisTick"){i=this.shapeList[f].style.xEnd-this.shapeList[f].style.xStart;this.shapeList[f].style.xStart=m;this.shapeList[f].style.xEnd=
m+i;this.zr.modShape(this.shapeList[f].id)}}}},getPosition:function(){return this.option.position},isHorizontal:function(){return this.option.position==="bottom"||this.option.position==="top"}},reformOption:function(m){if(!m||m instanceof Array&&m.length===0)m=[{type:q.COMPONENT_TYPE_AXIS_VALUE}];else m instanceof Array||(m=[m]);if(m.length>2)m=[m[0],m[1]];if(this.axisType==="xAxis"){if(!m[0].position||m[0].position!="bottom"&&m[0].position!="top")m[0].position="bottom";if(m.length>1)m[1].position=
m[0].position==="bottom"?"top":"bottom";for(var k=0,i=m.length;k<i;k++){m[k].type=m[k].type||"category";m[k].xAxisIndex=k;m[k].yAxisIndex=-1}}else{if(!m[0].position||m[0].position!="left"&&m[0].position!="right")m[0].position="left";if(m.length>1)m[1].position=m[0].position==="left"?"right":"left";k=0;for(i=m.length;k<i;k++){m[k].type=m[k].type||"value";m[k].xAxisIndex=-1;m[k].yAxisIndex=k}}return m},refresh:function(m){var k;if(m){this.option=m;if(this.axisType==="xAxis"){this.option.xAxis=this.reformOption(m.xAxis);
k=this.option.xAxis}else{this.option.yAxis=this.reformOption(m.yAxis);k=this.option.yAxis}this.series=m.series}for(var i=t("./categoryAxis"),f=t("./valueAxis"),g=Math.max(k&&k.length||0,this._axisList.length),d=0;d<g;d++){if(this._axisList[d]&&m&&(!k[d]||this._axisList[d].type!=k[d].type)){this._axisList[d].dispose&&this._axisList[d].dispose();this._axisList[d]=false}if(this._axisList[d])this._axisList[d].refresh&&this._axisList[d].refresh(k?k[d]:false,this.series);else if(k&&k[d])this._axisList[d]=
k[d].type==="category"?new i(this.ecTheme,this.messageCenter,this.zr,k[d],this.myChart,this.axisBase):new f(this.ecTheme,this.messageCenter,this.zr,k[d],this.myChart,this.axisBase,this.series)}},getAxis:function(m){return this._axisList[m]},clear:function(){for(var m=0,k=this._axisList.length;m<k;m++)this._axisList[m].dispose&&this._axisList[m].dispose();this._axisList=[]}};o.inherits(x,A);t("../component").define("axis",x);return x});V("echarts/component/grid",["require","./base","zrender/shape/Rectangle",
"../config","zrender/tool/util","../component"],function(t){function x(o,v,m,k,i){A.call(this,o,v,m,k,i);this.refresh(k)}var A=t("./base"),s=t("zrender/shape/Rectangle"),q=t("../config"),r=t("zrender/tool/util");x.prototype={type:q.COMPONENT_TYPE_GRID,getX:function(){return this._x},getY:function(){return this._y},getWidth:function(){return this._width},getHeight:function(){return this._height},getXend:function(){return this._x+this._width},getYend:function(){return this._y+this._height},getArea:function(){return{x:this._x,
y:this._y,width:this._width,height:this._height}},getBbox:function(){return[[this._x,this._y],[this.getXend(),this.getYend()]]},refixAxisShape:function(o){var v,m;o=o.xAxis._axisList.concat(o.yAxis._axisList);for(var k=o.length,i;k--;){i=o[k];if(i.type==q.COMPONENT_TYPE_AXIS_VALUE&&i._min<0&&i._max>=0)i.isHorizontal()?(v=i.getCoord(0)):(m=i.getCoord(0))}if(typeof v!="undefined"||typeof m!="undefined")for(k=o.length;k--;)o[k].refixAxisShape(v,m)},refresh:function(o){if(o||this._zrWidth!=this.zr.getWidth()||
this._zrHeight!=this.zr.getHeight()){this.clear();this.option=o||this.option;this.option.grid=this.reformOption(this.option.grid);o=this.option.grid;this._zrWidth=this.zr.getWidth();this._zrHeight=this.zr.getHeight();this._x=this.parsePercent(o.x,this._zrWidth);this._y=this.parsePercent(o.y,this._zrHeight);var v=this.parsePercent(o.x2,this._zrWidth),m=this.parsePercent(o.y2,this._zrHeight);this._width=typeof o.width=="undefined"?this._zrWidth-this._x-v:this.parsePercent(o.width,this._zrWidth);this._width=
this._width<=0?10:this._width;this._height=typeof o.height=="undefined"?this._zrHeight-this._y-m:this.parsePercent(o.height,this._zrHeight);this._height=this._height<=0?10:this._height;this._x=this.subPixelOptimize(this._x,o.borderWidth);this._y=this.subPixelOptimize(this._y,o.borderWidth);this.shapeList.push(new s({zlevel:this._zlevelBase,hoverable:false,style:{x:this._x,y:this._y,width:this._width,height:this._height,brushType:o.borderWidth>0?"both":"fill",color:o.backgroundColor,strokeColor:o.borderColor,
lineWidth:o.borderWidth}}));this.zr.addShape(this.shapeList[0])}}};r.inherits(x,A);t("../component").define("grid",x);return x});V("echarts/component/dataZoom",["require","./base","zrender/shape/Rectangle","zrender/shape/Polygon","../util/shape/Icon","../config","zrender/tool/util","../component","../component"],function(t){function x(m,k,i,f,g){A.call(this,m,k,i,f,g);var d=this;d._ondrift=function(a,c){return d.__ondrift(this,a,c)};d._ondragend=function(){return d.__ondragend()};this._fillerSize=
28;this._handleSize=8;this._isSilence=false;this._zoom={};this.option.dataZoom=this.reformOption(this.option.dataZoom);this.zoomOption=this.option.dataZoom;this._location=this._getLocation();this._zoom=this._getZoom();this._backupData();this.option.dataZoom.show&&this._buildShape();this._syncData()}var A=t("./base"),s=t("zrender/shape/Rectangle"),q=t("zrender/shape/Polygon"),r=t("../util/shape/Icon"),o=t("../config"),v=t("zrender/tool/util");x.prototype={type:o.COMPONENT_TYPE_DATAZOOM,_buildShape:function(){this._buildBackground();
this._buildFiller();this._buildHandle();this._buildFrame();for(var m=0,k=this.shapeList.length;m<k;m++)this.zr.addShape(this.shapeList[m]);this._syncFrameShape()},_getLocation:function(){var m,k,i,f;k=this.component.grid;if(this.zoomOption.orient=="horizontal"){i=this.zoomOption.width||k.getWidth();f=this.zoomOption.height||this._fillerSize;m=typeof this.zoomOption.x!="undefined"?this.zoomOption.x:k.getX();k=typeof this.zoomOption.y!="undefined"?this.zoomOption.y:this.zr.getHeight()-f-2}else{i=this.zoomOption.width||
this._fillerSize;f=this.zoomOption.height||k.getHeight();m=typeof this.zoomOption.x!="undefined"?this.zoomOption.x:2;k=typeof this.zoomOption.y!="undefined"?this.zoomOption.y:k.getY()}return{x:m,y:k,width:i,height:f}},_getZoom:function(){var m=this.option.series,k=this.option.xAxis;if(k&&!(k instanceof Array)){k=[k];this.option.xAxis=k}var i=this.option.yAxis;if(i&&!(i instanceof Array)){i=[i];this.option.yAxis=i}var f=[],g,d=this.zoomOption.xAxisIndex;if(k&&typeof d=="undefined"){g=[];d=0;for(var a=
k.length;d<a;d++)if(k[d].type=="category"||typeof k[d].type=="undefined")g.push(d)}else g=d instanceof Array?d:typeof d!="undefined"?[d]:[];d=this.zoomOption.yAxisIndex;if(i&&typeof d=="undefined"){k=[];d=0;for(a=i.length;d<a;d++)i[d].type=="category"&&k.push(d)}else k=d instanceof Array?d:typeof d!="undefined"?[d]:[];d=0;for(a=m.length;d<a;d++)if(!(m[d].type!=o.CHART_TYPE_LINE&&m[d].type!=o.CHART_TYPE_BAR&&m[d].type!=o.CHART_TYPE_SCATTER&&m[d].type!=o.CHART_TYPE_K)){i=0;for(var c=g.length;i<c;i++)if(g[i]==
(m[d].xAxisIndex||0)){f.push(d);break}i=0;for(c=k.length;i<c;i++)if(k[i]==(m[d].yAxisIndex||0)){f.push(d);break}m[d].type==o.CHART_TYPE_SCATTER&&typeof this.zoomOption.xAxisIndex=="undefined"&&typeof this.zoomOption.yAxisIndex=="undefined"&&f.push(d)}m=typeof this._zoom.start!="undefined"?this._zoom.start:typeof this.zoomOption.start!="undefined"?this.zoomOption.start:0;d=typeof this._zoom.end!="undefined"?this._zoom.end:typeof this.zoomOption.end!="undefined"?this.zoomOption.end:100;if(m>d){m+=d;
d=m-d;m-=d}a=Math.round((d-m)/100*(this.zoomOption.orient=="horizontal"?this._location.width:this._location.height));return{start:m,end:d,start2:0,end2:100,size:a,xAxisIndex:g,yAxisIndex:k,seriesIndex:f,scatterMap:this._zoom.scatterMap||{}}},_backupData:function(){this._originalData={xAxis:{},yAxis:{},series:{}};for(var m=this.option.xAxis,k=this._zoom.xAxisIndex,i=0,f=k.length;i<f;i++)this._originalData.xAxis[k[i]]=m[k[i]].data;m=this.option.yAxis;k=this._zoom.yAxisIndex;i=0;for(f=k.length;i<f;i++)this._originalData.yAxis[k[i]]=
m[k[i]].data;m=this.option.series;k=this._zoom.seriesIndex;var g;i=0;for(f=k.length;i<f;i++){g=m[k[i]];this._originalData.series[k[i]]=g.data;g.type==o.CHART_TYPE_SCATTER&&this._calculScatterMap(k[i])}},_calculScatterMap:function(m){this._zoom.scatterMap=this._zoom.scatterMap||{};this._zoom.scatterMap[m]=this._zoom.scatterMap[m]||{};var k=t("../component").get("axis"),i=v.clone(this.option.xAxis);if(i instanceof Array){i[0].type="value";i[0].scale=true;i[0].boundary=[0,0];i[1]&&(i[1].type="value",
i[1].boundary=[0,0])}else{i.type="value";i.scale=true;i.boundary=[0,0]}i=new k(this.ecTheme,null,false,{xAxis:i,series:this.option.series},this,"xAxis");var f=this.option.series[m].xAxisIndex||0;this._zoom.scatterMap[m].x=i.getAxis(f).getExtremum();i.dispose();i=v.clone(this.option.yAxis);if(i instanceof Array){i[0].type="value";i[0].scale=true;i[1]&&(i[1].type="value",i[1].boundary=[0,0])}else{i.type="value";i.scale=true;i.boundary=[0,0]}i=new k(this.ecTheme,null,false,{yAxis:i,series:this.option.series},
this,"yAxis");f=this.option.series[m].yAxisIndex||0;this._zoom.scatterMap[m].y=i.getAxis(f).getExtremum();i.dispose()},_buildBackground:function(){var m=this._location.width,k=this._location.height;this.shapeList.push(new s({zlevel:this._zlevelBase,hoverable:false,style:{x:this._location.x,y:this._location.y,width:m,height:k,color:this.zoomOption.backgroundColor}}));for(var i=0,f=this._originalData.xAxis,g=this._zoom.xAxisIndex,d=0,a=g.length;d<a;d++)i=Math.max(i,f[g[d]].length);f=this._originalData.yAxis;
g=this._zoom.yAxisIndex;d=0;for(a=g.length;d<a;d++)i=Math.max(i,f[g[d]].length);f=this._zoom.seriesIndex[0];g=this._originalData.series[f];var c=Number.MIN_VALUE,b=Number.MAX_VALUE,e;d=0;for(a=g.length;d<a;d++){e=typeof g[d]!="undefined"?typeof g[d].value!="undefined"?g[d].value:g[d]:0;if(this.option.series[f].type==o.CHART_TYPE_K)e=e[1];if(isNaN(e))e=0;c=Math.max(c,e);b=Math.min(b,e)}c=c-b;var h=[],j=m/(i-(i>1?1:0)),l=k/(i-(i>1?1:0)),n=1;if(this.zoomOption.orient=="horizontal"&&j<1)n=Math.floor(i*
3/m);else if(this.zoomOption.orient=="vertical"&&l<1)n=Math.floor(i*3/k);d=0;for(a=i;d<a;d+=n){e=typeof g[d]!="undefined"?typeof g[d].value!="undefined"?g[d].value:g[d]:0;if(this.option.series[f].type==o.CHART_TYPE_K)e=e[1];if(isNaN(e))e=0;this.zoomOption.orient=="horizontal"?h.push([this._location.x+j*d,this._location.y+k-1-Math.round((e-b)/c*(k-10))]):h.push([this._location.x+1+Math.round((e-b)/c*(m-10)),this._location.y+l*d])}if(this.zoomOption.orient=="horizontal"){h.push([this._location.x+m,
this._location.y+k]);h.push([this._location.x,this._location.y+k])}else{h.push([this._location.x,this._location.y+k]);h.push([this._location.x,this._location.y])}this.shapeList.push(new q({zlevel:this._zlevelBase,style:{pointList:h,color:this.zoomOption.dataBackgroundColor},hoverable:false}))},_buildFiller:function(){this._fillerShae={zlevel:this._zlevelBase,draggable:true,ondrift:this._ondrift,ondragend:this._ondragend,_type:"filler"};this._fillerShae.style=this.zoomOption.orient=="horizontal"?{x:this._location.x+
Math.round(this._zoom.start/100*this._location.width)+this._handleSize,y:this._location.y,width:this._zoom.size-this._handleSize*2,height:this._location.height,color:this.zoomOption.fillerColor,text:":::",textPosition:"inside"}:{x:this._location.x,y:this._location.y+Math.round(this._zoom.start/100*this._location.height)+this._handleSize,width:this._location.width,height:this._zoom.size-this._handleSize*2,color:this.zoomOption.fillerColor,text:"::",textPosition:"inside"};this._fillerShae.highlightStyle=
{brushType:"fill",color:"rgba(0,0,0,0)"};this._fillerShae=new s(this._fillerShae);this.shapeList.push(this._fillerShae)},_buildHandle:function(){this._startShape={zlevel:this._zlevelBase,draggable:true,style:{iconType:"rectangle",x:this._location.x,y:this._location.y,width:this._handleSize,height:this._handleSize,color:this.zoomOption.handleColor,text:"=",textPosition:"inside"},highlightStyle:{brushType:"fill"},ondrift:this._ondrift,ondragend:this._ondragend};if(this.zoomOption.orient=="horizontal"){this._startShape.style.height=
this._location.height;this._endShape=v.clone(this._startShape);this._startShape.style.x=this._fillerShae.style.x-this._handleSize;this._endShape.style.x=this._fillerShae.style.x+this._fillerShae.style.width}else{this._startShape.style.width=this._location.width;this._endShape=v.clone(this._startShape);this._startShape.style.y=this._fillerShae.style.y-this._handleSize;this._endShape.style.y=this._fillerShae.style.y+this._fillerShae.style.height}this._startShape=new r(this._startShape);this._endShape=
new r(this._endShape);this.shapeList.push(this._startShape);this.shapeList.push(this._endShape)},_buildFrame:function(){var m=this.subPixelOptimize(this._location.x,1),k=this.subPixelOptimize(this._location.y,1);this._startFrameShape={zlevel:this._zlevelBase,hoverable:false,style:{x:m,y:k,width:this._location.width-(m>this._location.x?1:0),height:this._location.height-(k>this._location.y?1:0),lineWidth:1,brushType:"stroke",strokeColor:this.zoomOption.handleColor}};this._endFrameShape=v.clone(this._startFrameShape);
this._startFrameShape=new s(this._startFrameShape);this._endFrameShape=new s(this._endFrameShape);this.shapeList.push(this._startFrameShape);this.shapeList.push(this._endFrameShape)},_syncHandleShape:function(){if(this.zoomOption.orient=="horizontal"){this._startShape.style.x=this._fillerShae.style.x-this._handleSize;this._endShape.style.x=this._fillerShae.style.x+this._fillerShae.style.width;this._zoom.start=Math.floor((this._startShape.style.x-this._location.x)/this._location.width*100);this._zoom.end=
Math.ceil((this._endShape.style.x+this._handleSize-this._location.x)/this._location.width*100)}else{this._startShape.style.y=this._fillerShae.style.y-this._handleSize;this._endShape.style.y=this._fillerShae.style.y+this._fillerShae.style.height;this._zoom.start=Math.floor((this._startShape.style.y-this._location.y)/this._location.height*100);this._zoom.end=Math.ceil((this._endShape.style.y+this._handleSize-this._location.y)/this._location.height*100)}this.zr.modShape(this._startShape.id);this.zr.modShape(this._endShape.id);
this._syncFrameShape();this.zr.refresh()},_syncFillerShape:function(){var m,k;if(this.zoomOption.orient=="horizontal"){m=this._startShape.style.x;k=this._endShape.style.x;this._fillerShae.style.x=Math.min(m,k)+this._handleSize;this._fillerShae.style.width=Math.abs(m-k)-this._handleSize;this._zoom.start=Math.floor((Math.min(m,k)-this._location.x)/this._location.width*100);this._zoom.end=Math.ceil((Math.max(m,k)+this._handleSize-this._location.x)/this._location.width*100)}else{m=this._startShape.style.y;
k=this._endShape.style.y;this._fillerShae.style.y=Math.min(m,k)+this._handleSize;this._fillerShae.style.height=Math.abs(m-k)-this._handleSize;this._zoom.start=Math.floor((Math.min(m,k)-this._location.y)/this._location.height*100);this._zoom.end=Math.ceil((Math.max(m,k)+this._handleSize-this._location.y)/this._location.height*100)}this.zr.modShape(this._fillerShae.id);this._syncFrameShape();this.zr.refresh()},_syncFrameShape:function(){if(this.zoomOption.orient=="horizontal"){this._startFrameShape.style.width=
this._fillerShae.style.x-this._location.x;this._endFrameShape.style.x=this._fillerShae.style.x+this._fillerShae.style.width;this._endFrameShape.style.width=this._location.x+this._location.width-this._endFrameShape.style.x}else{this._startFrameShape.style.height=this._fillerShae.style.y-this._location.y;this._endFrameShape.style.y=this._fillerShae.style.y+this._fillerShae.style.height;this._endFrameShape.style.height=this._location.y+this._location.height-this._endFrameShape.style.y}this.zr.modShape(this._startFrameShape.id);
this.zr.modShape(this._endFrameShape.id)},_syncShape:function(){if(this.zoomOption.show){if(this.zoomOption.orient=="horizontal"){this._startShape.style.x=this._location.x+this._zoom.start/100*this._location.width;this._endShape.style.x=this._location.x+this._zoom.end/100*this._location.width-this._handleSize;this._fillerShae.style.x=this._startShape.style.x+this._handleSize;this._fillerShae.style.width=this._endShape.style.x-this._startShape.style.x-this._handleSize}else{this._startShape.style.y=
this._location.y+this._zoom.start/100*this._location.height;this._endShape.style.y=this._location.y+this._zoom.end/100*this._location.height-this._handleSize;this._fillerShae.style.y=this._startShape.style.y+this._handleSize;this._fillerShae.style.height=this._endShape.style.y-this._startShape.style.y-this._handleSize}this.zr.modShape(this._startShape.id);this.zr.modShape(this._endShape.id);this.zr.modShape(this._fillerShae.id);this._syncFrameShape();this.zr.refresh()}},_syncData:function(m){var k,
i,f,g;for(var d in this._originalData){k=this._originalData[d];for(var a in k){g=k[a];if(typeof g!="undefined"){f=g.length;i=Math.floor(this._zoom.start/100*f);f=Math.ceil(this._zoom.end/100*f);this.option[d][a].data=this.option[d][a].type!=o.CHART_TYPE_SCATTER?g.slice(i,f):this._synScatterData(a,g)}}}if(!this._isSilence&&(this.zoomOption.realtime||m))this.messageCenter.dispatch(o.EVENT.DATA_ZOOM,null,{zoom:this._zoom},this.myChart)},_synScatterData:function(m,k){if(this._zoom.start===0&&this._zoom.end==
100&&this._zoom.start2===0&&this._zoom.end2==100)return k;var i=[],f=this._zoom.scatterMap[m],g,d,a;if(this.zoomOption.orient=="horizontal"){g=f.x.max-f.x.min;m=this._zoom.start/100*g+f.x.min;d=this._zoom.end/100*g+f.x.min;g=f.y.max-f.y.min;a=this._zoom.start2/100*g+f.y.min;f=this._zoom.end2/100*g+f.y.min}else{g=f.x.max-f.x.min;m=this._zoom.start2/100*g+f.x.min;d=this._zoom.end2/100*g+f.x.min;g=f.y.max-f.y.min;a=this._zoom.start/100*g+f.y.min;f=this._zoom.end/100*g+f.y.min}for(var c=0,b=k.length;c<
b;c++){g=k[c].value||k[c];g[0]>=m&&g[0]<=d&&g[1]>=a&&g[1]<=f&&i.push(k[c])}return i},__ondrift:function(m,k,i){if(this.zoomOption.zoomLock)m=this._fillerShae;var f=m._type=="filler"?this._handleSize:0;if(this.zoomOption.orient=="horizontal")if(m.style.x+k-f<=this._location.x)m.style.x=this._location.x+f;else if(m.style.x+k+m.style.width+f>=this._location.x+this._location.width)m.style.x=this._location.x+this._location.width-m.style.width-f;else m.style.x+=k;else if(m.style.y+i-f<=this._location.y)m.style.y=
this._location.y+f;else if(m.style.y+i+m.style.height+f>=this._location.y+this._location.height)m.style.y=this._location.y+this._location.height-m.style.height-f;else m.style.y+=i;m._type=="filler"?this._syncHandleShape():this._syncFillerShape();this.zoomOption.realtime&&this._syncData();return true},__ondragend:function(){this.isDragend=true},ondragend:function(m,k){if(this.isDragend&&m.target){!this.zoomOption.realtime&&this._syncData();k.dragOut=true;k.dragIn=true;!this._isSilence&&!this.zoomOption.realtime&&
this.messageCenter.dispatch(o.EVENT.DATA_ZOOM,null,{zoom:this._zoom},this.myChart);this.isDragend=k.needRefresh=false}},ondataZoom:function(m,k){k.needRefresh=true},absoluteZoom:function(m){this._zoom.start=m.start;this._zoom.end=m.end;this._zoom.start2=m.start2;this._zoom.end2=m.end2;this._syncShape();this._syncData(true)},rectZoom:function(m){if(!m){this._zoom.start=this._zoom.start2=0;this._zoom.end=this._zoom.end2=100;this._syncShape();this._syncData(true);return this._zoom}var k=this.component.grid.getArea(),
i={x:m.x,y:m.y,width:m.width,height:m.height};if(i.width<0){i.x+=i.width;i.width=-i.width}if(i.height<0){i.y+=i.height;i.height=-i.height}if(i.x>k.x+k.width||i.y>k.y+k.height)return false;if(i.x<k.x)i.x=k.x;if(i.x+i.width>k.x+k.width)i.width=k.x+k.width-i.x;if(i.y+i.height>k.y+k.height)i.height=k.y+k.height-i.y;m=(i.x-k.x)/k.width;var f=1-(i.x+i.width-k.x)/k.width,g=1-(i.y+i.height-k.y)/k.height;i=(i.y-k.y)/k.height;if(this.zoomOption.orient=="horizontal"){k=this._zoom.end-this._zoom.start;this._zoom.start+=
k*m;this._zoom.end-=k*f;k=this._zoom.end2-this._zoom.start2;this._zoom.start2+=k*g;this._zoom.end2-=k*i}else{k=this._zoom.end-this._zoom.start;this._zoom.start+=k*g;this._zoom.end-=k*i;k=this._zoom.end2-this._zoom.start2;this._zoom.start2+=k*m;this._zoom.end2-=k*f}this._syncShape();this._syncData(true);return this._zoom},syncBackupData:function(m){for(var k=this._originalData.series,i=m.series,f,g=0,d=i.length;g<d;g++){f=i[g].data;m=k[g]?Math.floor(this._zoom.start/100*k[g].length):0;for(var a=0,
c=f.length;a<c;a++)if(k[g])k[g][a+m]=f[a]}},syncOption:function(m){this.silence(true);this.option=m;this.clear();this._location=this._getLocation();this._zoom=this._getZoom();this._backupData();this.option.dataZoom&&this.option.dataZoom.show&&this._buildShape();this._syncData();this.silence(false)},silence:function(m){this._isSilence=m},getRealDataIndex:function(m,k){if(!this._originalData||this._zoom.start===0&&this._zoom.end==100)return k;var i=this._originalData.series;if(i[m])return Math.floor(this._zoom.start/
100*i[m].length)+k;return-1},resize:function(){this.clear();this._location=this._getLocation();this._zoom=this._getZoom();this.option.dataZoom.show&&this._buildShape()}};v.inherits(x,A);t("../component").define("dataZoom",x);return x});V("echarts/util/shape/HandlePolygon",["require","zrender/shape/Base","zrender/shape/Polygon","zrender/tool/util"],function(t){function x(q){A.call(this,q)}var A=t("zrender/shape/Base"),s=t("zrender/shape/Polygon");t=t("zrender/tool/util");x.prototype={type:"handle-polygon",
buildPath:function(q,r){s.prototype.buildPath(q,r)},isCover:function(q,r){r=this.getTansform(q,r);q=r[0];r=r[1];var o=this.style.rect;return q>=o.x&&q<=o.x+o.width&&r>=o.y&&r<=o.y+o.height?true:false}};t.inherits(x,A);return x});V("echarts/component/dataRange",["require","./base","zrender/shape/Text","zrender/shape/Rectangle","../util/shape/HandlePolygon","../config","zrender/tool/util","zrender/tool/area","zrender/tool/color","zrender/tool/color","../component"],function(t){function x(i,f,g,d,a){if(typeof this.query(d,
"dataRange.min")=="undefined"||typeof this.query(d,"dataRange.max")=="undefined")console.error("option.dataRange.min or option.dataRange.max has not been defined.");else{A.call(this,i,f,g,d,a);var c=this;c._ondrift=function(b,e){return c.__ondrift(this,b,e)};c._ondragend=function(){return c.__ondragend()};c._dataRangeSelected=function(b){return c.__dataRangeSelected(b)};this._selectedMap={};this._range={};this.refresh(d)}}var A=t("./base"),s=t("zrender/shape/Text"),q=t("zrender/shape/Rectangle"),
r=t("../util/shape/HandlePolygon"),o=t("../config"),v=t("zrender/tool/util"),m=t("zrender/tool/area"),k=t("zrender/tool/color");x.prototype={type:o.COMPONENT_TYPE_DATARANGE,_textGap:10,_buildShape:function(){this._itemGroupLocation=this._getItemGroupLocation();this._buildBackground();this.dataRangeOption.splitNumber<=0||this.dataRangeOption.calculable?this._buildGradient():this._buildItem();for(var i=0,f=this.shapeList.length;i<f;i++)this.zr.addShape(this.shapeList[i]);this._syncShapeFromRange()},
_buildItem:function(){var i=this._valueTextList,f=i.length,g,d,a=this.getFont(this.dataRangeOption.textStyle),c=this._itemGroupLocation.x,b=this._itemGroupLocation.y,e=this.dataRangeOption.itemWidth,h=this.dataRangeOption.itemHeight,j=this.dataRangeOption.itemGap;g=m.getTextHeight("\u56fd",a);if(this.dataRangeOption.orient=="vertical"&&this.dataRangeOption.x=="right")c=this._itemGroupLocation.x+this._itemGroupLocation.width-e;var l=true;if(this.dataRangeOption.text){l=false;if(this.dataRangeOption.text[0]){d=
this._getTextShape(c,b,this.dataRangeOption.text[0]);if(this.dataRangeOption.orient=="horizontal")c+=m.getTextWidth(this.dataRangeOption.text[0],a)+this._textGap;else{b+=g+this._textGap;d.style.y+=g/2+this._textGap;d.style.textBaseline="bottom"}this.shapeList.push(new s(d))}}for(var n=0;n<f;n++){g=i[n];d=this.getColor((f-n)*this._gap+this.dataRangeOption.min);d=this._getItemShape(c,b,e,h,this._selectedMap[n]?d:"#ccc");d._idx=n;d.onclick=this._dataRangeSelected;this.shapeList.push(new q(d));if(l){d=
{zlevel:this._zlevelBase,style:{x:c+e+5,y:b,color:this._selectedMap[n]?this.dataRangeOption.textStyle.color:"#ccc",text:i[n],textFont:a,textBaseline:"top"},highlightStyle:{brushType:"fill"},clickable:true};if(this.dataRangeOption.orient=="vertical"&&this.dataRangeOption.x=="right"){d.style.x-=e+10;d.style.textAlign="right"}d._idx=n;d.onclick=this._dataRangeSelected;this.shapeList.push(new s(d))}if(this.dataRangeOption.orient=="horizontal")c+=e+(l?5:0)+(l?m.getTextWidth(g,a):0)+j;else b+=h+j}if(!l&&
this.dataRangeOption.text[1]){if(this.dataRangeOption.orient=="horizontal")c=c-j+this._textGap;else b=b-j+this._textGap;d=this._getTextShape(c,b,this.dataRangeOption.text[1]);if(this.dataRangeOption.orient!="horizontal"){d.style.y-=5;d.style.textBaseline="top"}this.shapeList.push(new s(d))}},_buildGradient:function(){var i,f=this.getFont(this.dataRangeOption.textStyle),g=this._itemGroupLocation.x,d=this._itemGroupLocation.y,a=this.dataRangeOption.itemWidth,c=this.dataRangeOption.itemHeight,b=m.getTextHeight("\u56fd",
f),e=true;if(this.dataRangeOption.text){e=false;if(this.dataRangeOption.text[0]){i=this._getTextShape(g,d,this.dataRangeOption.text[0]);if(this.dataRangeOption.orient=="horizontal")g+=m.getTextWidth(this.dataRangeOption.text[0],f)+this._textGap;else{d+=b+this._textGap;i.style.y+=b/2+this._textGap;i.style.textBaseline="bottom"}this.shapeList.push(new s(i))}}i=t("zrender/tool/color");f=1/(this.dataRangeOption.color.length-1);b=[];for(var h=0,j=this.dataRangeOption.color.length;h<j;h++)b.push([h*f,this.dataRangeOption.color[h]]);
if(this.dataRangeOption.orient=="horizontal"){i={zlevel:this._zlevelBase,style:{x:g,y:d,width:a*10,height:c,color:i.getLinearGradient(g,d,g+a*10,d,b)},hoverable:false};g+=a*10+this._textGap}else{i={zlevel:this._zlevelBase,style:{x:g,y:d,width:a,height:c*10,color:i.getLinearGradient(g,d,g,d+c*10,b)},hoverable:false};d+=c*10+this._textGap}this.shapeList.push(new q(i));if(this.dataRangeOption.calculable){this._calculableLocation=i.style;this._buildFiller();this._bulidMask();this._bulidHandle()}if(!e&&
this.dataRangeOption.text[1]){i=this._getTextShape(g,d,this.dataRangeOption.text[1]);this.shapeList.push(new s(i))}},_buildFiller:function(){this._fillerShae={zlevel:this._zlevelBase+1,style:{x:this._calculableLocation.x,y:this._calculableLocation.y,width:this._calculableLocation.width,height:this._calculableLocation.height,color:"rgba(255,255,255,0)"},highlightStyle:{strokeColor:"rgba(255,255,255,0.5)",lineWidth:1},draggable:true,ondrift:this._ondrift,ondragend:this._ondragend,_type:"filler"};this._fillerShae=
new q(this._fillerShae);this.shapeList.push(this._fillerShae)},_bulidHandle:function(){var i=this._calculableLocation.x,f=this._calculableLocation.y,g=this._calculableLocation.width,d=this._calculableLocation.height,a=this.getFont(this.dataRangeOption.textStyle),c=m.getTextHeight("\u56fd",a),b=Math.max(m.getTextWidth(this._textFormat(this.dataRangeOption.max),a),m.getTextWidth(this._textFormat(this.dataRangeOption.min),a))+2,e,h,j,l,n,p;if(this.dataRangeOption.orient=="horizontal")if(this.dataRangeOption.y!=
"bottom"){a=[[i,f],[i,f+d+c],[i-c,f+d+c],[i-1,f+d],[i-1,f]];e=i-b/2-c;h=f+d+c/2+2;j={x:i-b-c,y:f+d,width:b+c,height:c};l=[[i+g,f],[i+g,f+d+c],[i+g+c,f+d+c],[i+g+1,f+d],[i+g+1,f]];n=i+g+b/2+c;p=h;i={x:i+g,y:f+d,width:b+c,height:c}}else{a=[[i,f+d],[i,f-c],[i-c,f-c],[i-1,f],[i-1,f+d]];e=i-b/2-c;h=f-c/2-2;j={x:i-b-c,y:f-c,width:b+c,height:c};l=[[i+g,f+d],[i+g,f-c],[i+g+c,f-c],[i+g+1,f],[i+g+1,f+d]];n=i+g+b/2+c;p=h;i={x:i+g,y:f-c,width:b+c,height:c}}else{b+=c;if(this.dataRangeOption.x!="right"){a=[[i,
f],[i+g+c,f],[i+g+c,f-c],[i+g,f-1],[i,f-1]];e=i+g+b/2+c/2;h=f-c/2;j={x:i+g,y:f-c,width:b+c,height:c};l=[[i,f+d],[i+g+c,f+d],[i+g+c,f+c+d],[i+g,f+1+d],[i,f+d+1]];n=e;p=f+d+c/2;i={x:i+g,y:f+d,width:b+c,height:c}}else{a=[[i+g,f],[i-c,f],[i-c,f-c],[i,f-1],[i+g,f-1]];e=i-b/2-c/2;h=f-c/2;j={x:i-b-c,y:f-c,width:b+c,height:c};l=[[i+g,f+d],[i-c,f+d],[i-c,f+c+d],[i,f+1+d],[i+g,f+d+1]];n=e;p=f+d+c/2;i={x:i-b-c,y:f+d,width:b+c,height:c}}}this._startShape={style:{pointList:a,text:this._textFormat(this.dataRangeOption.max),
textX:e,textY:h,color:this.getColor(this.dataRangeOption.max),rect:j,x:a[0][0],y:a[0][1],_x:a[0][0],_y:a[0][1]}};this._startShape.highlightStyle={strokeColor:this._startShape.style.color,lineWidth:1};this._endShape={style:{pointList:l,text:this._textFormat(this.dataRangeOption.min),textX:n,textY:p,color:this.getColor(this.dataRangeOption.min),rect:i,x:l[0][0],y:l[0][1],_x:l[0][0],_y:l[0][1]}};this._endShape.highlightStyle={strokeColor:this._endShape.style.color,lineWidth:1};this._startShape.zlevel=
this._endShape.zlevel=this._zlevelBase+1;this._startShape.draggable=this._endShape.draggable=true;this._startShape.ondrift=this._endShape.ondrift=this._ondrift;this._startShape.ondragend=this._endShape.ondragend=this._ondragend;this._startShape.style.textColor=this._endShape.style.textColor=this.dataRangeOption.textStyle.color;this._startShape.style.textAlign=this._endShape.style.textAlign="center";this._startShape.style.textPosition=this._endShape.style.textPosition="specific";this._startShape.style.textBaseline=
this._endShape.style.textBaseline="middle";this._startShape.style.width=this._endShape.style.width=0;this._startShape.style.height=this._endShape.style.height=0;this._startShape.style.textPosition=this._endShape.style.textPosition="specific";this._startShape=new r(this._startShape);this._endShape=new r(this._endShape);this.shapeList.push(this._startShape);this.shapeList.push(this._endShape)},_bulidMask:function(){var i=this._calculableLocation.x,f=this._calculableLocation.y,g=this._calculableLocation.width,
d=this._calculableLocation.height;this._startMask={zlevel:this._zlevelBase+1,style:{x:i,y:f,width:this.dataRangeOption.orient=="horizontal"?0:g,height:this.dataRangeOption.orient=="horizontal"?d:0,color:"#ccc"},hoverable:false};this._endMask={zlevel:this._zlevelBase+1,style:{x:this.dataRangeOption.orient=="horizontal"?i+g:i,y:this.dataRangeOption.orient=="horizontal"?f:f+d,width:this.dataRangeOption.orient=="horizontal"?0:g,height:this.dataRangeOption.orient=="horizontal"?d:0,color:"#ccc"},hoverable:false};
this._startMask=new q(this._startMask);this._endMask=new q(this._endMask);this.shapeList.push(this._startMask);this.shapeList.push(this._endMask)},_buildBackground:function(){var i=this.dataRangeOption.padding[0],f=this.dataRangeOption.padding[3];this.shapeList.push(new q({zlevel:this._zlevelBase,hoverable:false,style:{x:this._itemGroupLocation.x-f,y:this._itemGroupLocation.y-i,width:this._itemGroupLocation.width+f+this.dataRangeOption.padding[1],height:this._itemGroupLocation.height+i+this.dataRangeOption.padding[2],
brushType:this.dataRangeOption.borderWidth===0?"fill":"both",color:this.dataRangeOption.backgroundColor,strokeColor:this.dataRangeOption.borderColor,lineWidth:this.dataRangeOption.borderWidth}}))},_getItemGroupLocation:function(){var i=this._valueTextList,f=i.length,g=this.dataRangeOption.itemGap,d=this.dataRangeOption.itemWidth,a=this.dataRangeOption.itemHeight,c=0,b=0,e=this.getFont(this.dataRangeOption.textStyle),h=m.getTextHeight("\u56fd",e);if(this.dataRangeOption.orient=="horizontal"){if(this.dataRangeOption.text||
this.dataRangeOption.splitNumber<=0||this.dataRangeOption.calculable)c=(this.dataRangeOption.splitNumber<=0||this.dataRangeOption.calculable?d*10+g:f*(d+g))+(this.dataRangeOption.text&&typeof this.dataRangeOption.text[0]!="undefined"?m.getTextWidth(this.dataRangeOption.text[0],e)+this._textGap:0)+(this.dataRangeOption.text&&typeof this.dataRangeOption.text[1]!="undefined"?m.getTextWidth(this.dataRangeOption.text[1],e)+this._textGap:0);else{d+=5;for(var j=0;j<f;j++)c+=d+m.getTextWidth(i[j],e)+g}c-=
g;b=Math.max(h,a)}else{if(this.dataRangeOption.text||this.dataRangeOption.splitNumber<=0||this.dataRangeOption.calculable){b=(this.dataRangeOption.splitNumber<=0||this.dataRangeOption.calculable?a*10+g:f*(a+g))+(this.dataRangeOption.text&&typeof this.dataRangeOption.text[0]!="undefined"?this._textGap+h:0)+(this.dataRangeOption.text&&typeof this.dataRangeOption.text[1]!="undefined"?this._textGap+h:0);c=Math.max(m.getTextWidth(this.dataRangeOption.text&&this.dataRangeOption.text[0]||"",e),m.getTextWidth(this.dataRangeOption.text&&
this.dataRangeOption.text[1]||"",e));c=Math.max(d,c)}else{b=(a+g)*f;d+=5;for(j=c=0;j<f;j++)c=Math.max(c,m.getTextWidth(i[j],e));c=d+c}b-=g}f=this.zr.getWidth();switch(this.dataRangeOption.x){case "center":i=Math.floor((f-c)/2);break;case "left":i=this.dataRangeOption.padding[3]+this.dataRangeOption.borderWidth;break;case "right":i=f-c-this.dataRangeOption.padding[1]-this.dataRangeOption.borderWidth;break;default:i=this.parsePercent(this.dataRangeOption.x,f);i=isNaN(i)?0:i;break}d=this.zr.getHeight();
switch(this.dataRangeOption.y){case "top":g=this.dataRangeOption.padding[0]+this.dataRangeOption.borderWidth;break;case "bottom":g=d-b-this.dataRangeOption.padding[2]-this.dataRangeOption.borderWidth;break;case "center":g=Math.floor((d-b)/2);break;default:g=this.parsePercent(this.dataRangeOption.y,d);g=isNaN(g)?0:g;break}if(this.dataRangeOption.calculable){e=Math.max(m.getTextWidth(this.dataRangeOption.max,e),m.getTextWidth(this.dataRangeOption.min,e))+h;if(this.dataRangeOption.orient=="horizontal"){if(i<
e)i=e;if(i+c+e>f)i-=e}else{if(g<h)g=h;if(g+b+h>d)g-=h}}return{x:i,y:g,width:c,height:b}},_getTextShape:function(i,f,g){return{zlevel:this._zlevelBase,style:{x:this.dataRangeOption.orient=="horizontal"?i:this._itemGroupLocation.x+this._itemGroupLocation.width/2,y:this.dataRangeOption.orient=="horizontal"?this._itemGroupLocation.y+this._itemGroupLocation.height/2:f,color:this.dataRangeOption.textStyle.color,text:g,textFont:this.getFont(this.dataRangeOption.textStyle),textBaseline:this.dataRangeOption.orient==
"horizontal"?"middle":"top",textAlign:this.dataRangeOption.orient=="horizontal"?"left":"center"},hoverable:false}},_getItemShape:function(i,f,g,d,a){return{zlevel:this._zlevelBase,style:{x:i,y:f+1,width:g,height:d-2,color:a},highlightStyle:{strokeColor:a,lineWidth:1},clickable:true}},__ondrift:function(i,f,g){var d=this._calculableLocation.x,a=this._calculableLocation.y,c=this._calculableLocation.width,b=this._calculableLocation.height;if(this.dataRangeOption.orient=="horizontal")if(i.style.x+f<=
d)i.style.x=d;else if(i.style.x+f+i.style.width>=d+c)i.style.x=d+c-i.style.width;else i.style.x+=f;else if(i.style.y+g<=a)i.style.y=a;else if(i.style.y+g+i.style.height>=a+b)i.style.y=a+b-i.style.height;else i.style.y+=g;i._type=="filler"?this._syncHandleShape():this._syncFillerShape(i);this.dataRangeOption.realtime&&this._syncData();return true},__ondragend:function(){this.isDragend=true},ondragend:function(i,f){if(this.isDragend&&i.target){!this.dataRangeOption.realtime&&this._syncData();f.dragOut=
true;f.dragIn=true;this.isDragend=f.needRefresh=false}},_syncShapeFromRange:function(){var i=this.dataRangeOption.range||{};this._range.end=typeof this._range.end!="undefined"?this._range.end:typeof i.start!="undefined"?i.start:0;this._range.start=typeof this._range.start!="undefined"?this._range.start:typeof i.end!="undefined"?i.end:100;if(this._range.start!=100||this._range.end!==0){if(this.dataRangeOption.orient=="horizontal"){i=this._fillerShae.style.width;this._fillerShae.style.x+=i*(100-this._range.start)/
100;this._fillerShae.style.width=i*(this._range.start-this._range.end)/100}else{i=this._fillerShae.style.height;this._fillerShae.style.y+=i*(100-this._range.start)/100;this._fillerShae.style.height=i*(this._range.start-this._range.end)/100}this.zr.modShape(this._fillerShae.id);this._syncHandleShape()}},_syncHandleShape:function(){var i=this._calculableLocation.x,f=this._calculableLocation.y,g=this._calculableLocation.width,d=this._calculableLocation.height;if(this.dataRangeOption.orient=="horizontal"){this._startShape.style.x=
this._fillerShae.style.x;this._startMask.style.width=this._startShape.style.x-i;this._endShape.style.x=this._fillerShae.style.x+this._fillerShae.style.width;this._endMask.style.x=this._endShape.style.x;this._endMask.style.width=i+g-this._endShape.style.x;this._range.start=Math.ceil(100-(this._startShape.style.x-i)/g*100);this._range.end=Math.floor(100-(this._endShape.style.x-i)/g*100)}else{this._startShape.style.y=this._fillerShae.style.y;this._startMask.style.height=this._startShape.style.y-f;this._endShape.style.y=
this._fillerShae.style.y+this._fillerShae.style.height;this._endMask.style.y=this._endShape.style.y;this._endMask.style.height=f+d-this._endShape.style.y;this._range.start=Math.ceil(100-(this._startShape.style.y-f)/d*100);this._range.end=Math.floor(100-(this._endShape.style.y-f)/d*100)}this._syncShape()},_syncFillerShape:function(i){var f=this._calculableLocation.x,g=this._calculableLocation.y,d=this._calculableLocation.width,a=this._calculableLocation.height,c,b;if(this.dataRangeOption.orient=="horizontal"){c=
this._startShape.style.x;b=this._endShape.style.x;if(i.id==this._startShape.id&&c>=b){b=c;this._endShape.style.x=c}else if(i.id==this._endShape.id&&c>=b){c=b;this._startShape.style.x=c}this._fillerShae.style.x=c;this._fillerShae.style.width=b-c;this._startMask.style.width=c-f;this._endMask.style.x=b;this._endMask.style.width=f+d-b;this._range.start=Math.ceil(100-(c-f)/d*100);this._range.end=Math.floor(100-(b-f)/d*100)}else{c=this._startShape.style.y;b=this._endShape.style.y;if(i.id==this._startShape.id&&
c>=b){b=c;this._endShape.style.y=c}else if(i.id==this._endShape.id&&c>=b){c=b;this._startShape.style.y=c}this._fillerShae.style.y=c;this._fillerShae.style.height=b-c;this._startMask.style.height=c-g;this._endMask.style.y=b;this._endMask.style.height=g+a-b;this._range.start=Math.ceil(100-(c-g)/a*100);this._range.end=Math.floor(100-(b-g)/a*100)}this._syncShape()},_syncShape:function(){this._startShape.position=[this._startShape.style.x-this._startShape.style._x,this._startShape.style.y-this._startShape.style._y];
this._startShape.style.text=this._textFormat(this._gap*this._range.start+this.dataRangeOption.min);this._startShape.style.color=this._startShape.highlightStyle.strokeColor=this.getColor(this._gap*this._range.start+this.dataRangeOption.min);this._endShape.position=[this._endShape.style.x-this._endShape.style._x,this._endShape.style.y-this._endShape.style._y];this._endShape.style.text=this._textFormat(this._gap*this._range.end+this.dataRangeOption.min);this._endShape.style.color=this._endShape.highlightStyle.strokeColor=
this.getColor(this._gap*this._range.end+this.dataRangeOption.min);this.zr.modShape(this._startShape.id);this.zr.modShape(this._endShape.id);this.zr.modShape(this._startMask.id);this.zr.modShape(this._endMask.id);this.zr.modShape(this._fillerShae.id);this.zr.refresh()},_syncData:function(){this.dataRangeOption.realtime&&this.messageCenter.dispatch(o.EVENT.DATA_RANGE,null,{range:{start:this._range.end,end:this._range.start}},this.myChart)},__dataRangeSelected:function(i){i=i.target._idx;this._selectedMap[i]=
!this._selectedMap[i];this.messageCenter.dispatch(o.EVENT.REFRESH,null,null,this.myChart)},_textFormat:function(i,f){i=i.toFixed(this.dataRangeOption.precision);f=typeof f!="undefined"?f.toFixed(this.dataRangeOption.precision):"";if(this.dataRangeOption.formatter)if(typeof this.dataRangeOption.formatter=="string")return this.dataRangeOption.formatter.replace("{value}",i).replace("{value2}",f);else if(typeof this.dataRangeOption.formatter=="function")return this.dataRangeOption.formatter.call(this.myChart,
i,f);if(f!=="")return i+" - "+f;return i},refresh:function(i){if(i){this.option=i;this.option.dataRange=this.reformOption(this.option.dataRange);this.option.dataRange.padding=this.reformCssArray(this.option.dataRange.padding);this.dataRangeOption=this.option.dataRange;i=this.dataRangeOption.splitNumber<=0||this.dataRangeOption.calculable?100:this.dataRangeOption.splitNumber;this._colorList=k.getGradientColors(this.dataRangeOption.color,Math.max((i-this.dataRangeOption.color.length)/(this.dataRangeOption.color.length-
1),0)+1);if(this._colorList.length>i){for(var f=this._colorList.length,g=[this._colorList[0]],d=f/(i-1),a=1;a<i-1;a++)g.push(this._colorList[Math.floor(a*d)]);g.push(this._colorList[f-1]);this._colorList=g}f=this.dataRangeOption.precision;for(this._gap=(this.dataRangeOption.max-this.dataRangeOption.min)/i;this._gap.toFixed(f)-0!=this._gap&&f<5;)f++;this.dataRangeOption.precision=f;this._gap=((this.dataRangeOption.max-this.dataRangeOption.min)/i).toFixed(f)-0;this._valueTextList=[];for(a=0;a<i;a++){this._selectedMap[a]=
true;this._valueTextList.unshift(this._textFormat(a*this._gap+this.dataRangeOption.min,(a+1)*this._gap+this.dataRangeOption.min))}}this.clear();this._buildShape()},getColor:function(i){if(isNaN(i))return null;if(i<this.dataRangeOption.min)i=this.dataRangeOption.min;else if(i>this.dataRangeOption.max)i=this.dataRangeOption.max;if(this.dataRangeOption.calculable)if(i-(this._gap*this._range.start+this.dataRangeOption.min)>5.0E-5||i-(this._gap*this._range.end+this.dataRangeOption.min)<-5.0E-5)return null;
i=this._colorList.length-Math.ceil((i-this.dataRangeOption.min)/(this.dataRangeOption.max-this.dataRangeOption.min)*this._colorList.length);i==this._colorList.length&&i--;return this._selectedMap[i]?this._colorList[i]:null}};v.inherits(x,A);t("../component").define("dataRange",x);return x});V("echarts/chart/scatter",["require","../component/base","./base","../util/shape/Symbol","../component/axis","../component/grid","../component/dataZoom","../component/dataRange","../config","zrender/tool/util",
"zrender/tool/color","../chart"],function(t){function x(m,k,i,f,g){A.call(this,m,k,i,f,g);s.call(this);this.refresh(f)}var A=t("../component/base"),s=t("./base"),q=t("../util/shape/Symbol");t("../component/axis");t("../component/grid");t("../component/dataZoom");t("../component/dataRange");var r=t("../config"),o=t("zrender/tool/util"),v=t("zrender/tool/color");x.prototype={type:r.CHART_TYPE_SCATTER,_buildShape:function(){var m=this.series;this._sIndex2ColorMap={};this._symbol=this.option.symbolList;
this._sIndex2ShapeMap={};this.selectedMap={};this.xMarkMap={};for(var k=this.component.legend,i=[],f,g,d,a=0,c=m.length;a<c;a++){f=m[a];g=f.name;if(f.type===r.CHART_TYPE_SCATTER){m[a]=this.reformOption(m[a]);this._sIndex2ShapeMap[a]=this.query(f,"symbol")||this._symbol[a%this._symbol.length];if(k){this.selectedMap[g]=k.isSelected(g);this._sIndex2ColorMap[a]=v.alpha(k.getColor(g),0.5);if(f=k.getItemShape(g)){d=this._sIndex2ShapeMap[a];f.style.brushType=d.match("empty")?"stroke":"both";d=d.replace("empty",
"").toLowerCase();if(d.match("rectangle")){f.style.x+=Math.round((f.style.width-f.style.height)/2);f.style.width=f.style.height}if(d.match("star")){f.style.n=d.replace("star","")-0||5;d="star"}if(d.match("image")){f.style.image=d.replace(/^image:\/\//,"");f.style.x+=Math.round((f.style.width-f.style.height)/2);f.style.width=f.style.height;d="image"}f.style.iconType=d;k.setItemShape(g,f)}}else{this.selectedMap[g]=true;this._sIndex2ColorMap[a]=this.zr.getColor(a)}this.selectedMap[g]&&i.push(a)}}this._buildSeries(i);
this.addShapeList()},_buildSeries:function(m){if(m.length!==0){for(var k=this.series,i,f,g,d,a,c,b={},e,h=0,j=m.length;h<j;h++){i=m[h];f=k[i];if(f.data.length!==0){a=this.component.xAxis.getAxis(f.xAxisIndex||0);c=this.component.yAxis.getAxis(f.yAxisIndex||0);b[i]=[];for(var l=0,n=f.data.length;l<n;l++){g=f.data[l];d=g!=null?g.value!=null?g.value:g:"-";if(!(d==="-"||d.length<2)){e=a.getCoord(d[0]);d=c.getCoord(d[1]);b[i].push([e,d,l,g.name||""])}}this.xMarkMap[i]=this._markMap(a,c,f.data,b[i]);this.buildMark(i)}}this._buildPointList(b)}},
_markMap:function(m,k,i,f){for(var g={min0:Number.POSITIVE_INFINITY,max0:Number.NEGATIVE_INFINITY,sum0:0,counter0:0,average0:0,min1:Number.POSITIVE_INFINITY,max1:Number.NEGATIVE_INFINITY,sum1:0,counter1:0,average1:0},d,a=0,c=f.length;a<c;a++){d=i[f[a][2]].value||i[f[a][2]];if(g.min0>d[0]){g.min0=d[0];g.minY0=f[a][1];g.minX0=f[a][0]}if(g.max0<d[0]){g.max0=d[0];g.maxY0=f[a][1];g.maxX0=f[a][0]}g.sum0+=d[0];g.counter0++;if(g.min1>d[1]){g.min1=d[1];g.minY1=f[a][1];g.minX1=f[a][0]}if(g.max1<d[1]){g.max1=
d[1];g.maxY1=f[a][1];g.maxX1=f[a][0]}g.sum1+=d[1];g.counter1++}i=this.component.grid.getX();f=this.component.grid.getXend();d=this.component.grid.getY();a=this.component.grid.getYend();g.average0=(g.sum0/g.counter0).toFixed(2)-0;m=m.getCoord(g.average0);g.averageLine0=[[m,a],[m,d]];g.minLine0=[[g.minX0,a],[g.minX0,d]];g.maxLine0=[[g.maxX0,a],[g.maxX0,d]];g.average1=(g.sum1/g.counter1).toFixed(2)-0;k=k.getCoord(g.average1);g.averageLine1=[[i,k],[f,k]];g.minLine1=[[i,g.minY1],[f,g.minY1]];g.maxLine1=
[[i,g.maxY1],[f,g.maxY1]];return g},_buildPointList:function(m){var k=this.series,i,f,g;for(var d in m){i=k[d];f=m[d];if(i.large&&i.data.length>i.largeThreshold)this.shapeList.push(this._getLargeSymbol(f,this.getItemStyleColor(this.query(i,"itemStyle.normal.color"),d,-1)||this._sIndex2ColorMap[d]));else{i=0;for(var a=f.length;i<a;i++){g=f[i];(g=this._getSymbol(d,g[2],g[3],g[0],g[1]))&&this.shapeList.push(g)}}}},_getSymbol:function(m,k,i,f,g){var d=this.series[m],a=d.data[k],c=this.component.dataRange;
if(c){c=isNaN(a[2])?this._sIndex2ColorMap[m]:c.getColor(a[2]);if(!c)return null}else c=this._sIndex2ColorMap[m];m=this.getSymbolShape(d,m,a,k,i,f,g,this._sIndex2ShapeMap[m],c,"rgba(0,0,0,0)","vertical");m.zlevel=this._zlevelBase;m._main=true;return m},_getLargeSymbol:function(m,k){return new q({zlevel:this._zlevelBase,_main:true,hoverable:false,style:{pointList:m,color:k,strokeColor:k},highlightStyle:{pointList:[]}})},getMarkCoord:function(m,k){var i=this.series[m];m=this.xMarkMap[m];var f=this.component.xAxis.getAxis(i.xAxisIndex);
i=this.component.yAxis.getAxis(i.yAxisIndex);if(k.type&&(k.type==="max"||k.type==="min"||k.type==="average")){i=k.valueIndex!=null?k.valueIndex:1;k=[m[k.type+"X"+i],m[k.type+"Y"+i],m[k.type+"Line"+i],m[k.type+i]]}else k=[typeof k.xAxis!="string"&&f.getCoordByIndex?f.getCoordByIndex(k.xAxis||0):f.getCoord(k.xAxis||0),typeof k.yAxis!="string"&&i.getCoordByIndex?i.getCoordByIndex(k.yAxis||0):i.getCoord(k.yAxis||0)];return k},refresh:function(m){if(m){this.option=m;this.series=m.series}this.backupShapeList();
this._buildShape()},ondataRange:function(m,k){if(this.component.dataRange){this.refresh();k.needRefresh=true}}};o.inherits(x,s);o.inherits(x,A);t("../chart").define("scatter",x);return x});V("echarts/chart/k",["require","../component/base","./base","../util/shape/Candle","../component/axis","../component/grid","../component/dataZoom","../config","../util/ecData","zrender/tool/util","../chart"],function(t){function x(m,k,i,f,g){A.call(this,m,k,i,f,g);s.call(this);this.refresh(f)}var A=t("../component/base"),
s=t("./base"),q=t("../util/shape/Candle");t("../component/axis");t("../component/grid");t("../component/dataZoom");var r=t("../config"),o=t("../util/ecData"),v=t("zrender/tool/util");x.prototype={type:r.CHART_TYPE_K,_buildShape:function(){var m=this.series;this.selectedMap={};for(var k={top:[],bottom:[]},i,f=0,g=m.length;f<g;f++)if(m[f].type===r.CHART_TYPE_K){m[f]=this.reformOption(m[f]);i=this.component.xAxis.getAxis(m[f].xAxisIndex);i.type===r.COMPONENT_TYPE_AXIS_CATEGORY&&k[i.getPosition()].push(f)}for(var d in k)k[d].length>
0&&this._buildSinglePosition(d,k[d]);this.addShapeList()},_buildSinglePosition:function(m,k){var i=this._mapData(k);m=i.locationMap;i=i.maxDataLength;if(!(i===0||m.length===0)){this._buildHorizontal(k,i,m);m=0;for(i=k.length;m<i;m++)this.buildMark(k[m])}},_mapData:function(m){for(var k=this.series,i,f,g=this.component.legend,d=[],a=0,c=0,b=m.length;c<b;c++){i=k[m[c]];f=i.name;this.selectedMap[f]=g?g.isSelected(f):true;this.selectedMap[f]&&d.push(m[c]);a=Math.max(a,i.data.length)}return{locationMap:d,
maxDataLength:a}},_buildHorizontal:function(m,k,i){for(var f=this.series,g,d,a,c,b={},e,h,j=0,l=i.length;j<l;j++){g=i[j];d=f[g];a=d.xAxisIndex||0;a=this.component.xAxis.getAxis(a);e=d.barWidth||Math.floor(a.getGap()/2);if((c=d.barMaxWidth)&&c<e)e=c;c=d.yAxisIndex||0;c=this.component.yAxis.getAxis(c);b[g]=[];for(var n=0;n<k;n++){if(a.getNameByIndex(n)==null)break;h=d.data[n];h=h!=null?h.value!=null?h.value:h:"-";h==="-"||h.length!=4||b[g].push([a.getCoordByIndex(n),e,c.getCoord(h[0]),c.getCoord(h[1]),
c.getCoord(h[2]),c.getCoord(h[3]),n,a.getNameByIndex(n)])}}this._buildKLine(m,b)},_buildKLine:function(m,k){for(var i=this.series,f,g,d,a,c,b,e,h,j,l,n,p,w,B,y,C,z=0,u=m.length;z<u;z++){C=m[z];n=i[C];w=k[C];if(this._isLarge(w))w=this._getLargePointList(w);if(n.type===r.CHART_TYPE_K&&w!=null){p=n;f=this.query(p,"itemStyle.normal.lineStyle.width");g=this.query(p,"itemStyle.normal.lineStyle.color");d=this.query(p,"itemStyle.normal.lineStyle.color0");a=this.query(p,"itemStyle.normal.color");c=this.query(p,
"itemStyle.normal.color0");b=this.query(p,"itemStyle.emphasis.lineStyle.width");e=this.query(p,"itemStyle.emphasis.lineStyle.color");h=this.query(p,"itemStyle.emphasis.lineStyle.color0");j=this.query(p,"itemStyle.emphasis.color");l=this.query(p,"itemStyle.emphasis.color0");for(var D=0,F=w.length;D<F;D++){B=w[D];p=p=n.data[B[6]];y=B[3]<B[2];this.shapeList.push(this._getCandle(C,B[6],B[7],B[0],B[1],B[2],B[3],B[4],B[5],y?this.query(p,"itemStyle.normal.color")||a:this.query(p,"itemStyle.normal.color0")||
c,this.query(p,"itemStyle.normal.lineStyle.width")||f,y?this.query(p,"itemStyle.normal.lineStyle.color")||g:this.query(p,"itemStyle.normal.lineStyle.color0")||d,y?this.query(p,"itemStyle.emphasis.color")||j||a:this.query(p,"itemStyle.emphasis.color0")||l||c,this.query(p,"itemStyle.emphasis.lineStyle.width")||b||f,y?this.query(p,"itemStyle.emphasis.lineStyle.color")||e||g:this.query(p,"itemStyle.emphasis.lineStyle.color0")||h||d))}}}},_isLarge:function(m){return m[0][1]<0.5},_getLargePointList:function(m){for(var k=
this.component.grid.getWidth(),i=m.length,f=[],g=0;g<k;g++)f[g]=m[Math.floor(i/k*g)];return f},_getCandle:function(m,k,i,f,g,d,a,c,b,e,h,j,l,n,p){var w=this.series;f={zlevel:this._zlevelBase,clickable:this.deepQuery([w[m].data[k],w[m]],"clickable"),style:{x:f,y:[d,a,c,b],width:g,color:e,strokeColor:j,lineWidth:h,brushType:"both"},highlightStyle:{color:l,strokeColor:p,lineWidth:n},_seriesIndex:m};o.pack(f,w[m],m,w[m].data[k],k,i);return f=new q(f)},getMarkCoord:function(m,k){var i=this.series[m];m=
this.component.xAxis.getAxis(i.xAxisIndex);i=this.component.yAxis.getAxis(i.yAxisIndex);return[typeof k.xAxis!="string"&&m.getCoordByIndex?m.getCoordByIndex(k.xAxis||0):m.getCoord(k.xAxis||0),typeof k.yAxis!="string"&&i.getCoordByIndex?i.getCoordByIndex(k.yAxis||0):i.getCoord(k.yAxis||0)]},refresh:function(m){if(m){this.option=m;this.series=m.series}this.backupShapeList();this._buildShape()},addDataAnimation:function(m){for(var k=this.series,i={},f=0,g=m.length;f<g;f++)i[m[f][0]]=m[f];var d,a;f=0;
for(g=this.shapeList.length;f<g;f++){m=this.shapeList[f]._seriesIndex;if(i[m]&&!i[m][3])if(this.shapeList[f].type==="candle"){a=o.get(this.shapeList[f],"dataIndex");d=k[m];if(i[m][2]&&a===d.data.length-1)this.zr.delShape(this.shapeList[f].id);else if(!i[m][2]&&a===0)this.zr.delShape(this.shapeList[f].id);else{d=this.component.xAxis.getAxis(d.xAxisIndex||0).getGap();m=i[m][2]?d:-d;this.zr.animate(this.shapeList[f].id,"").when(500,{position:[m,0]}).start()}}}}};v.inherits(x,s);v.inherits(x,A);t("../chart").define("k",
x);return x});V("echarts/util/coordinates",["require","zrender/tool/math"],function(t){function x(q,r){return[q*s.sin(r),q*s.cos(r)]}function A(q,r){return[Math.sqrt(q*q+r*r),Math.atan(r/q)]}var s=t("zrender/tool/math");return{polar2cartesian:x,cartesian2polar:A}});V("echarts/component/polar",["require","./base","zrender/shape/Text","zrender/shape/Line","zrender/shape/Polygon","zrender/shape/Circle","zrender/shape/Ring","../config","zrender/tool/util","../util/coordinates","../component"],function(t){function x(f,
g,d,a,c){A.call(this,f,g,d,a,c);this.refresh(a)}var A=t("./base"),s=t("zrender/shape/Text"),q=t("zrender/shape/Line"),r=t("zrender/shape/Polygon"),o=t("zrender/shape/Circle"),v=t("zrender/shape/Ring"),m=t("../config"),k=t("zrender/tool/util"),i=t("../util/coordinates");x.prototype={type:m.COMPONENT_TYPE_POLAR,_buildShape:function(){for(var f=0;f<this.polar.length;f++){this._index=f;this.reformOption(this.polar[f]);this._queryTarget=[this.polar[f],this.option];this._createVector(f);this._buildSpiderWeb(f);
this._buildText(f);this._adjustIndicatorValue(f);this._addAxisLabel(f)}for(f=0;f<this.shapeList.length;f++)this.zr.addShape(this.shapeList[f])},_createVector:function(f){var g=this.polar[f];f=this.deepQuery(this._queryTarget,"indicator").length;var d=g.startAngle,a=2*Math.PI/f,c=this._getRadius();g=g.__ecIndicator=[];for(var b,e=0;e<f;e++){b=i.polar2cartesian(c,d*Math.PI/180+a*e);g.push({vector:[b[1],-b[0]]})}},_getRadius:function(){return this.parsePercent(this.polar[this._index].radius,Math.min(this.zr.getWidth(),
this.zr.getHeight())/2)},_buildSpiderWeb:function(f){var g=this.polar[f],d=g.__ecIndicator,a=g.splitArea,c=g.splitLine;f=this.getCenter(f);g=g.splitNumber;var b=c.lineStyle.color,e=c.lineStyle.width;c=c.show;var h=this.deepQuery(this._queryTarget,"axisLine");this._addArea(d,g,f,a,b,e,c);h.show&&this._addLine(d,f,h)},_addAxisLabel:function(f){for(var g=this.polar[f],d=this.deepQuery(this._queryTarget,"indicator"),a=g.__ecIndicator,c,b,e=this.deepQuery(this._queryTarget,"splitNumber"),h=this.getCenter(f),
j,l,n,p,w=this.deepQuery(this._queryTarget,"precision"),B,y=0;y<d.length;y++){c=this.deepQuery([d[y],g,this.option],"axisLabel");if(c.show){b={};b.textFont=this.getFont();b=k.merge(b,c);b.lineWidth=b.width;f=a[y].vector;j=a[y].value;n=y/d.length*2*Math.PI;p=c.offset||10;B=c.interval||0;if(!j)return;for(var C=1;C<=e;C+=B+1){c=k.merge({},b);l=C*(j.max-j.min)/e+j.min;if(w)l=l.toFixed(w);c.text=this.numAddCommas(l);c.x=C*f[0]/e+Math.cos(n)*p+h[0];c.y=C*f[1]/e+Math.sin(n)*p+h[1];this.shapeList.push(new s({zlevel:this._zlevelBase,
style:c,draggable:false,hoverable:false}))}}}},_buildText:function(f){var g=this.polar[f],d=g.__ecIndicator,a,c=this.deepQuery(this._queryTarget,"indicator");f=this.getCenter(f);for(var b,e,h,j=0,l=0,n=0;n<c.length;n++){h=this.deepQuery([c[n],g,this.option],"name");if(h.show){a=this.deepQuery([h,g,this.option],"textStyle");b={};b.textFont=this.getFont(a);b.color=a.color;b.text=typeof h.formatter=="function"?h.formatter.call(this.myChart,c[n].text,n):typeof h.formatter=="string"?h.formatter.replace("{value}",
c[n].text):c[n].text;d[n].text=b.text;a=d[n].vector;e=Math.round(a[0])>0?"left":Math.round(a[0])<0?"right":"center";if(h.margin){l=h.margin;j=a[0]>0?l:-l;l=a[1]>0?l:-l;j=a[0]===0?0:j;l=a[1]===0?0:l;a=this._mapVector(a,f,1)}else a=this._mapVector(a,f,1.2);b.textAlign=e;b.x=a[0]+j;b.y=a[1]+l;h=h.rotate?[h.rotate/180*Math.PI,a[0],a[1]]:[0,0,0];this.shapeList.push(new s({zlevel:this._zlevelBase,style:b,draggable:false,hoverable:false,rotation:h}))}}},getIndicatorText:function(f,g){return this.polar[f]&&
this.polar[f].__ecIndicator[g]&&this.polar[f].__ecIndicator[g].text},getDropBox:function(f){f=f||0;var g=this.polar[f];f=this.getCenter(f);var d=g.__ecIndicator,a=d.length,c=[],b;g=g.type;if(g=="polygon"){for(g=0;g<a;g++){b=d[g].vector;c.push(this._mapVector(b,f,1.2))}b=this._getShape(c,"fill","rgba(0,0,0,0)","",1)}else if(g=="circle")b=this._getCircle("",1,1.2,f,"fill","rgba(0,0,0,0)");return b},_addArea:function(f,g,d,a,c,b,e){for(var h,j,l,n=this.deepQuery(this._queryTarget,"type"),p=0;p<g;p++){j=
(g-p)/g;if(e){if(n=="polygon"){h=this._getPointList(f,j,d);h=this._getShape(h,"stroke","",c,b)}else if(n=="circle")h=this._getCircle(c,b,j,d,"stroke");this.shapeList.push(h)}if(a.show){l=(g-p-1)/g;this._addSplitArea(f,a,j,l,d,p)}}},_getCircle:function(f,g,d,a,c,b){var e=this._getRadius();return new o({zlevel:this._zlevelBase,style:{x:a[0],y:a[1],r:e*d,brushType:c,strokeColor:f,lineWidth:g,color:b},hoverable:false,draggable:false})},_getRing:function(f,g,d,a){var c=this._getRadius();return new v({zlevel:this._zlevelBase,
style:{x:a[0],y:a[1],r:g*c,r0:d*c,color:f,brushType:"fill"},hoverable:false,draggable:false})},_getPointList:function(f,g,d){for(var a=[],c=f.length,b,e=0;e<c;e++){b=f[e].vector;a.push(this._mapVector(b,d,g))}return a},_getShape:function(f,g,d,a,c){return new r({zlevel:this._zlevelBase,style:{pointList:f,brushType:g,color:d,strokeColor:a,lineWidth:c},hoverable:false,draggable:false})},_addSplitArea:function(f,g,d,a,c,b){var e=f.length,h=g.areaStyle.color,j,l;g=[];e=f.length;g=this.deepQuery(this._queryTarget,
"type");if(typeof h=="string")h=[h];b=h[b%h.length];if(g=="polygon")for(h=0;h<e;h++){g=[];j=f[h].vector;l=f[(h+1)%e].vector;g.push(this._mapVector(j,c,d));g.push(this._mapVector(j,c,a));g.push(this._mapVector(l,c,a));g.push(this._mapVector(l,c,d));g=this._getShape(g,"fill",b,"",1);this.shapeList.push(g)}else if(g=="circle"){g=this._getRing(b,d,a,c);this.shapeList.push(g)}},_mapVector:function(f,g,d){return[f[0]*d+g[0],f[1]*d+g[1]]},getCenter:function(f){f=f||0;return this.parseCenter(this.zr,this.polar[f].center)},
_addLine:function(f,g,d){var a=f.length,c,b=d.lineStyle;d=b.color;var e=b.width;b=b.type;for(var h=0;h<a;h++){c=f[h].vector;c=this._getLine(g[0],g[1],c[0]+g[0],c[1]+g[1],d,e,b);this.shapeList.push(c)}},_getLine:function(f,g,d,a,c,b,e){return new q({zlevel:this._zlevelBase,style:{xStart:f,yStart:g,xEnd:d,yEnd:a,strokeColor:c,lineWidth:b,lineType:e},hoverable:false})},_adjustIndicatorValue:function(f){var g=this.polar[f],d=this.deepQuery(this._queryTarget,"indicator"),a=d.length,c=g.__ecIndicator,b,
e;f=this._getSeriesData(f);g=g.splitNumber;for(var h=this.deepQuery(this._queryTarget,"boundaryGap"),j=this.deepQuery(this._queryTarget,"precision"),l=this.deepQuery(this._queryTarget,"power"),n=this.deepQuery(this._queryTarget,"scale"),p=0;p<a;p++){if(typeof d[p].max=="number"){b=d[p].max;e=d[p].min||0;b={max:b,min:e}}else b=this._findValue(f,p,g,h,j,l,n);c[p].value=b}},_getSeriesData:function(f){for(var g=[],d,a,c=this.component.legend,b,e=0;e<this.series.length;e++){d=this.series[e];if(d.type==
m.CHART_TYPE_RADAR){a=d.data||[];for(var h=0;h<a.length;h++){b=this.deepQuery([a[h],d,this.option],"polarIndex")||0;if(b==f&&(!c||c.isSelected(a[h].name)))g.push(a[h])}}}return g},_findValue:function(f,g,d,a,c,b,e){function h(B){(B>j||j===undefined)&&(j=B);(B<l||l===undefined)&&(l=B)}var j,l,n,p;p=0;if(!(!f||f.length===0)){if(f.length==1)l=0;if(f.length!=1)for(var w=0;w<f.length;w++){n=typeof f[w].value[g].value!="undefined"?f[w].value[g].value:f[w].value[g];h(n)}else{g=f[0];for(w=0;w<g.value.length;w++)h(typeof g.value[w].value!=
"undefined"?g.value[w].value:g.value[w])}if(f.length!=1)if(e){f=this._getDelta(j,l,d,c,b);if(f>=1)l=Math.floor(l/f)*f-f;else if(f===0){if(j>0){a=0;d=2*j}else if(j===0){a=0;d=100}else{d=0;a=2*l}return{max:d,min:a}}else{p=(f+"").split(".")[1];p=p.length;l=Math.floor(l*Math.pow(10,p))/Math.pow(10,p)-f}if(Math.abs(l)<=f)l=0;j=l+Math.floor(f*Math.pow(10,p)*(d+1))/Math.pow(10,p)}else l=l>0?0:l;if(a){j=j>0?j*1.2:j*0.8;l=l>0?l*0.8:l*1.2}return{max:j,min:l}}},_getDelta:function(f,g,d,a,c){f=(f-g)/d;if(f>1)if(c){f=
Math.ceil(f);return f%c>0?(Math.ceil(f/c)+1)*c:f}else{a=(f+"").split(".")[0];c=a.length;return a.charAt(0)>=5?Math.pow(10,c):(a.charAt(0)-0+1)*Math.pow(10,c-1)}else if(f==1)return 1;else if(f===0)return 0;else if(a)return Math.ceil(f*Math.pow(10,a))/Math.pow(10,a);else{a=(f+"").split(".")[1];for(c=0;a[c]=="0";)c++;return a[c]>=5?"0."+a.substring(0,c+1)-0+1/Math.pow(10,c):"0."+a.substring(0,c+1)-0+1/Math.pow(10,c+1)}},getVector:function(f,g,d){f=f||0;g=g||0;if(!(g>=this.polar[f].__ecIndicator.length)){g=
this.polar[f].__ecIndicator[g];f=this.getCenter(f);var a=g.vector,c=g.value.max;g=g.value.min;if(typeof d=="undefined")return f;switch(d){case "min":d=g;break;case "max":d=c;break;case "center":d=(c+g)/2;break}return this._mapVector(a,f,c!=g?(d-g)/(c-g):0.5)}},isInside:function(f){if(f=this.getNearestIndex(f))return f.polarIndex;return-1},getNearestIndex:function(f){for(var g,d,a,c,b,e,h=0;h<this.polar.length;h++){g=this.polar[h];d=this.getCenter(h);if(f[0]==d[0]&&f[1]==d[1])return{polarIndex:h,valueIndex:0};
a=this._getRadius();c=g.startAngle;g=g.indicator;b=g.length;e=2*Math.PI/b;g=i.cartesian2polar(f[0]-d[0],d[1]-f[1]);if(f[0]-d[0]<0)g[1]+=Math.PI;if(g[1]<0)g[1]+=2*Math.PI;d=g[1]-c/180*Math.PI+Math.PI*2;if(Math.abs(Math.cos(d%(e/2)))*a>g[0])return{polarIndex:h,valueIndex:Math.floor((d+e/2)/e)%b}}},getIndicator:function(f){f=f||0;return this.polar[f].indicator},refresh:function(f){if(f){this.option=f;this.polar=this.option.polar;this.series=this.option.series}this.clear();this._buildShape()}};k.inherits(x,
A);t("../component").define("polar",x);return x});V("echarts/chart/radar",["require","../component/base","./base","zrender/shape/Polygon","../component/polar","../config","../util/ecData","zrender/tool/util","zrender/tool/color","../util/accMath","../chart"],function(t){function x(k,i,f,g,d){A.call(this,k,i,f,g,d);s.call(this);this.refresh(g)}var A=t("../component/base"),s=t("./base"),q=t("zrender/shape/Polygon");t("../component/polar");var r=t("../config"),o=t("../util/ecData"),v=t("zrender/tool/util"),
m=t("zrender/tool/color");x.prototype={type:r.CHART_TYPE_RADAR,_buildShape:function(){this.selectedMap={};this._symbol=this.option.symbolList;this._dropBoxList=[];this._radarDataCounter=0;for(var k=this.series,i=this.component.legend,f,g=0,d=k.length;g<d;g++)if(k[g].type===r.CHART_TYPE_RADAR){this.serie=this.reformOption(k[g]);f=this.serie.name||"";this.selectedMap[f]=i?i.isSelected(f):true;if(this.selectedMap[f]){this._queryTarget=[this.serie,this.option];this.deepQuery(this._queryTarget,"calculable")&&
this._addDropBox(g);this._buildSingleRadar(g);this.buildMark(g)}}this.addShapeList()},_buildSingleRadar:function(k){for(var i=this.component.legend,f,g=this.serie.data,d,a,c=this.deepQuery(this._queryTarget,"calculable"),b=0;b<g.length;b++){a=g[b].name||"";this.selectedMap[a]=i?i.isSelected(a):true;if(this.selectedMap[a]){if(i){d=i.getColor(a);if(f=i.getItemShape(a)){f.style.brushType=this.deepQuery([g[b],this.serie],"itemStyle.normal.areaStyle")?"both":"stroke";i.setItemShape(a,f)}}else d=this.zr.getColor(b);
f=this._getPointList(this.serie.polarIndex,g[b]);this._addSymbol(f,d,b,k,this.serie.polarIndex);this._addDataShape(f,d,g[b],k,b,c);this._radarDataCounter++}}},_getPointList:function(k,i){for(var f=[],g,d=this.component.polar,a=0,c=i.value.length;a<c;a++)(g=d.getVector(k,a,typeof i.value[a].value!="undefined"?i.value[a].value:i.value[a]))&&f.push(g);return f},_addSymbol:function(k,i,f,g,d){for(var a=this.series,c,b=this.component.polar,e=0,h=k.length;e<h;e++){c=this.getSymbolShape(this.deepMerge([a[g].data[f],
a[g]]),g,a[g].data[f].value[e],e,b.getIndicatorText(d,e),k[e][0],k[e][1],this._symbol[this._radarDataCounter%this._symbol.length],i,"#fff","vertical");c.zlevel=this._zlevelBase+1;o.set(c,"data",a[g].data[f]);o.set(c,"value",a[g].data[f].value);o.set(c,"dataIndex",f);o.set(c,"special",e);this.shapeList.push(c)}},_addDataShape:function(k,i,f,g,d,a){var c=this.series,b=[f,this.serie],e=this.getItemStyleColor(this.deepQuery(b,"itemStyle.normal.color"),g,d,f),h=this.deepQuery(b,"itemStyle.normal.lineStyle.width"),
j=this.deepQuery(b,"itemStyle.normal.lineStyle.type"),l=this.deepQuery(b,"itemStyle.normal.areaStyle.color"),n=this.deepQuery(b,"itemStyle.normal.areaStyle");k={zlevel:this._zlevelBase,style:{pointList:k,brushType:n?"both":"stroke",color:l||e||(typeof i==="string"?m.alpha(i,0.5):i),strokeColor:e||i,lineWidth:h,lineType:j},highlightStyle:{brushType:this.deepQuery(b,"itemStyle.emphasis.areaStyle")||n?"both":"stroke",color:this.deepQuery(b,"itemStyle.emphasis.areaStyle.color")||l||e||(typeof i==="string"?
m.alpha(i,0.5):i),strokeColor:this.getItemStyleColor(this.deepQuery(b,"itemStyle.emphasis.color"),g,d,f)||e||i,lineWidth:this.deepQuery(b,"itemStyle.emphasis.lineStyle.width")||h,lineType:this.deepQuery(b,"itemStyle.emphasis.lineStyle.type")||j}};o.pack(k,c[g],g,f,d,f.name,this.component.polar.getIndicator(c[g].polarIndex));if(a){k.draggable=true;this.setCalculable(k)}k=new q(k);this.shapeList.push(k)},_addDropBox:function(k){var i=this.series,f=this.deepQuery(this._queryTarget,"polarIndex");if(!this._dropBoxList[f]){var g=
this.component.polar.getDropBox(f);g.zlevel=this._zlevelBase;this.setCalculable(g);o.pack(g,i,k,undefined,-1);this.shapeList.push(g);this._dropBoxList[f]=true}},ondragend:function(k,i){var f=this.series;if(this.isDragend&&k.target){var g=k.target;k=o.get(g,"seriesIndex");g=o.get(g,"dataIndex");this.component.legend&&this.component.legend.del(f[k].data[g].name);f[k].data.splice(g,1);i.dragOut=true;i.needRefresh=true;this.isDragend=false}},ondrop:function(k,i){var f=this.series;if(this.isDrop&&k.target){var g=
k.target;k=k.dragged;var d=o.get(g,"seriesIndex"),a=o.get(g,"dataIndex");g=this.component.legend;if(a===-1){a={value:o.get(k,"value"),name:o.get(k,"name")};f[d].data.push(a)}else{var c=t("../util/accMath");a=f[d].data[a];g&&g.del(a.name);a.name+=this.option.nameConnector+o.get(k,"name");f=o.get(k,"value");for(d=0;d<f.length;d++)a.value[d]=c.accAdd(a.value[d],f[d])}g&&g.add(a.name,k.style.color||k.style.strokeColor);i.dragIn=i.dragIn||true;this.isDrop=false}},refresh:function(k){if(k){this.option=
k;this.series=k.series}this.backupShapeList();this._buildShape()}};v.inherits(x,s);v.inherits(x,A);t("../chart").define("radar",x);return x});V("zrender/shape/util/PathProxy",["require","../../tool/vector"],function(t){var x=t("../../tool/vector"),A=function(s,q){this.command=s;this.points=q||null};t=function(){this.pathCommands=[];this._ctx=null;this._min=[];this._max=[]};t.prototype.fastBoundingRect=function(){var s=this._min,q=this._max;s[0]=s[1]=Infinity;q[0]=q[1]=-Infinity;for(var r=0;r<this.pathCommands.length;r++){var o=
this.pathCommands[r],v=o.points;switch(o.command){case "M":x.min(s,s,v);x.max(q,q,v);break;case "L":x.min(s,s,v);x.max(q,q,v);break;case "C":for(o=0;o<6;o+=2){s[0]=Math.min(s[0],s[0],v[o]);s[1]=Math.min(s[1],s[1],v[o+1]);q[0]=Math.max(q[0],q[0],v[o]);q[1]=Math.max(q[1],q[1],v[o+1])}break;case "Q":for(o=0;o<4;o+=2){s[0]=Math.min(s[0],s[0],v[o]);s[1]=Math.min(s[1],s[1],v[o+1]);q[0]=Math.max(q[0],q[0],v[o]);q[1]=Math.max(q[1],q[1],v[o+1])}break;case "A":o=v[0];var m=v[1],k=v[2];v=v[3];s[0]=Math.min(s[0],
s[0],o-k);s[1]=Math.min(s[1],s[1],m-v);q[0]=Math.max(q[0],q[0],o+k);q[1]=Math.max(q[1],q[1],m+v);break}}return{x:s[0],y:s[1],width:q[0]-s[0],height:q[1]-s[1]}};t.prototype.begin=function(s){this._ctx=s||null;this.pathCommands.length=0;return this};t.prototype.moveTo=function(s,q){this.pathCommands.push(new A("M",[s,q]));this._ctx&&this._ctx.moveTo(s,q);return this};t.prototype.lineTo=function(s,q){this.pathCommands.push(new A("L",[s,q]));this._ctx&&this._ctx.lineTo(s,q);return this};t.prototype.bezierCurveTo=
function(s,q,r,o,v,m){this.pathCommands.push(new A("C",[s,q,r,o,v,m]));this._ctx&&this._ctx.bezierCurveTo(s,q,r,o,v,m);return this};t.prototype.quadraticCurveTo=function(s,q,r,o){this.pathCommands.push(new A("A",[s,q,r,o]));this._ctx&&this._ctx.quadraticCurveTo(s,q,r,o);return this};t.prototype.arc=function(s,q,r,o,v,m){this.pathCommands.push(new A("A",[s,q,r,r,o,v-o,0,m?0:1]));this._ctx&&this._ctx.arc(s,q,r,o,v,m);return this};t.prototype.arcTo=function(s,q,r,o,v){this._ctx&&this._ctx.arcTo(s,q,
r,o,v);return this};t.prototype.rect=function(s,q,r,o){this._ctx&&this._ctx.rect(s,q,r,o);return this};t.prototype.closePath=function(){this.pathCommands.push(new A("z"));this._ctx&&this._ctx.closePath();return this};t.prototype.isEmpty=function(){return this.pathCommands.length===0};t.PathSegment=A;return t});V("echarts/util/shape/Ribbon",["require","zrender/shape/Base","zrender/shape/util/PathProxy","zrender/tool/util","zrender/tool/area"],function(t){function x(o){A.call(this,o);this._pathProxy=
new s}var A=t("zrender/shape/Base"),s=t("zrender/shape/util/PathProxy"),q=t("zrender/tool/util"),r=t("zrender/tool/area");x.prototype={type:"chord",buildPath:function(o,v){var m=this._pathProxy;m.begin(o);var k=Math.PI*2;o=v.x;var i=v.y,f=v.r,g=v.source0/180*Math.PI,d=v.source1/180*Math.PI,a=v.target0/180*Math.PI,c=v.target1/180*Math.PI,b=o+Math.cos(k-g)*f,e=i-Math.sin(k-g)*f,h=o+Math.cos(k-d)*f,j=i-Math.sin(k-d)*f,l=o+Math.cos(k-a)*f,n=i-Math.sin(k-a)*f,p=o+Math.cos(k-c)*f;k=i-Math.sin(k-c)*f;m.moveTo(b,
e);m.arc(o,i,v.r,g,d,false);m.bezierCurveTo((o-h)*0.7+h,(i-j)*0.7+j,(o-l)*0.7+l,(i-n)*0.7+n,l,n);if(!(v.source0===v.target0&&v.source1===v.target1)){m.arc(o,i,v.r,a,c,false);m.bezierCurveTo((o-p)*0.7+p,(i-k)*0.7+k,(o-b)*0.7+b,(i-e)*0.7+e,b,e)}},getRect:function(o){if(o.__rect)return o.__rect;this._pathProxy.isEmpty()||this.buildPath(null,o);return this._pathProxy.fastBoundingRect()},isCover:function(o,v){var m=this.getRect(this.style);if(o>=m.x&&o<=m.x+m.width&&v>=m.y&&v<=m.y+m.height)return r.isInsidePath(this._pathProxy.pathCommands,
0,"fill",o,v)}};q.inherits(x,A);return x});V("echarts/util/kwargs",[],function(){function t(x,A){var s=new RegExp("(\\/\\*[\\w\\'\\,\\(\\)\\s\\r\\n\\*]*\\*\\/)|(\\/\\/[\\w\\s\\'][^\\n\\r]*$)|(<![\\-\\-\\s\\w\\>\\/]*>)","gim"),q=new RegExp("\\s+","gim"),r=x.toString().replace(s,"").replace(q,"").match(/function.*?\((.*?)\)/i)[1].split(",");if(A!==Object(A))A={};return function(){var o=Array.prototype.slice.call(arguments),v=o[o.length-1];if(v&&v.constructor===Object)o.pop();else v={};for(var m=0;m<
r.length;m++){var k=r[m];if(k in v)o[m]=v[k];else if(k in A&&o[m]==null)o[m]=A[k]}return x.apply(this,o)}}return t});V("echarts/util/ndarray",["require","./kwargs"],function(t){function x(b){if(typeof b==="undefined")return"number";switch(Object.prototype.toString.call(b)){case "[object Int32Array]":return"int32";case "[object Int16Array]":return"int16";case "[object Int8Array]":return"int8";case "[object Uint32Array]":return"uint32";case "[object Uint16Array]":return"uint16";case "[object Uint8Array]":return"uint8";
case "[object Uint8ClampedArray]":return"uint8c";case "[object Float32Array]":return"float32";case "[object Float64Array]":return"float64";default:return"number"}}function A(b,e){if(b.indexOf(":")>=0){b=b.split(/\s*:\s*/);var h=parseInt(b[2]||1,10),j,l;if(h===0)throw new Error("Slice step cannot be zero");else if(h>0){j=parseInt(b[0]||0,10);l=parseInt(b[1]||e,10)}else{j=parseInt(b[0]||e-1,10);l=parseInt(b[1]||-1,10)}if(j<0)j=e+j;if(l<0&&b[1])l=e+l;if(h>0){j=Math.max(Math.min(e,j),0);l=Math.max(Math.min(e,
l),0)}else{j=Math.max(Math.min(e-1,j),-1);l=Math.max(Math.min(e-1,l),-1)}return[j,l,h]}else{j=parseInt(b,10);if(j<0)j=e+j;if(j<0||j>e)throw new Error(f(b));j=Math.max(Math.min(e-1,j),0);return[j,j+1,1]}}function s(b){for(var e=b[0],h=1;h<b.length;h++)e*=b[h];return e}function q(b){var e=1;for(b=b[0];b instanceof Array;){b=b[0];e++}return e}function r(b){var e=[b.length];for(b=b[0];b instanceof Array;){e.push(b.length);b=b[0]}return e}function o(b,e){if(e==b.length-1)return 1;var h=b[e+1];for(e=e+
2;e<b.length;e++)h*=b[e];return h}function v(b){for(var e=[],h=1,j=s(b),l=0;l<b.length;l++){h*=b[l];e.push(j/h)}return e}function m(b,e){if(b.length!==e.length)return false;for(var h=0;h<b.length;h++)if(b[h]!==e[h])return false;return true}function k(b,e){return"Shape ("+b.toString()+") ("+e.toString()+") could not be broadcast together"}function i(b){return"Axis "+b+" out of bounds"}function f(b){return"Index "+b+" out of bounds"}t=t("./kwargs");var g=Array.prototype.slice;this.Int32Array=window.Int32Array||
Array;this.Int16Array=window.Int16Array||Array;this.Int8Array=window.Int8Array||Array;this.Uint32Array=window.Uint32Array||Array;this.Uint16Array=window.Uint16Array||Array;this.Uint8Array=window.Uint8Array||Array;this.Float32Array=window.Float32Array||Array;this.Float64Array=window.Float64Array||Array;var d={int32:this.Int32Array,int16:this.Int16Array,int8:this.Int8Array,uint32:this.Uint32Array,uint16:this.Uint16Array,uint8:this.Uint8Array,uint8c:this.Uint8ClampedArray,float32:this.Float32Array,float64:this.Float64Array,
number:Array},a={int32:4,int16:2,int8:1,uint32:4,uint16:2,uint8:1,uint8c:1,float32:4,float64:8,number:1},c=function(b){var e=arguments[arguments.length-1];this._dtype=typeof e=="string"?e:x(b);if(b&&typeof b!=="string")if(b instanceof c){b._dtype=this._dtype;return b}else if(typeof b.length!=="undefined")this.initFromArray(b);else typeof b==="number"&&this.initFromShape.apply(this,arguments);else{this._array=new d[this._dtype];this._shape=[0];this._size=0}};c.prototype={initFromArray:function(b){function e(p,
w,B){for(var y=B.length,C=0;C<y;C++)if(p<h-1)e(p+1,w,B[C]);else w[j++]=B[C]}var h=q(b),j=0,l=r(b),n=s(l);this._array=new d[this._dtype](n);e(0,this._array,b);this._shape=l;this._size=n;return this},initFromShape:function(b){if(typeof b=="number")b=Array.prototype.slice.call(arguments);if(b){var e=s(b);if(this._dtype==="number")for(var h=this._array=[],j=0;j<e;j++)h[j]=0;else this._array=new d[this._dtype](e)}this._shape=b;this._size=s(b);return this},fill:function(b){for(var e=this._array,h=0;h<e.length;h++)e[h]=
b;return this},shape:function(){return this._shape.slice()},size:function(){return this._size},dtype:function(){return this._dtype},dimension:function(){return this._shape.length},strides:function(){for(var b=v(this._shape),e=a[this._dtype],h=0;h<b.length;h++)b[h]*=e;return b},reshape:function(b){if(typeof b=="number")b=Array.prototype.slice.call(arguments);if(this._isShapeValid(b))this._shape=b;else throw new Error("Total size of new array must be unchanged");return this},_isShapeValid:function(b){return s(b)===
this._size},resize:function(b){if(typeof b=="number")b=Array.prototype.slice.call(arguments);var e=s(b);if(e<this._size){if(this._dtype==="number")this._array.length=e}else if(this._dtype==="number")for(var h=this._array.length;h<e;h++)this._array[h]=0;else{var j=new d[this._dtype](e),l=this._array;for(h=0;h<l.length;h++)j[h]=l[h];this._array=j}this._shape=b;this._size=e;return this},transpose:t(function(b,e){for(var h=[],j=0;j<this._shape.length;j++)h.push(j);if(typeof b==="undefined")b=h.slice();
for(j=0;j<b.length;j++)if(b[j]>=this._shape.length)throw new Error(i(b[j]));if(b.length<=1)return this;h=h.slice();for(j=0;j<Math.floor(b.length/2);j++)for(var l=b.length-1;l>=Math.ceil(b.length/2);l--){h[b[j]]=b[l];h[b[l]]=b[j]}return this._transposelike(h,e)}),swapaxes:t(function(b,e,h){return this.transpose([b,e],h)}),rollaxis:t(function(b,e,h){if(b>=this._shape.length)throw new Error(i(b));for(var j=[],l=0;l<this._shape.length;l++)j.push(l);j.splice(b,1);j.splice(e,0,b);return this._transposelike(j,
h)},{start:0}),_transposelike:function(b,e){function h(D,F,O){var T=l[D],N=n[D],Y=z[D];if(D<p-1)for(var I=0;I<T;I++)h(D+1,F+N*I,O+Y*I);else for(I=0;I<T;I++)u[O+I]=j[F+N*I]}for(var j=this._array,l=this._shape.slice(),n=v(this._shape),p=l.length,w=[],B=[],y=0;y<b.length;y++){var C=b[y];B[y]=l[C];w[y]=n[C]}n=w;this._shape=l=B;var z=v(this._shape);if(!e){e=new c;e._shape=this._shape.slice();e._dtype=this._dtype;e._size=this._size}var u=new d[this._dtype](this._size);e._array=u;h(0,0,0);return e},repeat:t(function(b,
e,h){var j;if(typeof e==="undefined"){j=[this._size];e=0}else j=this._shape.slice();var l=j.slice();j[e]*=b;if(h){if(!m(j,h._shape))throw new Error(k(j,h._shape));}else{h=new c(this._dtype);h.initFromShape(j)}j=h._array;var n=o(l,e);e=l[e];l=this._array;for(var p=n*e,w=0;w<this._size;w+=p)for(var B=0;B<n;B++)for(var y=w+B,C=w*b+B,z=0;z<e;z++){for(var u=0;u<b;u++){j[C]=l[y];C+=n}y+=n}return h}),choose:function(){console.warn("TODO")},take:function(){console.warn("TODO")},tile:function(){console.warn("TODO")},
_withPreprocess1:function(b,e,h,j){var l=this._array;if(this._size)if(typeof b!=="undefined"){if(b<0)b=this._shape.length+b;if(b>=this._shape.length||b<0)throw new Error(i(b));j=this._shape.slice();j.splice(b,1);if(e&&!m(j,e._shape))throw new Error(k(j,e._shape));if(!e){e=new c(this._dtype);e.initFromShape(j)}j=e._array;var n=o(this._shape,b);b=this._shape[b];h.call(this,j,l,n*b,b,n);return e}else return j.call(this,l)},_withPreprocess2:function(b,e,h,j){var l=this._array;if(this._size){if(e&&!m(this._shape,
e._shape))throw new Error(k(this._shape,e._shape));if(!e){e=new c(this._dtype);e.initFromShape(this._shape)}var n=e._array;if(typeof b!=="undefined"){if(b<0)b=this._shape.length+b;if(b>=this._shape.length||b<0)throw new Error(i(b));if(b>=this._shape.length)throw new Error(i(b));j=o(this._shape,b);b=this._shape[b];h.call(this,n,l,j*b,b,j)}else{e.reshape([this._size]);j.call(this,n,l)}return e}},max:t(function(){function b(h,j,l,n,p){for(var w=0,B=0;B<this._size;B+=l)for(var y=0;y<p;y++){for(var C=
y+B,z=j[C],u=0;u<n;u++){var D=j[C];if(D>z)z=D;C+=p}h[w++]=z}}function e(h){for(var j=h[0],l=1;l<this._size;l++)if(h[l]>j)j=h[l];return j}return function(h,j){return this._withPreprocess1(h,j,b,e)}}()),min:t(function(){function b(h,j,l,n,p){for(var w=0,B=0;B<this._size;B+=l)for(var y=0;y<p;y++){for(var C=y+B,z=j[C],u=0;u<n;u++){var D=j[C];if(D<z)z=D;C+=p}h[w++]=z}}function e(h){for(var j=h[0],l=1;l<this._size;l++)if(h[l]<j)j=h[l];return j}return function(h,j){return this._withPreprocess1(h,j,b,e)}}()),
argmax:t(function(){function b(h,j,l,n,p){for(var w=0,B=0;B<this._size;B+=l)for(var y=0;y<p;y++){for(var C=0,z=y+B,u=j[z],D=0;D<n;D++){var F=j[z];if(F>u){u=F;C=D}z+=p}h[w++]=C}}function e(h){for(var j=h[0],l=0,n=1;n<this._size;n++)if(h[n]>j){l=n;j=h[n]}return l}return function(h,j){return this._withPreprocess1(h,j,b,e)}}()),argmin:t(function(){function b(h,j,l,n,p){for(var w=0,B=0;B<this._size;B+=l)for(var y=0;y<p;y++){for(var C=0,z=y+B,u=j[z],D=0;D<n;D++){var F=j[z];if(F<u){u=F;C=D}z+=p}h[w++]=C}}
function e(h){for(var j=h[0],l=0,n=1;n<this._size;n++)if(h[n]<j){l=n;j=h[n]}return l}return function(h,j){return this._withPreprocess1(h,j,b,e)}}()),sum:t(function(){function b(h,j,l,n,p){for(var w=0,B=0;B<this._size;B+=l)for(var y=0;y<p;y++){for(var C=0,z=y+B,u=0;u<n;u++){C+=j[z];z+=p}h[w++]=C}}function e(h){for(var j=0,l=0;l<this._size;l++)j+=h[l];return j}return function(h,j){return this._withPreprocess1(h,j,b,e)}}()),prod:t(function(){function b(h,j,l,n,p){for(var w=0,B=0;B<this._size;B+=l)for(var y=
0;y<p;y++){for(var C=1,z=y+B,u=0;u<n;u++){C*=j[z];z+=p}h[w++]=C}}function e(h){for(var j=1,l=0;l<this._size;l++)j*=h[l];return j}return function(h,j){return this._withPreprocess1(h,j,b,e)}}()),mean:t(function(){function b(h,j,l,n,p){for(var w=0,B=0;B<this._size;B+=l)for(var y=0;y<p;y++){for(var C=0,z=y+B,u=0;u<n;u++){C+=j[z];z+=p}C=C/n;h[w++]=C}}function e(h){for(var j=0,l=h.length,n=0;n<l;n++)j+=h[n];return j/l}return function(h,j){return this._withPreprocess1(h,j,b,e)}}()),"var":t(function(){function b(h,
j,l,n,p){for(var w=0,B=0;B<this._size;B+=l)for(var y=0;y<p;y++){for(var C=0,z=y+B,u=0;u<n;u++){C+=j[z];z+=p}C=C/n;var D=0;z=y+B;for(u=0;u<n;u++){var F=j[z]-C;D+=F*F;z+=p}h[w++]=D/n}}function e(h){for(var j=0,l=h.length,n=0;n<l;n++)j+=h[n];j=j/l;var p=0;for(n=0;n<l;n++){var w=h[n]-j;p+=w*w}return p/l}return function(h,j){return this._withPreprocess1(h,j,b,e)}}()),std:t(function(){function b(h,j,l,n,p){for(var w=0,B=0;B<this._size;B+=l)for(var y=0;y<p;y++){for(var C=0,z=y+B,u=0;u<n;u++){C+=j[z];z+=
p}C=C/n;var D=0;z=y+B;for(u=0;u<n;u++){var F=j[z]-C;D+=F*F;z+=p}h[w++]=Math.sqrt(D/n)}}function e(h){for(var j=0,l=h.length,n=0;n<l;n++)j+=h[n];j=j/l;var p=0;for(n=0;n<l;n++){var w=h[n]-j;p+=w*w}return Math.sqrt(p/l)}return function(h,j){return this._withPreprocess1(h,j,b,e)}}()),ptp:t(function(){function b(h,j,l,n,p){for(var w=0,B=0;B<this._size;B+=l)for(var y=0;y<p;y++){for(var C=B+y,z=j[C],u=j[C],D=0;D<n;D++){var F=j[C];if(F<z)z=F;if(F>u)u=F;C+=p}h[w++]=u-z}}function e(h){for(var j=h[0],l=h[0],
n=1;n<this._size;n++){if(h[n]<j)j=h[n];if(h[n]>l)l=h[n]}return l-j}return function(h,j){return this._withPreprocess1(h,j,b,e)}}()),sort:t(function(b,e){if(b<0)b=this._shape.length+b;var h;if(e==="ascending")h=function(C,z){return C-z};else if(e==="descending")h=function(C,z){return z-C};e=this._array;var j=o(this._shape,b);b=this._shape[b];for(var l=j*b,n=new Array(b),p=0;p<this._size;p+=l)for(var w=0;w<j;w++){for(var B=p+w,y=0;y<b;y++){n[y]=e[B];B+=j}n.sort(h);B=p+w;for(y=0;y<b;y++){e[B]=n[y];B+=
j}}return this},{axis:-1,order:"ascending"}),argsort:t(function(b,e,h){if(b<0)b=this._shape.length+b;if(this._size){if(h&&!m(this._shape,h._shape))throw new Error(k(this._shape,h._shape));if(!h){h=new c(this._dtype);h.initFromShape(this._shape)}var j=h._array,l;if(e==="ascending")l=function(D,F){return w[D]-w[F]};else if(e==="descending")l=function(D,F){return w[F]-w[D]};e=this._array;var n=o(this._shape,b);b=this._shape[b];for(var p=n*b,w=new Array(b),B=new Array(b),y=0;y<this._size;y+=p)for(var C=
0;C<n;C++){for(var z=y+C,u=0;u<b;u++){w[u]=e[z];B[u]=u;z+=n}B.sort(l);z=y+C;for(u=0;u<b;u++){j[z]=B[u];z+=n}}return h}},{axis:-1,order:"ascending"}),cumsum:t(function(){function b(h,j,l,n,p){for(var w=0;w<this._size;w+=l)for(var B=0;B<p;B++){var y=w+B,C=y;h[y]=j[y];for(var z=1;z<n;z++){C=y;y+=p;h[y]=h[C]+j[y]}}}function e(h,j){h[0]=j[0];for(var l=1;l<h.length;l++)h[l]=h[l-1]+j[l]}return function(h,j){return this._withPreprocess2(h,j,b,e)}}()),cumprod:t(function(){function b(h,j,l,n,p){for(var w=0;w<
this._size;w+=l)for(var B=0;B<p;B++){var y=w+B,C=y;h[y]=j[y];for(var z=1;z<n;z++){C=y;y+=p;h[y]=h[C]*j[y]}}}function e(h,j){h[0]=j[0];for(var l=1;l<h.length;l++)h[l]=h[l-1]*j[l]}return function(h,j){return this._withPreprocess2(h,j,b,e)}}()),dot:function(){console.warn("TODO")},map:function(b,e){for(var h=this._array,j=this._array,l=h[0],n=h[0],p=this._size,w=1;w<p;w++){var B=h[w];if(B<l)l=B;if(B>n)n=B}n=n-l;e=e-b;for(w=0;w<p;w++)if(n===0)j[w]=b;else{B=h[w];j[w]=e*((B-l)/n)+b}return this},add:function(b,
e){return this.binaryOperation(this,b,0,e)},sub:function(b,e){return this.binaryOperation(this,b,1,e)},mul:function(b,e){return this.binaryOperation(this,b,2,e)},div:function(b,e){return this.binaryOperation(this,b,3,e)},mod:function(b,e){return this.binaryOperation(this,b,4,e)},and:function(b,e){return this.binaryOperation(this,b,5,e)},or:function(b,e){return this.binaryOperation(this,b,6,e)},xor:function(b,e){return this.binaryOperation(this,b,7,e)},equal:function(b,e){return this.binaryOperation(this,
b,8,e)},binaryOperation:function(b,e,h,j){var l=[],n=typeof b==="number",p=typeof e==="number";if(n)l=e._shape.slice();else if(p)l=b._shape.slice();else{for(var w=b._shape.length-1,B=e._shape.length-1,y=b,C=e;w>=0&&B>=0;){if(b._shape[w]==1){l.unshift(e._shape[B]);y=b.repeat(e._shape[B],w)}else if(e._shape[B]==1){l.unshift(b._shape[w]);C=e.repeat(b._shape[w],B)}else if(e._shape[B]==b._shape[w])l.unshift(b._shape[w]);else throw new Error(k(b._shape,e._shape));w--;B--}for(w=w;w>=0;w--)l.unshift(b._shape[w]);
for(w=B;w>=0;w--)l.unshift(e._shape[w]);b=y;e=C}if(j){if(!m(l,j._shape))throw new Error(k(l,j._shape));}else{j=new c(this._dtype);j.initFromShape(l)}B=j._array;if(n){y=e._shape.length-1;w=false;b=b;e=e._array}else if(p){y=b._shape.length-1;w=true;e=e;b=b._array}else{y=Math.abs(b._shape.length-e._shape.length);w=b._shape.length>=e._shape.length;b=b._array;e=e._array}l=o(l,y)*l[y];y=j._size/l;var z;C=0;if(w)if(p)for(n=0;n<y;n++)for(w=0;w<l;w++){p=b[C];z=e;switch(h){case 0:p=p+z;break;case 1:p=p-z;break;
case 2:p=p*z;break;case 3:p=p/z;break;case 4:p=p%z;break;case 5:p=p&z;break;case 6:p=p|z;break;case 7:p=p^z;break;case 8:p=p==z;break;default:throw new Error("Unkown operation "+h);}B[C]=p;C++}else for(n=0;n<y;n++)for(w=0;w<l;w++){p=b[C];z=e[w];switch(h){case 0:p=p+z;break;case 1:p=p-z;break;case 2:p=p*z;break;case 3:p=p/z;break;case 4:p=p%z;break;case 5:p=p&z;break;case 6:p=p|z;break;case 7:p=p^z;break;case 8:p=p==z;break;default:throw new Error("Unkown operation "+h);}B[C]=p;C++}else if(n)for(n=
0;n<y;n++)for(w=0;w<l;w++){p=b;z=e[C];switch(h){case 0:p=p+z;break;case 1:p=p-z;break;case 2:p=p*z;break;case 3:p=p/z;break;case 4:p=p%z;break;case 5:p=p&z;break;case 6:p=p|z;break;case 7:p=p^z;break;case 8:p=p==z;break;default:throw new Error("Unkown operation "+h);}B[C]=p;C++}else for(n=0;n<y;n++)for(w=0;w<l;w++){p=b[C];z=e[w];switch(h){case 0:p=p+z;break;case 1:p=p-z;break;case 2:p=p*z;break;case 3:p=p/z;break;case 4:p=p%z;break;case 5:p=p&z;break;case 6:p=p|z;break;case 7:p=p^z;break;case 8:p=
p==z;break;default:throw new Error("Unkown operation "+h);}B[C]=p;C++}return j},neg:function(){for(var b=this._array,e=0;e<this._size;e++)b[e]=-b[e];return this},sin:function(){return this._mathAdapter(Math.sin)},cos:function(){return this._mathAdapter(Math.cos)},tan:function(){return this._mathAdapter(Math.tan)},abs:function(){return this._mathAdapter(Math.abs)},log:function(){return this._mathAdapter(Math.log)},sqrt:function(){return this._mathAdapter(Math.sqrt)},ceil:function(){return this._mathAdapter(Math.ceil)},
floor:function(){return this._mathAdapter(Math.floor)},pow:function(b){for(var e=this._array,h=0;h<this._size;h++)e[h]=Math.pow(e[h],b);return this},_mathAdapter:function(b){for(var e=this._array,h=0;h<this._size;h++)e[h]=b(e[h]);return this},round:function(b){b=Math.floor(b||0);var e=Math.pow(10,b),h=this._array;if(b===0)for(b=0;b<this._size;b++)h[b]=Math.round(h[b]);else for(b=0;b<this._size;b++)h[b]=Math.round(h[b]*e)/e;return this},clip:function(b,e){for(var h=this._array,j=0;j<this._size;j++)h[j]=
Math.max(Math.min(h[j],e),b);return this},get:function(b,e){function h(y,C){var z=l[y],u=j[y];if(y<n-1)if(z[2]>0)for(var D=z[0];D<z[1];D+=z[2])h(y+1,C+u*D);else for(D=z[0];D>z[1];D+=z[2])h(y+1,C+u*D);else if(z[2]>0)for(D=z[0];D<z[1];D+=z[2])for(y=0;y<u;y++)p[B++]=w[D*u+y+C];else for(D=z[0];D>z[1];D+=z[2])for(y=0;y<u;y++)p[B++]=w[D*u+y+C]}if(typeof b=="number")b=b.toString();var j=v(this._shape);b=this._parseRanges(b);var l=b[0];b=b[1];if(l.length>this._shape.length)throw new Error("Too many indices");
var n=l.length,p;if(b.length){e=new c(this._dtype);e.initFromShape(b);p=e._array}else p=[];var w=this._array,B=0;h(0,0);return b.length?e:p[0]},set:function(b,e){if(typeof b=="number")b=b.toString();var h=v(this._shape);b=this._parseRanges(b);var j=b[0];b=b[1];if(j.length>this._shape.length)throw new Error("Too many indices");var l=typeof e=="number",n=j.length,p=this._array;if(l)var w=e;else{if(!m(b,e.shape()))throw new Error(k(b,e.shape()));w=e._array}var B=0,y=function(C,z){var u=j[C],D=h[C];if(C<
n-1)if(u[2]>0)for(var F=u[0];F<u[1];F+=u[2])y(C+1,z+D*F);else for(F=u[0];F>u[1];F+=u[2])y(C+1,z+D*F);else if(u[2]>0)for(F=u[0];F<u[1];F+=u[2])for(C=0;C<D;C++)p[F*D+C+z]=l?w:w[B++];else for(F=u[0];F>u[1];F+=u[2])for(C=0;C<D;C++)p[F*D+C+z]=l?w:w[B++]};y(0,0);return this},insert:t(function(b,e,h){var j=this._array,l=false;if(typeof b==="number"){b=[b];l=true}if(typeof e==="number")e=new c([e]);else if(e instanceof Array)e=new c(e);if(typeof h==="undefined"){this._shape=[this._size];h=0}j=b[0];for(var n=
this._shape[h],p=0;p<b.length;p++){if(b[p]<0)b[p]=n+b[p];if(b[p]>n)throw new Error(f(b[p]));if(b[p]<j)throw new Error("Index must be in ascending order");j=b[p]}p=this._shape.slice();if(l)p.splice(h,1);else p[h]=b.length;l=e._shape;n=l.length-1;j=p.length-1;for(var w=e;n>=0&&j>=0;){if(l[n]===1)w=e.repeat(p[j],n);else if(l[n]!==p[j])throw new Error(k(l,p));n--;j--}e=w;l=o(this._shape,h);n=this._shape[h];j=n*l;w=b.length;n=new Uint32Array(this._size/j*w);for(var B=0,y=0;y<this._size;y+=j)for(p=0;p<
w;p++){var C=b[p];n[B++]=y+C*l}w=this._shape.slice();w[h]+=b.length;b=s(w);j=this._array.length<b?new d[this._dtype](b):this._array;h=this._array;B=e._array;y=n.length-1;C=this._size;for(var z=n[y],u=b-1,D=e._size-1;y>=0;){for(p=C-1;p>=z;p--)j[u--]=h[p];C=z;z=n[--y];for(p=0;p<l;p++){if(D<0)D=e._size-1;j[u--]=B[D--]}}for(p=C-1;p>=0;p--)j[u--]=h[p];this._array=j;this._shape=w;this._size=b;return this}),append:function(){console.warn("TODO")},"delete":t(function(b,e){var h=this._array;if(typeof b===
"number")b=[b];var j=this._size;if(typeof e==="undefined"){this._shape=[j];e=0}for(var l=o(this._shape,e),n=this._shape[e],p=l*n,w=0,B=0;B<j;B+=p){for(var y=0,C=b[0],z=0;z<b.length;){if(C<0)C+=n;if(C>n)throw new Error(f(C));if(C<y)throw new Error("Index must be in ascending order");for(y=y;y<C;y++)for(var u=0;u<l;u++)h[w++]=h[y*l+u+B];y=C+1;C=b[++z]}for(y=y;y<n;y++)for(u=0;u<l;u++)h[w++]=h[y*l+u+B]}this._shape[e]-=b.length;this._size=s(this._shape);return this}),_parseRanges:function(b){b=b.split(/\s*,\s*/);
for(var e=[],h=[],j=0,l=0;l<b.length;l++)if(b[l]==="...")for(var n=this._shape.length-(b.length-l);j<=n;){e.push([0,this._shape[j],1]);h.push(this._shape[j]);j++}else{n=A(b[l],this._shape[j]);e.push(n);if(b[l].indexOf(":")>=0){n=Math.floor((n[1]-n[0])/n[2]);n=n<0?0:n;h.push(n)}j++}for(;j<this._shape.length;j++)h.push(this._shape[j]);return[e,h]},toArray:function(){function b(p,w){for(var B=j[p],y=0;y<B;y++)if(p<l-1)b(p+1,w[y]=[]);else w[y]=e[h++]}var e=this._array,h=0,j=this._shape,l=j.length,n=[];
b(0,n);return n},copy:function(){var b=new c;b._array=g.call(this._array);b._shape=this._shape.slice();b._dtype=this._dtype;b._size=this._size;return b},constructor:c};c.range=t(function(b,e,h,j){var l=g.call(arguments),n=l[l.length-1];if(typeof n=="string"){j=n;l.pop()}if(l.length===1){e=l[0];h=1;b=0}else if(l.length==2)h=1;j=j||"number";l=new d[j](Math.ceil((e-b)/h));n=0;for(var p=b;p<e;p+=h)l[n++]=p;n=new c;n._array=l;n._shape=[l.length];n._dtype=j;n._size=l.length;return n});c.zeros=t(function(b,
e){e=new c(e);e.initFromShape(b);return e});return c});V("echarts/chart/chord",["require","../component/base","./base","zrender/shape/Text","zrender/shape/Line","zrender/shape/Sector","../util/shape/Ribbon","../config","../util/ecData","zrender/tool/util","zrender/tool/vector","../util/ndarray","../chart"],function(t){function x(a,c,b,e,h){A.call(this,a,c,b,e,h);s.call(this);this.refresh(e)}var A=t("../component/base"),s=t("./base"),q=t("zrender/shape/Text"),r=t("zrender/shape/Line"),o=t("zrender/shape/Sector"),
v=t("../util/shape/Ribbon"),m=t("../config"),k=t("../util/ecData"),i=t("zrender/tool/util"),f=t("zrender/tool/vector"),g=t("../util/ndarray"),d=window.devicePixelRatio||1;x.prototype={type:m.CHART_TYPE_CHORD,_buildShape:function(){var a=this.series;this.selectedMap={};this.chordSeries=[];this.chordSerieSample=null;for(var c=[],b=0,e=0,h=a.length;e<h;e++)if(a[e].type===this.type){if(!this.chordSerieSample){this.chordSerieSample=a[e];this.reformOption(this.chordSerieSample)}var j=this.isSelected(a[e].name);
if(this.selectedMap[a[e].name]=j){this.chordSeries.push(a[e]);this.buildMark(e);c.push(a[e].matrix);b++}}if(this.chordSerieSample){if(this.chordSeries.length){a=this.zr.getWidth();h=this.zr.getHeight();e=Math.min(a,h);this.groups=this.chordSerieSample.data;this.startAngle=this.chordSerieSample.startAngle;this.startAngle%=360;if(this.startAngle<0)this.startAngle+=360;this.clockWise=this.chordSerieSample.clockWise;this.innerRadius=this.parsePercent(this.chordSerieSample.radius[0],e/2);this.outerRadius=
this.parsePercent(this.chordSerieSample.radius[1],e/2);this.padding=this.chordSerieSample.padding;this.sortGroups=this.chordSerieSample.sort;this.sortSubGroups=this.chordSerieSample.sortSub;this.showScale=this.chordSerieSample.showScale;this.showScaleText=this.chordSerieSample.showScaleText;this.center=[this.parsePercent(this.chordSerieSample.center[0],a),this.parsePercent(this.chordSerieSample.center[1],h)];this.strokeFix=(this.chordSerieSample.itemStyle.normal.chordStyle.lineStyle.width-this.chordSerieSample.itemStyle.normal.lineStyle.width)/
d/this.innerRadius/Math.PI*180;this.dataMat=new g(c);this.dataMat=this.dataMat._transposelike([1,2,0]);a=this._filterData(this.dataMat,this.groups);this.dataMat=a[0];this.groups=a[1];a=this.dataMat.shape();if(a[0]!==a[1]||a[0]!==this.groups.length)throw new Error("Data not valid");if(!(a[0]===0||a[2]===0)){this.dataMat.reshape(a[0],a[1]*a[2]);e=this.dataMat.sum(1);j=e.mul(1/e.sum());c=a[0];h=a[1]*a[2];var l=j.mul(360-this.padding*c),n=this.dataMat.div(this.dataMat.sum(1).reshape(c,1));n=n.mul(l.sub(this.strokeFix*
2).reshape(c,1));switch(this.sortGroups){case "ascending":case "descending":j=l.argsort(0,this.sortGroups);l.sort(0,this.sortGroups);e.sort(0,this.sortGroups);break;default:j=g.range(a[0])}switch(this.sortSubGroups){case "ascending":case "descending":var p=n.argsort(1,this.sortSubGroups);n.sort(1,this.sortSubGroups);break;default:p=g.range(h).reshape(1,h).repeat(c,0)}j=j.toArray();l=l.toArray();p=p.toArray();n=n.toArray();var w=e.toArray(),B=[],y=(new g(c,h)).toArray(),C=[],z=0,u=0;for(e=0;e<c;e++){var D=
j[e];C[D]=w[e];u=z+l[e];B[D]=[z,u];for(var F=z=z+this.strokeFix,O=0;O<h;O++){F=z+n[D][O];y[D][p[D][O]]=[z,F];z=F}z=u+this.padding}this.chordShapes=(new g(c,c,b)).toArray();this.sectorShapes=[];this._buildSectors(B,C);y=(new g(y)).reshape(c,c,b,2).toArray();this._buildChords(y,this.dataMat.reshape(a).toArray());a=this.normalizeValue(C);this.showScale&&this._buildScales(a[0],a[1],B,(new g(a[0])).sum()/(360-this.padding*c))}}this.addShapeList()}},_filterData:function(a,c){for(var b=[],e=[],h=0;h<c.length;h++){var j=
c[h].name;this.selectedMap[j]=this.isSelected(j);this.selectedMap[j]?e.push(c[h]):b.push(h)}if(b.length){a=a["delete"](b,0);a=a["delete"](b,1)}if(!a.size())return[a,e];b=[];c=[];h=a.shape();a.reshape(h[0],h[1]*h[2]);j=a.sum(1).toArray();a.reshape(h);for(h=0;h<e.length;h++)j[h]===0?b.push(h):c.push(e[h]);if(b.length){a=a["delete"](b,0);a=a["delete"](b,1)}return[a,c]},_buildSectors:function(a,c){function b(Y){return function(){l&&clearTimeout(l);l=setTimeout(function(){for(var I=0;I<h;I++){y.sectorShapes[I].style.opacity=
I===Y?1:0.1;y.zr.modShape(y.sectorShapes[I].id);for(var J=0;J<h;J++)for(var U=0;U<j;U++){var Q=y.chordShapes[I][J][U];if(Q){Q.style.opacity=I===Y||J===Y?0.5:0.03;y.zr.modShape(Q.id)}}}y.zr.refresh()},50)}}function e(){return function(){l&&clearTimeout(l);l=setTimeout(function(){for(var Y=0;Y<h;Y++){y.sectorShapes[Y].style.opacity=1;y.zr.modShape(y.sectorShapes[Y].id);for(var I=0;I<h;I++)for(var J=0;J<j;J++){var U=y.chordShapes[Y][I][J];if(U){U.style.opacity=0.5;y.zr.modShape(U.id)}}}y.zr.refresh()},
50)}}for(var h=this.groups.length,j=this.chordSeries.length,l,n=this.query(this.chordSerieSample,"itemStyle.normal.label.show"),p=this.query(this.chordSerieSample,"itemStyle.normal.label.color"),w=this.query(this.chordSerieSample,"itemStyle.normal.label.rotate"),B=this.query(this.chordSerieSample,"itemStyle.normal.label.distance"),y=this,C=0;C<h;C++){var z=this.groups[C],u=a[C],D=(this.clockWise?360-u[1]:u[0])+this.startAngle,F=(this.clockWise?360-u[0]:u[1])+this.startAngle;u={zlevel:this._zlevelBase,
style:{x:this.center[0],y:this.center[1],r0:this.innerRadius,r:this.outerRadius,startAngle:D,endAngle:F,brushType:"fill",opacity:1,color:this.getColor(z.name)},clickable:this.chordSerieSample.clickable,highlightStyle:{brushType:"fill"}};u.style.lineWidth=this.deepQuery([z,this.chordSerieSample],"itemStyle.normal.lineStyle.width");u.highlightStyle.lineWidth=this.deepQuery([z,this.chordSerieSample],"itemStyle.emphasis.lineStyle.width");u.style.strokeColor=this.deepQuery([z,this.chordSerieSample],"itemStyle.normal.lineStyle.color");
u.highlightStyle.strokeColor=this.deepQuery([z,this.chordSerieSample],"itemStyle.emphasis.lineStyle.color");if(u.style.lineWidth>0)u.style.brushType="both";if(u.highlightStyle.lineWidth>0)u.highlightStyle.brushType="both";k.pack(u,this.chordSeries[0],0,c[C],C,z.name);if(n){D=[D+F]/2;D%=360;F=D<=90||D>=270;D=D*Math.PI/180;var O=[Math.cos(D),-Math.sin(D)],T=this.showScaleText?35+B:B;O=f.scale([],O,this.outerRadius+T);f.add(O,O,this.center);var N={zlevel:this._zlevelBase-1,hoverable:false,style:{text:z.name,
textAlign:F?"left":"right",color:p}};if(w){N.rotation=F?D:Math.PI+D;N.style.x=F?this.outerRadius+T:-this.outerRadius-T;N.style.y=0;N.position=this.center}else{N.style.x=O[0];N.style.y=O[1]}N.style.textColor=this.deepQuery([z,this.chordSerieSample],"itemStyle.normal.label.textStyle.color")||"#fff";N.style.textFont=this.getFont(this.deepQuery([z,this.chordSerieSample],"itemStyle.normal.label.textStyle"));N=new q(N);this.shapeList.push(N)}u.onmouseover=b(C);u.onmouseout=e();u=new o(u);this.shapeList.push(u);
this.sectorShapes.push(u)}},_buildChords:function(a,c){var b=a.length;if(b)for(var e=a[0][0].length,h=this.chordSerieSample.itemStyle.normal.chordStyle.lineStyle,j=this.chordSerieSample.itemStyle.emphasis.chordStyle.lineStyle,l=0;l<b;l++)for(var n=0;n<b;n++)for(var p=0;p<e;p++)if(!this.chordShapes[n][l][p]){var w=a[l][n][p][0],B=a[n][l][p][0],y=a[l][n][p][1],C=a[n][l][p][1];if(w-C===0||B-C===0)this.chordShapes[l][n][p]=null;else{var z;z=e===1?y-w<=C-B?this.getColor(this.groups[l].name):this.getColor(this.groups[n].name):
this.getColor(this.chordSeries[p].name);w={zlevel:this._zlevelBase,style:{x:this.center[0],y:this.center[1],r:this.innerRadius,source0:(!this.clockWise?360-y:w)-this.startAngle,source1:(!this.clockWise?360-w:y)-this.startAngle,target0:(!this.clockWise?360-C:B)-this.startAngle,target1:(!this.clockWise?360-B:C)-this.startAngle,brushType:"both",opacity:0.5,color:z,lineWidth:h.width,strokeColor:h.color},clickable:this.chordSerieSample.clickable,highlightStyle:{brushType:"both",lineWidth:j.width,strokeColor:j.color}};
k.pack(w,this.chordSeries[p],p,c[l][n][p],l+"-"+n,this.groups[l].name,this.groups[n].name,c[n][l][p]);w=new v(w);this.chordShapes[l][n][p]=w;this.shapeList.push(w)}}},_buildScales:function(a,c,b,e){for(var h=0;h<b.length;h++){for(var j=b[h][0],l=b[h][1],n=j;n<l;){var p=((this.clockWise?360-n:n)+this.startAngle)/180*Math.PI,w=[Math.cos(p),-Math.sin(p)];p=f.scale([],w,this.outerRadius+1);f.add(p,p,this.center);w=f.scale([],w,this.outerRadius+this.scaleLineLength);f.add(w,w,this.center);p={zlevel:this._zlevelBase-
1,hoverable:false,style:{xStart:p[0],yStart:p[1],xEnd:w[0],yEnd:w[1],lineCap:"round",brushType:"stroke",strokeColor:"#666",lineWidth:1}};p=new r(p);this.shapeList.push(p);n+=this.scaleUnitAngle}if(this.showScaleText){j=j;for(n=g.range(0,a[h],e*5*this.scaleUnitAngle).toArray();j<l;){p=this.clockWise?360-j:j;p=(p+this.startAngle)%360;w=p<=90||p>=270;p={zlevel:this._zlevelBase-1,hoverable:false,style:{x:w?this.outerRadius+this.scaleLineLength+4:-this.outerRadius-this.scaleLineLength-4,y:0,text:Math.round(n.shift()*
10)/10+c,textAlign:w?"left":"right"},position:this.center.slice(),rotation:w?[p/180*Math.PI,0,0]:[(p+180)/180*Math.PI,0,0]};p=new q(p);this.shapeList.push(p);j+=this.scaleUnitAngle*5}}}},normalizeValue:function(a){var c=[],b=(new g(a)).max(),e;if(b>1E4){b="k";e=0.001}else if(b>1E7){b="m";e=1.0E-6}else if(b>1E10){b="b";e=1.0E-9}else{b="";e=1}for(var h=0;h<a.length;h++)c[h]=a[h]*e;return[c,b]},refresh:function(a){if(a){this.option=a;this.series=a.series}this.chordSeries=[];this.strokeFix=0;this.sectorShapes=
[];this.chordShapes=[];this.scaleUnitAngle=this.scaleLineLength=4;if(this.legend=this.component.legend){this.getColor=function(h){return this.legend.getColor(h)};this.isSelected=function(h){return this.legend.isSelected(h)}}else{var c={},b={},e=0;this.getColor=function(h){if(b[h])return b[h];if(c[h]===undefined)c[h]=e++;for(var j=0;j<this.chordSeries.length;j++)if(this.chordSeries[j].name===h){b[h]=this.query(this.chordSeries[j],"itemStyle.normal.color");break}if(!b[h]){var l=this.groups.length;for(j=
0;j<l;j++)if(this.groups[j].name===h){b[h]=this.query(this.groups[j],"itemStyle.normal.color");break}}b[h]||(b[h]=this.zr.getColor(c[h]));return b[h]};this.isSelected=function(){return true}}this.backupShapeList();this._buildShape()},reformOption:function(a){var c=i.merge;a=c(a||{},this.ecTheme.chord);a.itemStyle.normal.label.textStyle=c(a.itemStyle.normal.label.textStyle||{},this.ecTheme.textStyle)}};i.inherits(x,s);i.inherits(x,A);t("../chart").define("chord",x);return x});V("echarts/data/Graph",
["require","zrender/tool/util"],function(t){var x=t("zrender/tool/util"),A=function(s){this._directed=s||false;this.nodes=[];this.edges=[];this._nodesMap={};this._edgesMap={}};A.prototype.addNode=function(s,q){if(this._nodesMap[s])return this._nodesMap[s];q=new A.Node(s,q);this.nodes.push(q);return this._nodesMap[s]=q};A.prototype.getNodeByName=function(s){return this._nodesMap[s]};A.prototype.addEdge=function(s,q,r){if(typeof s=="string")s=this._nodesMap[s];if(typeof q=="string")q=this._nodesMap[q];
if(s&&q){var o=s.name+"-"+q.name;if(this._edgesMap[o])return this._edgesMap[o];r=new A.Edge(s,q,r);if(this._directed){s.outEdges.push(r);q.inEdges.push(r)}s.edges.push(r);q.edges.push(r);this.edges.push(r);return this._edgesMap[o]=r}};A.prototype.removeEdge=function(s){var q=s.node1,r=s.node2,o=q.name+"-"+r.name;if(this._directed){q.outEdges.splice(x.indexOf(q.outEdges,s),1);r.inEdges.splice(x.indexOf(r.inEdges,s),1)}q.edges.splice(x.indexOf(q.edges,s),1);r.edges.splice(x.indexOf(r.edges,s),1);delete this._edgesMap[o];
this.edges.splice(x.indexOf(this.edges,s),1)};A.prototype.removeNode=function(s){if(typeof s==="string"){s=this._nodesMap[s];if(!s)return}delete this._nodesMap[s.name];this.nodes.splice(x.indexOf(this.nodes,s),1);for(var q=0;q<this.edges.length;){var r=this.edges[q];if(r.node1==s||r.node2==s)this.removeEdge(r);else q++}};A.prototype.eachNode=function(s,q){for(var r=0;r<this.nodes.length;r++)s.call(q,this.nodes[r])};A.prototype.eachEdge=function(s,q){for(var r=0;r<this.edges.length;r++)s.call(q,this.edges[r])};
A.prototype.clear=function(){this.nodes.length=0;this.edges.length=0;this._nodesMap={};this._edgesMap={}};t=function(s,q){this.name=s;this.data=q||null;this.inEdges=[];this.outEdges=[];this.edges=[]};t.prototype.degree=function(){return this.edges.length};t.prototype.inDegree=function(){return this.inEdges.length};t.prototype.outDegree=function(){return this.outEdges.length};A.Node=t;A.Edge=function(s,q,r){this.node1=s;this.node2=q;this.data=r||null};A.fromMatrix=function(s,q,r){if(!(!q||!q.length||
q[0].length!==q.length||s.length!==q.length)){for(var o=q.length,v=new A(r),m=0;m<o;m++){var k=v.addNode(s[m].name,{});k.data.value=0;if(r)k.data.outValue=k.data.inValue=0}for(m=0;m<o;m++)for(s=0;s<o;s++){k=q[m][s];if(r){v.nodes[m].outValue+=k;v.nodes[s].inValue+=k}v.nodes[m].value+=k;v.nodes[s].value+=k}for(m=0;m<o;m++)for(s=m;s<o;s++){k=q[m][s];if(k!==0){var i=v.nodes[m],f=v.nodes[s],g=v.addEdge(i,f,{});if(r){g.data.sourceWeight=k;g.data.targetWeight=q[s][m]}g.data.weight=k;if(m!==s){if(r){i=v.addEdge(f,
i,{});i.sourceWeight=q[s][m];i.targetWeight=k}g.data.weight+=q[s][m]}}}}};return A});V("echarts/layout/forceLayoutWorker",["require","zrender/tool/vector"],function t(x){function A(){this.subRegions=[];this.nSubRegions=0;this.node=null;this.mass=0;this.centerOfMass=null;this.bbox=new m(4);this.size=0}function s(){this.position=o.create();this.force=o.create();this.forcePrev=o.create();this.speed=o.create();this.speedPrev=o.create();this.mass=1;this.outDegree=this.inDegree=0}function q(i,f){this.node1=
i;this.node2=f;this.weight=1}function r(){this.barnesHutOptimize=false;this.barnesHutTheta=1.5;this.preventOverlap=this.repulsionByDegree=false;this.strongGravity=true;this.edgeWeightInfluence=this.scaling=this.gravity=1;this.center=[0,0];this.height=this.width=500;this.maxSpeedIncrease=1;this.nodes=[];this.edges=[];this.bbox=new m(4);this._rootRegion=new A;this._rootRegion.centerOfMass=o.create();this._massArr=null;this._k=0}var o,v=typeof window==="undefined"&&typeof x==="undefined";o=v?{create:function(i,
f){var g=new Float32Array(2);g[0]=i||0;g[1]=f||0;return g},dist:function(i,f){var g=f[0]-i[0];i=f[1]-i[1];return Math.sqrt(g*g+i*i)},len:function(i){var f=i[0];i=i[1];return Math.sqrt(f*f+i*i)},scaleAndAdd:function(i,f,g,d){i[0]=f[0]+g[0]*d;i[1]=f[1]+g[1]*d;return i},scale:function(i,f,g){i[0]=f[0]*g;i[1]=f[1]*g;return i},add:function(i,f,g){i[0]=f[0]+g[0];i[1]=f[1]+g[1];return i},sub:function(i,f,g){i[0]=f[0]-g[0];i[1]=f[1]-g[1];return i},normalize:function(i,f){var g=f[0],d=f[1];g=g*g+d*d;if(g>
0){g=1/Math.sqrt(g);i[0]=f[0]*g;i[1]=f[1]*g}return i},negate:function(i,f){i[0]=-f[0];i[1]=-f[1];return i},copy:function(i,f){i[0]=f[0];i[1]=f[1];return i},set:function(i,f,g){i[0]=f;i[1]=g;return i}}:x("zrender/tool/vector");var m=typeof Float32Array=="undefined"?Array:Float32Array;A.prototype.beforeUpdate=function(){for(var i=0;i<this.nSubRegions;i++)this.subRegions[i].beforeUpdate();this.mass=0;if(this.centerOfMass){this.centerOfMass[0]=0;this.centerOfMass[1]=0}this.nSubRegions=0;this.node=null};
A.prototype.afterUpdate=function(){this.subRegions.length=this.nSubRegions;for(var i=0;i<this.nSubRegions;i++)this.subRegions[i].afterUpdate()};A.prototype.addNode=function(i){if(this.nSubRegions===0)if(this.node==null){this.node=i;return}else{this._addNodeToSubRegion(this.node);this.node=null}this._addNodeToSubRegion(i);this._updateCenterOfMass(i)};A.prototype.findSubRegion=function(i,f){for(var g=0;g<this.nSubRegions;g++){var d=this.subRegions[g];if(d.contain(i,f))return d}};A.prototype.contain=
function(i,f){return this.bbox[0]<=i&&this.bbox[2]>=i&&this.bbox[1]<=f&&this.bbox[3]>=f};A.prototype.setBBox=function(i,f,g,d){this.bbox[0]=i;this.bbox[1]=f;this.bbox[2]=g;this.bbox[3]=d;this.size=(g-i+d-f)/2};A.prototype._newSubRegion=function(){var i=this.subRegions[this.nSubRegions];if(!i){i=new A;this.subRegions[this.nSubRegions]=i}this.nSubRegions++;return i};A.prototype._addNodeToSubRegion=function(i){var f=this.findSubRegion(i.position[0],i.position[1]),g=this.bbox;if(!f){var d=(g[2]-g[0])/
2,a=(g[3]-g[1])/2,c=i.position[0]>=(g[0]+g[2])/2?1:0,b=i.position[1]>=(g[1]+g[3])/2?1:0;f=this._newSubRegion();f.setBBox(c*d+g[0],b*a+g[1],(c+1)*d+g[0],(b+1)*a+g[1])}f.addNode(i)};A.prototype._updateCenterOfMass=function(i){if(this.centerOfMass==null)this.centerOfMass=o.create();var f=this.centerOfMass[0]*this.mass,g=this.centerOfMass[1]*this.mass;f+=i.position[0]*i.mass;g+=i.position[1]*i.mass;this.mass+=i.mass;this.centerOfMass[0]=f/this.mass;this.centerOfMass[1]=g/this.mass};r.prototype.initNodes=
function(i,f,g){this.temperature=1;var d=i.length/2;this.nodes.length=0;for(var a=typeof g!=="undefined",c=0;c<d;c++){var b=new s;b.position[0]=i[c*2];b.position[1]=i[c*2+1];b.mass=f[c];if(a)b.size=g[c];this.nodes.push(b)}this._massArr=f;if(a)this._sizeArr=g};r.prototype.initEdges=function(i,f){var g=i.length/2;this.edges.length=0;for(var d=typeof f!=="undefined",a=0;a<g;a++){var c=this.nodes[i[a*2]],b=this.nodes[i[a*2+1]];if(c&&b){c.outDegree++;b.inDegree++;c=new q(c,b);if(d)c.weight=f[a];this.edges.push(c)}}};
r.prototype.update=function(){var i=this.nodes.length;this.updateBBox();this._k=0.4*this.scaling*Math.sqrt(this.width*this.height/i);if(this.barnesHutOptimize){this._rootRegion.setBBox(this.bbox[0],this.bbox[1],this.bbox[2],this.bbox[3]);this._rootRegion.beforeUpdate();for(var f=0;f<i;f++)this._rootRegion.addNode(this.nodes[f]);this._rootRegion.afterUpdate()}else{var g=0,d=this._rootRegion.centerOfMass;o.set(d,0,0);for(f=0;f<i;f++){var a=this.nodes[f];g+=a.mass;o.scaleAndAdd(d,d,a.position,a.mass)}o.scale(d,
d,1/g)}for(f=0;f<i;f++){a=this.nodes[f];o.copy(a.forcePrev,a.force);o.copy(a.speedPrev,a.speed);o.set(a.force,0,0)}for(f=0;f<i;f++){a=this.nodes[f];if(this.barnesHutOptimize)this.applyRegionToNodeRepulsion(this._rootRegion,a);else for(g=f+1;g<i;g++)this.applyNodeToNodeRepulsion(a,this.nodes[g],false);this.gravity>0&&this.applyNodeGravity(a)}for(f=0;f<this.edges.length;f++)this.applyEdgeAttraction(this.edges[f]);g=o.create();for(f=0;f<i;f++){a=this.nodes[f];d=a.speed;o.scale(a.force,a.force,1/30);
var c=o.len(a.force)+0.1;c=Math.min(c,500)/c;o.scale(a.force,a.force,c);o.add(d,d,a.force);o.scale(d,d,this.temperature);o.sub(g,d,a.speedPrev);c=o.len(g);if(c>0){o.scale(g,g,1/c);var b=o.len(a.speedPrev);if(b>0){c=Math.min(c/b,this.maxSpeedIncrease)*b;o.scaleAndAdd(d,a.speedPrev,g,c)}}c=o.len(d);c=Math.min(c,100)/(c+0.1);o.scale(d,d,c);o.add(a.position,a.position,d)}};r.prototype.applyRegionToNodeRepulsion=function(){var i=o.create();return function(f,g){if(f.node)this.applyNodeToNodeRepulsion(f.node,
g,true);else{o.sub(i,g.position,f.centerOfMass);var d=i[0]*i[0]+i[1]*i[1];if(d>this.barnesHutTheta*f.size*f.size)o.scaleAndAdd(g.force,g.force,i,this._k*this._k*(g.mass+f.mass)/(d+1)*2);else for(d=0;d<f.nSubRegions;d++)this.applyRegionToNodeRepulsion(f.subRegions[d],g)}}}();r.prototype.applyNodeToNodeRepulsion=function(){var i=o.create();return function(f,g,d){if(f!=g){o.sub(i,f.position,g.position);var a=i[0]*i[0]+i[1]*i[1];if(a!==0){var c,b=this._k*this._k,e=f.mass+g.mass;if(this.preventOverlap){a=
Math.sqrt(a);a=a-f.size-g.size;if(a>0)c=b*e/(a*a);else if(a<=0)c=b*10*e}else c=b*e/a;d||o.scaleAndAdd(f.force,f.force,i,c*2);o.scaleAndAdd(g.force,g.force,i,-c*2)}}}}();r.prototype.applyEdgeAttraction=function(){var i=o.create();return function(f){var g=f.node1,d=f.node2;o.sub(i,g.position,d.position);var a=o.len(i);f=this.edgeWeightInfluence===0?1:this.edgeWeightInfluence==1?f.weight:Math.pow(f.weight,this.edgeWeightInfluence);if(this.preventOverlap){a=a-g.size-d.size;if(a<=0)return}a=-f*a/this._k;
o.scaleAndAdd(g.force,g.force,i,a);o.scaleAndAdd(d.force,d.force,i,-a)}}();r.prototype.applyNodeGravity=function(){var i=o.create();return function(f){o.sub(i,this.center,f.position);if(this.width>this.height)i[1]*=this.width/this.height;else i[0]*=this.height/this.width;var g=o.len(i)/100;this.strongGravity?o.scaleAndAdd(f.force,f.force,i,g*this.gravity*f.mass):o.scaleAndAdd(f.force,f.force,i,this.gravity*f.mass/(g+1))}}();r.prototype.updateBBox=function(){for(var i=Infinity,f=Infinity,g=-Infinity,
d=-Infinity,a=0;a<this.nodes.length;a++){var c=this.nodes[a].position;i=Math.min(i,c[0]);f=Math.min(f,c[1]);g=Math.max(g,c[0]);d=Math.max(d,c[1])}this.bbox[0]=i;this.bbox[1]=f;this.bbox[2]=g;this.bbox[3]=d};r.getWorkerCode=function(){var i=t.toString();return i.slice(i.indexOf("{")+1,i.lastIndexOf("return"))};r.prototype.setToken=function(i){this._token=i};r.prototype.tokenMatch=function(i){return i===this._token};if(v){var k=null;self.onmessage=function(i){if(i.data instanceof ArrayBuffer){if(k)for(var f=
new Float32Array(i.data),g=(f.length-1)/2,d=0;d<g;d++){i=k.nodes[d];i.position[0]=f[d*2+1];i.position[1]=f[d*2+2]}}else switch(i.data.cmd){case "init":k||(k=new r);k.initNodes(i.data.nodesPosition,i.data.nodesMass,i.data.nodesSize);k.initEdges(i.data.edges,i.data.edgesWeight);k._token=i.data.token;break;case "updateConfig":if(k)for(f in i.data.config)k[f]=i.data.config[f];break;case "update":var a=i.data.steps;if(k){g=k.nodes.length;f=new Float32Array(g*2+1);k.temperature=i.data.temperature;for(d=
0;d<a;d++){k.update();k.temperature*=i.data.coolDown}for(d=0;d<g;d++){i=k.nodes[d];f[d*2+1]=i.position[0];f[d*2+2]=i.position[1]}f[0]=k._token;self.postMessage(f.buffer,[f.buffer])}else{i=new Float32Array;self.postMessage(i.buffer,[i.buffer])}break}}}return r});V("echarts/layout/Force",["require","./forceLayoutWorker","zrender/tool/vector"],function(t){function x(){return Math.round(Date.now()/100)%1E7}function A(){if(typeof Worker!=="undefined"&&typeof Blob!=="undefined")try{var m=new Blob([s.getWorkerCode()]);
v=window.URL.createObjectURL(m)}catch(k){v=""}return v}var s=t("./forceLayoutWorker"),q=t("zrender/tool/vector"),r=window.requestAnimationFrame||window.msRequestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||function(m){setTimeout(m,16)},o=typeof Float32Array=="undefined"?Array:Float32Array,v;t=function(m){typeof v==="undefined"&&A();m=m||{};this.width=m.width||500;this.height=m.height||500;this.center=m.center||[this.width/2,this.height/2];this.ratioScaling=
m.ratioScaling||false;this.scaling=m.scaling||1;this.gravity=typeof m.gravity!=="undefined"?m.gravity:1;this.large=m.large||false;this.onupdate=m.onupdate||function(){};this.temperature=m.temperature||1;this.coolDown=m.coolDown||0.99;this._layoutWorker=this._layout=null;this._token=0;var k=this,i=this._$onupdate;this._$onupdate=function(f){i.call(k,f)}};t.prototype.updateConfig=function(){var m=this.width,k=this.height,i=Math.min(m,k);m={center:this.center,width:this.ratioScaling?m:i,height:this.ratioScaling?
k:i,scaling:this.scaling||1,gravity:this.gravity||1,barnesHutOptimize:this.large};if(this._layoutWorker)this._layoutWorker.postMessage({cmd:"updateConfig",config:m});else for(var f in m)this._layout[f]=m[f]};t.prototype.init=function(m,k){if(v&&k)try{if(!this._layoutWorker){this._layoutWorker=new Worker(v);this._layoutWorker.onmessage=this._$onupdate}this._layout=null}catch(i){this._layoutWorker=null;if(!this._layout)this._layout=new s}else{if(!this._layout)this._layout=new s;if(this._layoutWorker){this._layoutWorker.terminate();
this._layoutWorker=null}}this.temperature=1;this.graph=m;k=m.nodes.length;for(var f=new o(k*2),g=new o(k),d=new o(k),a=0;a<k;a++){var c=m.nodes[a];f[a*2]=c.layout.position[0];f[a*2+1]=c.layout.position[1];g[a]=c.layout.mass;d[a]=c.layout.radius;c.layout.__index=a}k=m.edges.length;c=new o(k*2);var b=new o(k);for(a=0;a<k;a++){var e=m.edges[a];c[a*2]=e.node1.layout.__index;c[a*2+1]=e.node2.layout.__index;b[a]=e.layout.weight||1}this._token=x();if(this._layoutWorker)this._layoutWorker.postMessage({cmd:"init",
nodesPosition:f,nodesMass:g,nodesSize:d,edges:c,edgesWeight:b,token:this._token});else{this._layout.setToken(this._token);this._layout.initNodes(f,g,d);this._layout.initEdges(c,b)}this.updateConfig()};t.prototype.step=function(m){var k=this.graph.nodes;if(this._layoutWorker){for(var i=new o(k.length*2+1),f=0;f<k.length;f++){var g=k[f];i[f*2+1]=g.layout.position[0];i[f*2+2]=g.layout.position[1]}this._layoutWorker.postMessage(i.buffer,[i.buffer]);this._layoutWorker.postMessage({cmd:"update",steps:m,
temperature:this.temperature,coolDown:this.coolDown});for(f=0;f<m;f++)this.temperature*=this.coolDown}else{r(this._$onupdate);for(f=0;f<k.length;f++){g=k[f];q.copy(this._layout.nodes[f].position,g.layout.position)}for(f=0;f<m;f++){this._layout.temperature=this.temperature;this._layout.update();this.temperature*=this.coolDown}}};t.prototype._$onupdate=function(m){if(this._layoutWorker){m=new Float32Array(m.data);if(m[0]===this._token){for(var k=0;k<this.graph.nodes.length;k++){var i=this.graph.nodes[k];
i.layout.position[0]=m[k*2+1];i.layout.position[1]=m[k*2+2]}this.onupdate&&this.onupdate()}}else if(this._layout)if(this._layout.tokenMatch(this._token)){for(k=0;k<this.graph.nodes.length;k++){i=this.graph.nodes[k];q.copy(i.layout.position,this._layout.nodes[k].position)}this.onupdate&&this.onupdate()}};t.prototype.dispose=function(){this._layoutWorker&&this._layoutWorker.terminate();this._layout=this._layoutWorker=null;this._token=0};return t});V("echarts/chart/force",["require","../component/base",
"./base","../data/Graph","../layout/Force","zrender/shape/Line","zrender/shape/Image","../util/shape/Icon","../config","../util/ecData","zrender/tool/util","zrender/config","zrender/tool/vector","../chart"],function(t){function x(h,j,l,n,p){var w=this;o.call(this,h,j,l,n,p);v.call(this);this.__nodePositionMap={};this._graph=new m(true);this._layout=new k;this._layout.onupdate=function(){w._step()};this._steps=1;this.ondragstart=function(){A.apply(w,arguments)};this.ondragend=function(){q.apply(w,
arguments)};this.ondrop=function(){};this.shapeHandler.ondragstart=function(){w.isDragstart=true};this.onmousemove=function(){s.apply(w,arguments)};this._init()}function A(h){if(this.isDragstart&&h.target){h.target.fixed=true;this.isDragstart=false;this.zr.on(b.EVENT.MOUSEMOVE,this.onmousemove)}}function s(){this._layout.temperature=0.8;this._step()}function q(h,j){if(this.isDragend&&h.target){h.target.fixed=false;j.dragIn=true;this.isDragend=j.needRefresh=false;this.zr.un(b.EVENT.MOUSEMOVE,this.onmousemove)}}
function r(h,j,l){var n=e.create();n[0]=(Math.random()-0.5)*l+h;n[1]=(Math.random()-0.5)*l+j;return n}var o=t("../component/base"),v=t("./base"),m=t("../data/Graph"),k=t("../layout/Force"),i=t("zrender/shape/Line"),f=t("zrender/shape/Image"),g=t("../util/shape/Icon"),d=t("../config"),a=t("../util/ecData"),c=t("zrender/tool/util"),b=t("zrender/config"),e=t("zrender/tool/vector");x.prototype={constructor:x,type:d.CHART_TYPE_FORCE,_init:function(){var h=this.component.legend,j=this.series,l;this.clear();
for(var n=0,p=j.length;n<p;n++){var w=j[n];if(w.type===d.CHART_TYPE_FORCE){j[n]=this.reformOption(j[n]);l=j[n].name||"";this.selectedMap[l]=h?h.isSelected(l):true;if(this.selectedMap[l]){this.buildMark(n);j=w.categories;l=0;for(n=j.length;l<n;l++)if(j[l].name)this.selectedMap[l]=h?h.isSelected(j[l].name):true;this._forceSerie=w;this._initSerie(w);break}}}},_initSerie:function(h){this._temperature=1;var j=this._graph;j.clear();for(var l=0,n=h.nodes.length;l<n;l++){var p=h.nodes[l];if(!(!p||p.ignore||
p.category&&!this.selectedMap[p.category]))j.addNode(p.name,p).rawIndex=l}l=0;for(n=h.links.length;l<n;l++){p=h.links[l];var w=p.source,B=p.target;if(typeof w==="number")if(w=h.nodes[w])w=w.name;if(typeof B==="number")if(B=h.nodes[B])B=B.name;if(p=j.addEdge(w,B,p))p.rawIndex=l}this._buildLinkShapes(h);this._buildNodeShapes(h);this._initLayout(h);this._step()},_initLayout:function(h){var j=this._graph,l=j.nodes.length,n=this.query(h,"minRadius"),p=this.query(h,"maxRadius");this._steps=h.steps||1;this._layout.center=
this.parseCenter(this.zr,h.center);this._layout.width=this.parsePercent(h.size,this.zr.getWidth());this._layout.height=this.parsePercent(h.size,this.zr.getHeight());this._layout.large=h.large;this._layout.scaling=h.scaling;this._layout.ratioScaling=h.ratioScaling;this._layout.gravity=h.gravity;this._layout.temperature=1;this._layout.coolDown=h.coolDown;for(var w=Infinity,B=-Infinity,y=0;y<l;y++){var C=j.nodes[y];C.layout={radius:C.data.value||1,mass:0};B=Math.max(C.data.value,B);w=Math.min(C.data.value,
w)}B=B-w;for(y=0;y<l;y++){C=j.nodes[y];if(B>0){C.layout.radius=(C.layout.radius-w)*(p-n)/B+n;C.layout.mass=C.layout.radius/p}else{C.layout.radius=(p-n)/2;C.layout.mass=0.5}}for(y=0;y<l;y++){C=j.nodes[y];if(typeof this.__nodePositionMap[C.name]!=="undefined"){C.layout.position=e.create();e.copy(C.layout.position,this.__nodePositionMap[C.name])}else if(typeof C.data.initial!=="undefined"){C.layout.position=e.create();e.copy(C.layout.position,C.data.initial)}else{n=this._layout.center;p=Math.min(this._layout.width,
this._layout.height);C.layout.position=r(n[0],n[1],p*0.8)}n=C.shape.style;p=C.layout.radius;n.width=n.width||p*2;n.height=n.height||p*2;n.x=-n.width/2;n.y=-n.height/2;e.copy(C.shape.position,C.layout.position)}l=j.edges.length;B=-Infinity;for(y=0;y<l;y++){C=j.edges[y];C.layout={weight:C.data.weight||1};if(C.layout.weight>B)B=C.layout.weight}for(y=0;y<l;y++){C=j.edges[y];C.layout.weight/=B}this._layout.init(j,h.useWorker)},_buildNodeShapes:function(h){for(var j=this._graph,l=this.query(h,"categories"),
n=j.nodes.length,p=this.component.legend,w=0;w<n;w++){var B=j.nodes[w],y=B.data,C=new g({style:{x:0,y:0},clickable:this.query(h,"clickable"),highlightStyle:{}}),z=[],u=[],D=[];z.push(y);if(y.itemStyle){u.push(y.itemStyle.normal);D.push(y.itemStyle.emphasis)}if(typeof y.category!=="undefined"){var F=l[y.category];if(F){F.itemStyle=F.itemStyle||{};F.itemStyle.normal=F.itemStyle.normal||{};F.itemStyle.normal.color=F.itemStyle.normal.color||p.getColor(F.name);z.push(F);u.unshift(F.itemStyle.normal);D.unshift(F.itemStyle.emphasis)}}z.push(h);
u.unshift(h.itemStyle.normal.nodeStyle);D.unshift(h.itemStyle.emphasis.nodeStyle);C.style.iconType=this.deepQuery(z,"symbol");C.style.width=C.style.height=(this.deepQuery(z,"symbolSize")||0)*2;if(C.style.iconType.match("image")){C.style.image=C.style.iconType.replace(/^image:\/\//,"");C=new f({style:C.style,highlightStyle:C.highlightStyle,clickable:C.clickable})}for(F=0;F<u.length;F++)u[F]&&c.merge(C.style,u[F],true);for(F=0;F<D.length;F++)D[F]&&c.merge(C.highlightStyle,D[F],true);if(this.deepQuery(z,
"itemStyle.normal.label.show")){C.style.text=y.name;C.style.textPosition="inside";u=this.deepQuery(z,"itemStyle.normal.label.textStyle")||{};C.style.textColor=u.color||"#fff";C.style.textAlign=u.align||"center";C.style.textBaseline=u.baseline||"middle";C.style.textFont=this.getFont(u)}if(this.deepQuery(z,"itemStyle.emphasis.label.show")){C.highlightStyle.text=y.name;C.highlightStyle.textPosition="inside";u=this.deepQuery(z,"itemStyle.emphasis.label.textStyle")||{};C.highlightStyle.textColor=u.color||
"#fff";C.highlightStyle.textAlign=u.align||"center";C.highlightStyle.textBaseline=u.baseline||"middle";C.highlightStyle.textFont=this.getFont(u)}if(this.deepQuery(z,"draggable")){this.setCalculable(C);C.dragEnableTime=0;C.draggable=true;C.ondragstart=this.shapeHandler.ondragstart;C.ondragover=null}z="";if(typeof y.category!=="undefined")z=(F=l[y.category])&&F.name||"";a.pack(C,{name:z},0,y,B.rawIndex,y.name||"",y.value);this.shapeList.push(C);this.zr.addShape(C);B.shape=C}},_buildLinkShapes:function(h){for(var j=
this._graph,l=j.edges.length,n=0;n<l;n++){var p=j.edges[n],w=p.data,B=p.node1,y=p.node2,C=new i({style:{xStart:0,yStart:0,xEnd:0,yEnd:0,lineWidth:1},clickable:this.query(h,"clickable"),highlightStyle:{}});c.merge(C.style,this.query(h,"itemStyle.normal.linkStyle"),true);c.merge(C.highlightStyle,this.query(h,"itemStyle.emphasis.linkStyle"),true);if(typeof w.itemStyle!=="undefined"){w.itemStyle.normal&&c.merge(C.style,w.itemStyle.normal,true);w.itemStyle.emphasis&&c.merge(C.highlightStyle,w.itemStyle.emphasis,
true)}a.pack(C,h,0,{source:B.data,target:y.data,weight:p.data.weight||0},p.rawIndex,B.name+" - "+y.name,p.data.weight||0,true);this.shapeList.push(C);this.zr.addShape(C);p.shape=C;if(h.linkSymbol&&h.linkSymbol!=="none"){p=new g({style:{x:-5,y:0,width:h.linkSymbolSize[0],height:h.linkSymbolSize[1],iconType:h.linkSymbol,brushType:"fill",color:C.style.strokeColor,opacity:C.style.opacity,shadowBlur:C.style.shadowBlur,shadowColor:C.style.shadowColor,shadowOffsetX:C.style.shadowOffsetX,shadowOffsetY:C.style.shadowOffsetY},
highlightStyle:{brushType:"fill"},position:[0,0],rotation:0});C._symbolShape=p;this.shapeList.push(p);this.zr.addShape(p)}}},_updateLinkShapes:function(){for(var h=e.create(),j=this._graph.edges,l=0,n=j.length;l<n;l++){var p=j[l],w=p.node1.shape,B=p.node2.shape;p.shape.style.xStart=w.position[0];p.shape.style.yStart=w.position[1];p.shape.style.xEnd=B.position[0];p.shape.style.yEnd=B.position[1];this.zr.modShape(p.shape.id);if(p.shape._symbolShape){p=p.shape._symbolShape;e.copy(p.position,B.position);
e.sub(h,w.position,B.position);e.normalize(h,h);e.scaleAndAdd(p.position,p.position,h,B.style.width/2+2);w=h[1]<0?2*Math.PI-Math.acos(-h[0]):Math.acos(-h[0]);p.rotation=w-Math.PI/2;this.zr.modShape(p.id)}}},_syncNodePositions:function(){for(var h=this._graph,j=0;j<h.nodes.length;j++){var l=h.nodes[j],n=l.layout.position,p=l.data;l=l.shape;if(l.fixed||p.fixX&&p.fixY)e.copy(n,l.position);else if(p.fixX){n[0]=l.position[0];l.position[1]=n[1]}else if(p.fixY){n[1]=l.position[1];l.position[0]=n[0]}else e.copy(l.position,
n);if(p=p.name){var w=this.__nodePositionMap[p];w||(w=this.__nodePositionMap[p]=e.create());e.copy(w,n)}this.zr.modShape(l.id)}},_step:function(){this._syncNodePositions();this._updateLinkShapes();this.zr.refreshNextFrame();this._layout.temperature>0.01&&this._layout.step(this._steps)},refresh:function(h){if(h){this.option=h;this.series=this.option.series}this._init()},dispose:function(){this.clear();this.effectList=this.shapeList=null;this._layout.dispose();this._layout=null;this.__nodePositionMap=
{}}};c.inherits(x,v);c.inherits(x,o);t("../chart").define("force",x);return x});V("echarts/util/shape/HalfSmoothPolygon",["require","zrender/shape/Base","zrender/shape/util/smoothBezier","zrender/tool/util","zrender/shape/Polygon"],function(t){function x(r){A.call(this,r)}var A=t("zrender/shape/Base"),s=t("zrender/shape/util/smoothBezier"),q=t("zrender/tool/util");x.prototype={type:"half-smooth-polygon",buildPath:function(r,o){var v=o.pointList;if(!(v.length<2))if(o.smooth){o=s(v.slice(0,-2),o.smooth,
false,o.smoothConstraint);r.moveTo(v[0][0],v[0][1]);for(var m,k,i,f=v.length,g=0;g<f-3;g++){m=o[g*2];k=o[g*2+1];i=v[g+1];r.bezierCurveTo(m[0],m[1],k[0],k[1],i[0],i[1])}r.lineTo(v[f-2][0],v[f-2][1]);r.lineTo(v[f-1][0],v[f-1][1]);r.lineTo(v[0][0],v[0][1])}else t("zrender/shape/Polygon").prototype.buildPath(r,o)}};q.inherits(x,A);return x});V("echarts/chart/line",["require","../component/base","./base","zrender/shape/BrokenLine","../util/shape/Icon","../util/shape/HalfSmoothPolygon","../component/axis",
"../component/grid","../component/dataZoom","../config","../util/ecData","zrender/tool/util","zrender/tool/color","../chart"],function(t){function x(g,d,a,c,b){s.call(this,g,d,a,c,b);q.call(this);this.refresh(c)}function A(g,d){var a=d.x,c=d.y,b=d.width,e=d.height,h=e/2;if(d.symbol.match("empty"))g.fillStyle="#fff";d.brushType="both";var j=d.symbol.replace("empty","").toLowerCase();if(j.match("star")){h=j.replace("star","")-0||5;c-=1;j="star"}else if(j==="rectangle"||j==="arrow"){a+=(b-e)/2;b=e}var l=
"";if(j.match("image")){l=j.replace(/^image:\/\//,"");j="image";a+=Math.round((b-e)/2)-1;b=e+=2}if(j=o.prototype.iconLibrary[j]){var n=d.x,p=d.y;g.moveTo(n,p+h);g.lineTo(n+5,p+h);g.moveTo(n+d.width-5,p+h);g.lineTo(n+d.width,p+h);j(g,{x:a+4,y:c+4,width:b-8,height:e-8,n:h,image:l})}else{g.moveTo(a,c+h);g.lineTo(a+b,c+h)}}var s=t("../component/base"),q=t("./base"),r=t("zrender/shape/BrokenLine"),o=t("../util/shape/Icon"),v=t("../util/shape/HalfSmoothPolygon");t("../component/axis");t("../component/grid");
t("../component/dataZoom");var m=t("../config"),k=t("../util/ecData"),i=t("zrender/tool/util"),f=t("zrender/tool/color");x.prototype={type:m.CHART_TYPE_LINE,_buildShape:function(){var g=this.series;this.finalPLMap={};this._sIndex2ColorMap={};this._symbol=this.option.symbolList;this._sIndex2ShapeMap={};this.selectedMap={};this.xMarkMap={};for(var d={top:[],bottom:[],left:[],right:[]},a,c,b=0,e=g.length;b<e;b++)if(g[b].type===this.type){g[b]=this.reformOption(g[b]);a=g[b].xAxisIndex;c=g[b].yAxisIndex;
a=this.component.xAxis.getAxis(a);c=this.component.yAxis.getAxis(c);if(a.type===m.COMPONENT_TYPE_AXIS_CATEGORY)d[a.getPosition()].push(b);else c.type===m.COMPONENT_TYPE_AXIS_CATEGORY&&d[c.getPosition()].push(b)}for(var h in d)d[h].length>0&&this._buildSinglePosition(h,d[h]);this.addShapeList()},_buildSinglePosition:function(g,d){var a=this._mapData(d),c=a.locationMap;a=a.maxDataLength;if(!(a===0||c.length===0)){switch(g){case "bottom":case "top":this._buildHorizontal(d,a,c,this.xMarkMap);break;case "left":case "right":this._buildVertical(d,
a,c,this.xMarkMap);break}g=0;for(c=d.length;g<c;g++)this.buildMark(d[g])}},_mapData:function(g){for(var d=this.series,a,c=0,b={},e,h=this.component.legend,j=[],l=0,n,p=0,w=g.length;p<w;p++){a=d[g[p]];e=a.name;this._sIndex2ShapeMap[g[p]]=this._sIndex2ShapeMap[g[p]]||this.query(a,"symbol")||this._symbol[p%this._symbol.length];if(h){this.selectedMap[e]=h.isSelected(e);this._sIndex2ColorMap[g[p]]=h.getColor(e);if(n=h.getItemShape(e)){n.style.iconType="legendLineIcon";n.style.symbol=this._sIndex2ShapeMap[g[p]];
h.setItemShape(e,n)}}else{this.selectedMap[e]=true;this._sIndex2ColorMap[g[p]]=this.zr.getColor(g[p])}if(this.selectedMap[e]){e=a.stack||"__kener__stack__"+g[p];if(b[e]==null){b[e]=c;j[c]=[g[p]];c++}else j[b[e]].push(g[p])}l=Math.max(l,a.data.length)}return{locationMap:j,maxDataLength:l}},_buildHorizontal:function(g,d,a,c){for(var b=this.series,e=a[0][0],h=b[e],j=this.component.xAxis.getAxis(h.xAxisIndex),l,n,p,w,B,y,C,z={},u,D,F=0;F<d;F++){if(j.getNameByIndex(F)==null)break;n=j.getCoordByIndex(F);
for(var O=0,T=a.length;O<T;O++){e=b[a[O][0]].yAxisIndex||0;l=this.component.yAxis.getAxis(e);B=w=C=y=l.getCoord(0);for(var N=0,Y=a[O].length;N<Y;N++){e=a[O][N];h=b[e];u=h.data[F];D=u!=null?u.value!=null?u.value:u:"-";z[e]=z[e]||[];c[e]=c[e]||{min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY,sum:0,counter:0,average:0};if(D==="-"){if(z[e].length>0){this.finalPLMap[e]=this.finalPLMap[e]||[];this.finalPLMap[e].push(z[e]);z[e]=[]}}else{if(D>=0){w-=N>0?l.getCoordSize(D):B-l.getCoord(D);p=w}else if(D<
0){y+=N>0?l.getCoordSize(D):l.getCoord(D)-C;p=y}z[e].push([n,p,F,j.getNameByIndex(F),n,B]);if(c[e].min>D){c[e].min=D;c[e].minY=p;c[e].minX=n}if(c[e].max<D){c[e].max=D;c[e].maxY=p;c[e].maxX=n}c[e].sum+=D;c[e].counter++}}}w=this.component.grid.getY();O=0;for(T=a.length;O<T;O++){N=0;for(Y=a[O].length;N<Y;N++){e=a[O][N];h=b[e];u=h.data[F];D=u!=null?u.value!=null?u.value:u:"-";if(D=="-")if(this.deepQuery([u,h,this.option],"calculable")){p=this.deepQuery([u,h],"symbolSize");w+=p*2+5;p=w;this.shapeList.push(this._getCalculableItem(e,
F,j.getNameByIndex(F),n,p,"horizontal"))}}}}for(var I in z)if(z[I].length>0){this.finalPLMap[I]=this.finalPLMap[I]||[];this.finalPLMap[I].push(z[I]);z[I]=[]}O=0;for(T=a.length;O<T;O++){N=0;for(Y=a[O].length;N<Y;N++){e=a[O][N];if(c[e].counter>0)c[e].average=(c[e].sum/c[e].counter).toFixed(2)-0;p=this.component.yAxis.getAxis(b[e].yAxisIndex||0).getCoord(c[e].average);c[e].averageLine=[[this.component.grid.getX(),p],[this.component.grid.getXend(),p]];c[e].minLine=[[this.component.grid.getX(),c[e].minY],
[this.component.grid.getXend(),c[e].minY]];c[e].maxLine=[[this.component.grid.getX(),c[e].maxY],[this.component.grid.getXend(),c[e].maxY]]}}this._buildBorkenLine(g,this.finalPLMap,j,"horizontal")},_buildVertical:function(g,d,a,c){for(var b=this.series,e=a[0][0],h=b[e],j=this.component.yAxis.getAxis(h.yAxisIndex),l,n,p,w,B,y,C,z={},u,D,F=0;F<d;F++){if(j.getNameByIndex(F)==null)break;p=j.getCoordByIndex(F);for(var O=0,T=a.length;O<T;O++){e=b[a[O][0]].xAxisIndex||0;l=this.component.xAxis.getAxis(e);
B=w=C=y=l.getCoord(0);for(var N=0,Y=a[O].length;N<Y;N++){e=a[O][N];h=b[e];u=h.data[F];D=u!=null?u.value!=null?u.value:u:"-";z[e]=z[e]||[];c[e]=c[e]||{min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY,sum:0,counter:0,average:0};if(D==="-"){if(z[e].length>0){this.finalPLMap[e]=this.finalPLMap[e]||[];this.finalPLMap[e].push(z[e]);z[e]=[]}}else{if(D>=0){w+=N>0?l.getCoordSize(D):l.getCoord(D)-B;n=w}else if(D<0){y-=N>0?l.getCoordSize(D):C-l.getCoord(D);n=y}z[e].push([n,p,F,j.getNameByIndex(F),B,
p]);if(c[e].min>D){c[e].min=D;c[e].minX=n;c[e].minY=p}if(c[e].max<D){c[e].max=D;c[e].maxX=n;c[e].maxY=p}c[e].sum+=D;c[e].counter++}}}w=this.component.grid.getXend();O=0;for(T=a.length;O<T;O++){N=0;for(Y=a[O].length;N<Y;N++){e=a[O][N];h=b[e];u=h.data[F];D=u!=null?u.value!=null?u.value:u:"-";if(D=="-")if(this.deepQuery([u,h,this.option],"calculable")){n=this.deepQuery([u,h],"symbolSize");w-=n*2+5;n=w;this.shapeList.push(this._getCalculableItem(e,F,j.getNameByIndex(F),n,p,"vertical"))}}}}for(var I in z)if(z[I].length>
0){this.finalPLMap[I]=this.finalPLMap[I]||[];this.finalPLMap[I].push(z[I]);z[I]=[]}O=0;for(T=a.length;O<T;O++){N=0;for(Y=a[O].length;N<Y;N++){e=a[O][N];if(c[e].counter>0)c[e].average=(c[e].sum/c[e].counter).toFixed(2)-0;n=this.component.xAxis.getAxis(b[e].xAxisIndex||0).getCoord(c[e].average);c[e].averageLine=[[n,this.component.grid.getYend()],[n,this.component.grid.getY()]];c[e].minLine=[[c[e].minX,this.component.grid.getYend()],[c[e].minX,this.component.grid.getY()]];c[e].maxLine=[[c[e].maxX,this.component.grid.getYend()],
[c[e].maxX,this.component.grid.getY()]]}}this._buildBorkenLine(g,this.finalPLMap,j,"vertical")},_buildBorkenLine:function(g,d,a,c){for(var b=this.series,e,h=g.length-1;h>=0;h--){var j=g[h],l=b[j],n=d[j];if(l.type===this.type&&n!=null)for(var p=this._getBbox(j,c),w=this._sIndex2ColorMap[j],B=this.query(l,"itemStyle.normal.lineStyle.width"),y=this.query(l,"itemStyle.normal.lineStyle.type"),C=this.query(l,"itemStyle.normal.lineStyle.color"),z=this.getItemStyleColor(this.query(l,"itemStyle.normal.color"),
j,-1),u=this.query(l,"itemStyle.normal.areaStyle")!=null,D=this.query(l,"itemStyle.normal.areaStyle.color"),F=0,O=n.length;F<O;F++){var T=n[F];if(this._isLarge(c,T))T=this._getLargePointList(c,T);else for(var N=0,Y=T.length;N<Y;N++){e=l.data[T[N][2]];if(this.deepQuery([e,l],"showAllSymbol")||a.isMainAxis(T[N][2])&&this.deepQuery([e,l],"symbol")!="none"||this.deepQuery([e,l,this.option],"calculable"))this.shapeList.push(this._getSymbol(j,T[N][2],T[N][3],T[N][0],T[N][1],c))}e=new r({zlevel:this._zlevelBase,
style:{miterLimit:B,pointList:T,strokeColor:C||z||w,lineWidth:B,lineType:y,smooth:this._getSmooth(l.smooth),smoothConstraint:p,shadowColor:this.query(l,"itemStyle.normal.lineStyle.shadowColor"),shadowBlur:this.query(l,"itemStyle.normal.lineStyle.shadowBlur"),shadowOffsetX:this.query(l,"itemStyle.normal.lineStyle.shadowOffsetX"),shadowOffsetY:this.query(l,"itemStyle.normal.lineStyle.shadowOffsetY")},hoverable:false,_main:true,_seriesIndex:j,_orient:c});k.pack(e,b[j],j,0,F,b[j].name);this.shapeList.push(e);
if(u){T=new v({zlevel:this._zlevelBase,style:{miterLimit:B,pointList:i.clone(T).concat([[T[T.length-1][4],T[T.length-1][5]],[T[0][4],T[0][5]]]),brushType:"fill",smooth:this._getSmooth(l.smooth),smoothConstraint:p,color:D?D:f.alpha(w,0.5)},hoverable:false,_main:true,_seriesIndex:j,_orient:c});k.pack(T,b[j],j,0,F,b[j].name);this.shapeList.push(T)}}}},_getBbox:function(g,d){var a=this.component.grid.getBbox();g=this.xMarkMap[g];if(d==="horizontal"){a[0][1]=Math.min(g.minY,g.maxY);a[1][1]=Math.max(g.minY,
g.maxY)}else{a[0][0]=Math.min(g.minX,g.maxX);a[1][0]=Math.max(g.minX,g.maxX)}return a},_isLarge:function(g,d){return d.length<2?false:g==="horizontal"?Math.abs(d[0][0]-d[1][0])<0.5:Math.abs(d[0][1]-d[1][1])<0.5},_getLargePointList:function(g,d){g=g==="horizontal"?this.component.grid.getWidth():this.component.grid.getHeight();for(var a=d.length,c=[],b=0;b<g;b++)c[b]=d[Math.floor(a/g*b)];return c},_getSmooth:function(g){return g?0.3:0},_getCalculableItem:function(g,d,a,c,b,e){var h=this.series[g].calculableHolderColor||
this.ecTheme.calculableHolderColor;g=this._getSymbol(g,d,a,c,b,e);g.style.color=h;g.style.strokeColor=h;g.rotation=[0,0];g.hoverable=false;g.draggable=false;g.style.text=undefined;return g},_getSymbol:function(g,d,a,c,b,e){var h=this.series[g],j=h.data[d];g=this.getSymbolShape(h,g,j,d,a,c,b,this._sIndex2ShapeMap[g],this._sIndex2ColorMap[g],"#fff",e==="vertical"?"horizontal":"vertical");g.zlevel=this._zlevelBase+1;if(this.deepQuery([j,h,this.option],"calculable")){this.setCalculable(g);g.draggable=
true}return g},getMarkCoord:function(g,d){var a=this.series[g];g=this.xMarkMap[g];var c=this.component.xAxis.getAxis(a.xAxisIndex);a=this.component.yAxis.getAxis(a.yAxisIndex);if(d.type&&(d.type==="max"||d.type==="min"||d.type==="average"))return[g[d.type+"X"],g[d.type+"Y"],g[d.type+"Line"],g[d.type]];return[typeof d.xAxis!="string"&&c.getCoordByIndex?c.getCoordByIndex(d.xAxis||0):c.getCoord(d.xAxis||0),typeof d.yAxis!="string"&&a.getCoordByIndex?a.getCoordByIndex(d.yAxis||0):a.getCoord(d.yAxis||
0)]},refresh:function(g){if(g){this.option=g;this.series=g.series}this.backupShapeList();this._buildShape()},ontooltipHover:function(g,d){var a=g.seriesIndex;g=g.dataIndex;for(var c,b,e=a.length;e--;)if(c=this.finalPLMap[a[e]])for(var h=0,j=c.length;h<j;h++){b=c[h];for(var l=0,n=b.length;l<n;l++)g===b[l][2]&&d.push(this._getSymbol(a[e],b[l][2],b[l][3],b[l][0],b[l][1],"horizontal"))}},addDataAnimation:function(g){for(var d=this.series,a={},c=0,b=g.length;c<b;c++)a[g[c][0]]=g[c];var e,h,j,l,n;for(c=
this.shapeList.length-1;c>=0;c--){j=this.shapeList[c]._seriesIndex;if(a[j]&&!a[j][3]){if(this.shapeList[c]._main&&this.shapeList[c].style.pointList.length>1){l=this.shapeList[c].style.pointList;g=Math.abs(l[0][0]-l[1][0]);b=Math.abs(l[0][1]-l[1][1]);n=this.shapeList[c]._orient==="horizontal";if(a[j][2]){if(this.shapeList[c].type==="polygon"){j=l.length;this.shapeList[c].style.pointList[j-3]=l[j-2];n?(this.shapeList[c].style.pointList[j-3][0]=l[j-4][0]):(this.shapeList[c].style.pointList[j-3][1]=l[j-
4][1]);this.shapeList[c].style.pointList[j-2]=l[j-1]}this.shapeList[c].style.pointList.pop();n?(e=g,h=0):(e=0,h=-b)}else{this.shapeList[c].style.pointList.shift();if(this.shapeList[c].type==="polygon"){j=this.shapeList[c].style.pointList.pop();n?(j[0]=l[0][0]):(j[1]=l[0][1]);this.shapeList[c].style.pointList.push(j)}n?(e=-g,h=0):(e=0,h=b)}this.zr.modShape(this.shapeList[c].id,{style:{pointList:this.shapeList[c].style.pointList}},true)}else if(a[j][2]&&this.shapeList[c]._dataIndex===d[j].data.length-
1){this.zr.delShape(this.shapeList[c].id);continue}else if(!a[j][2]&&this.shapeList[c]._dataIndex===0){this.zr.delShape(this.shapeList[c].id);continue}this.shapeList[c].position=[0,0];this.zr.animate(this.shapeList[c].id,"").when(500,{position:[e,h]}).start()}}}};o.prototype.iconLibrary.legendLineIcon=A;i.inherits(x,q);i.inherits(x,s);t("../chart").define("line",x);return x});V("echarts/chart/bar",["require","../component/base","./base","zrender/shape/Rectangle","../component/axis","../component/grid",
"../component/dataZoom","../config","../util/ecData","zrender/tool/util","zrender/tool/color","../chart"],function(t){function x(k,i,f,g,d){A.call(this,k,i,f,g,d);s.call(this);this.refresh(g)}var A=t("../component/base"),s=t("./base"),q=t("zrender/shape/Rectangle");t("../component/axis");t("../component/grid");t("../component/dataZoom");var r=t("../config"),o=t("../util/ecData"),v=t("zrender/tool/util"),m=t("zrender/tool/color");x.prototype={type:r.CHART_TYPE_BAR,_buildShape:function(){var k=this.series;
this.selectedMap={};this.xMarkMap={};this._sIndex2colorMap={};for(var i={top:[],bottom:[],left:[],right:[]},f,g,d=0,a=k.length;d<a;d++)if(k[d].type===r.CHART_TYPE_BAR){k[d]=this.reformOption(k[d]);f=k[d].xAxisIndex;g=k[d].yAxisIndex;f=this.component.xAxis.getAxis(f);g=this.component.yAxis.getAxis(g);if(f.type===r.COMPONENT_TYPE_AXIS_CATEGORY)i[f.getPosition()].push(d);else g.type===r.COMPONENT_TYPE_AXIS_CATEGORY&&i[g.getPosition()].push(d)}for(var c in i)i[c].length>0&&this._buildSinglePosition(c,
i[c],this.xMarkMap);this.addShapeList()},_buildSinglePosition:function(k,i,f){var g=this._mapData(i),d=g.locationMap;g=g.maxDataLength;if(!(g===0||d.length===0))switch(k){case "bottom":case "top":this._buildHorizontal(g,d,i,f);break;case "left":case "right":this._buildVertical(g,d,i,f);break}},_mapData:function(k){for(var i=this.series,f,g=0,d={},a,c=this.component.legend,b=[],e=0,h,j=0,l=k.length;j<l;j++){f=i[k[j]];a=f.name;if(c){this.selectedMap[a]=c.isSelected(a);this._sIndex2colorMap[k[j]]=c.getColor(a);
if(h=c.getItemShape(a)){if(f.itemStyle.normal.barBorderWidth>0){h.style.x+=1;h.style.y+=1;h.style.width-=2;h.style.height-=2;h.style.strokeColor=h.highlightStyle.strokeColor=f.itemStyle.normal.barBorderColor;h.highlightStyle.lineWidth=3;h.style.brushType="both"}c.setItemShape(a,h)}}else{this.selectedMap[a]=true;this._sIndex2colorMap[k[j]]=this.zr.getColor(k[j])}if(this.selectedMap[a]){a=f.stack||"__kener__stack__"+k[j];if(d[a]==null){d[a]=g;b[g]=[k[j]];g++}else b[d[a]].push(k[j])}e=Math.max(e,f.data.length)}return{locationMap:b,
maxDataLength:e}},_buildHorizontal:function(k,i,f,g){f=this.series;var d=i[0][0],a=f[d],c=this.component.xAxis.getAxis(a.xAxisIndex),b,e=this._mapSize(c,i),h=e.gap,j=e.barGap,l=e.barWidthMap,n=e.barWidth,p=e.barMinHeightMap;e=e.interval;for(var w,B,y,C,z,u,D,F=0;F<k;F++){if(c.getNameByIndex(F)==null)break;w=c.getCoordByIndex(F)-h/2;for(var O=0,T=i.length;O<T;O++){b=f[i[O][0]].yAxisIndex||0;b=this.component.yAxis.getAxis(b);C=y=u=z=b.getCoord(0);for(var N=0,Y=i[O].length;N<Y;N++){d=i[O][N];a=f[d];
B=a.data[F];D=B!=null?B.value!=null?B.value:B:"-";g[d]=g[d]||{min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY,sum:0,counter:0,average:0};if(D!=="-"){if(D>0){a=N>0?b.getCoordSize(D):C-b.getCoord(D);if(Y===1&&p[d]>a)a=p[d];y-=a;B=y}else if(D<0){a=N>0?b.getCoordSize(D):b.getCoord(D)-u;if(Y===1&&p[d]>a)a=p[d];B=z;z+=a}else{a=0;y-=a;B=y}g[d][F]=w+(l[d]||n)/2;if(g[d].min>D){g[d].min=D;g[d].minY=B;g[d].minX=g[d][F]}if(g[d].max<D){g[d].max=D;g[d].maxY=B;g[d].maxX=g[d][F]}g[d].sum+=D;g[d].counter++;
if(F%e===0){D=this._getBarItem(d,F,c.getNameByIndex(F),w,B,l[d]||n,a,"vertical");this.shapeList.push(new q(D))}}}N=0;for(Y=i[O].length;N<Y;N++){d=i[O][N];a=f[d];B=a.data[F];D=B!=null?B.value!=null?B.value:B:"-";if(D=="-")if(this.deepQuery([B,a,this.option],"calculable")){y-=this.ecTheme.island.r;B=y;D=this._getBarItem(d,F,c.getNameByIndex(F),w+0.5,B+0.5,(l[d]||n)-1,this.ecTheme.island.r-1,"vertical");D.hoverable=false;D.draggable=false;D.style.lineWidth=1;D.style.brushType="stroke";D.style.strokeColor=
a.calculableHolderColor||this.ecTheme.calculableHolderColor;this.shapeList.push(new q(D))}}w+=(l[d]||n)+j}}O=0;for(T=i.length;O<T;O++){N=0;for(Y=i[O].length;N<Y;N++){d=i[O][N];if(g[d].counter>0)g[d].average=(g[d].sum/g[d].counter).toFixed(2)-0;B=this.component.yAxis.getAxis(f[d].yAxisIndex||0).getCoord(g[d].average);g[d].averageLine=[[this.component.grid.getX(),B],[this.component.grid.getXend(),B]];g[d].minLine=[[this.component.grid.getX(),g[d].minY],[this.component.grid.getXend(),g[d].minY]];g[d].maxLine=
[[this.component.grid.getX(),g[d].maxY],[this.component.grid.getXend(),g[d].maxY]];g[d].isHorizontal=true;this.buildMark(d)}}},_buildVertical:function(k,i,f,g){f=this.series;var d=i[0][0],a=f[d],c=this.component.yAxis.getAxis(a.yAxisIndex),b,e=this._mapSize(c,i),h=e.gap,j=e.barGap,l=e.barWidthMap,n=e.barWidth,p=e.barMinHeightMap;e=e.interval;for(var w,B,y,C,z,u,D,F=0;F<k;F++){if(c.getNameByIndex(F)==null)break;B=c.getCoordByIndex(F)+h/2;for(var O=0,T=i.length;O<T;O++){b=f[i[O][0]].xAxisIndex||0;b=
this.component.xAxis.getAxis(b);C=y=u=z=b.getCoord(0);for(var N=0,Y=i[O].length;N<Y;N++){d=i[O][N];a=f[d];w=a.data[F];D=w!=null?w.value!=null?w.value:w:"-";g[d]=g[d]||{min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY,sum:0,counter:0,average:0};if(D!=="-"){if(D>0){a=N>0?b.getCoordSize(D):b.getCoord(D)-C;if(Y===1&&p[d]>a)a=p[d];w=y;y+=a}else if(D<0){a=N>0?b.getCoordSize(D):u-b.getCoord(D);if(Y===1&&p[d]>a)a=p[d];z-=a;w=z}else{a=0;w=y;y+=a}g[d][F]=B-(l[d]||n)/2;if(g[d].min>D){g[d].min=D;g[d].minX=
w+a;g[d].minY=g[d][F]}if(g[d].max<D){g[d].max=D;g[d].maxX=w+a;g[d].maxY=g[d][F]}g[d].sum+=D;g[d].counter++;if(F%e===0){D=this._getBarItem(d,F,c.getNameByIndex(F),w,B-(l[d]||n),a,l[d]||n,"horizontal");this.shapeList.push(new q(D))}}}N=0;for(Y=i[O].length;N<Y;N++){d=i[O][N];a=f[d];w=a.data[F];D=w!=null?w.value!=null?w.value:w:"-";if(D=="-")if(this.deepQuery([w,a,this.option],"calculable")){w=y;y+=this.ecTheme.island.r;D=this._getBarItem(d,F,c.getNameByIndex(F),w+0.5,B+0.5-(l[d]||n),this.ecTheme.island.r-
1,(l[d]||n)-1,"horizontal");D.hoverable=false;D.draggable=false;D.style.lineWidth=1;D.style.brushType="stroke";D.style.strokeColor=a.calculableHolderColor||this.ecTheme.calculableHolderColor;this.shapeList.push(new q(D))}}B-=(l[d]||n)+j}}O=0;for(T=i.length;O<T;O++){N=0;for(Y=i[O].length;N<Y;N++){d=i[O][N];if(g[d].counter>0)g[d].average=(g[d].sum/g[d].counter).toFixed(2)-0;w=this.component.xAxis.getAxis(f[d].xAxisIndex||0).getCoord(g[d].average);g[d].averageLine=[[w,this.component.grid.getYend()],
[w,this.component.grid.getY()]];g[d].minLine=[[g[d].minX,this.component.grid.getYend()],[g[d].minX,this.component.grid.getY()]];g[d].maxLine=[[g[d].maxX,this.component.grid.getYend()],[g[d].maxX,this.component.grid.getY()]];g[d].isHorizontal=false;this.buildMark(d)}}},_mapSize:function(k,i,f){for(var g=this.series,d,a={},c={},b,e=0,h=0,j,l,n,p,w=1,B=0,y=i.length;B<y;B++){n=false;for(var C=0,z=i[B].length;C<z;C++){d=i[B][C];p=g[d];if(!f)if(n)a[d]=b;else{b=this.query(p,"barWidth");if(b!=null){a[d]=
b;h+=b;e++;n=true;for(var u=0,D=C;u<D;u++)a[i[B][u]]=b}}c[d]=this.query(p,"barMinHeight");j=j!=null?j:this.query(p,"barGap");l=l!=null?l:this.query(p,"barCategoryGap")}}if(i.length!=e)if(f){f=k.getGap();j=0;g=Math.floor(f/i.length);if(g<=0){w=Math.floor(i.length/f);g=1}}else{f=typeof l==="string"&&l.match(/%$/)?Math.floor(k.getGap()*(100-parseFloat(l))/100):k.getGap()-l;if(typeof j==="string"&&j.match(/%$/)){j=parseFloat(j)/100;g=Math.floor((f-h)/((i.length-1)*j+i.length-e));j=Math.floor(g*j)}else{j=
parseFloat(j);g=Math.floor((f-h-j*(i.length-1))/(i.length-e))}if(g<=0)return this._mapSize(k,i,true)}else{f=e>1?typeof l==="string"&&l.match(/%$/)?Math.floor(k.getGap()*(100-parseFloat(l))/100):k.getGap()-l:h;g=0;j=e>1?Math.floor((f-h)/(e-1)):0;if(j<0)return this._mapSize(k,i,true)}return{barWidthMap:a,barMinHeightMap:c,gap:f,barWidth:g,barGap:j,interval:w}},_getBarItem:function(k,i,f,g,d,a,c,b){var e=this.series,h=e[k],j=h.data[i],l=this._sIndex2colorMap[k],n=[j,h],p=this.deepQuery(n,"itemStyle.normal.color")||
l,w=this.deepQuery(n,"itemStyle.emphasis.color"),B=this.deepMerge(n,"itemStyle.normal");l=B.barBorderWidth;var y=this.deepMerge(n,"itemStyle.emphasis");g={zlevel:this._zlevelBase,clickable:this.deepQuery(n,"clickable"),style:{x:g,y:d,width:a,height:c,brushType:"both",color:this.getItemStyleColor(p,k,i,j),radius:B.barBorderRadius,lineWidth:l,strokeColor:B.barBorderColor},highlightStyle:{color:this.getItemStyleColor(w,k,i,j),radius:y.barBorderRadius,lineWidth:y.barBorderWidth,strokeColor:y.barBorderColor},
_orient:b};g.highlightStyle.color=g.highlightStyle.color||(typeof g.style.color==="string"?m.lift(g.style.color,-0.3):g.style.color);if(l>0&&g.style.height>l&&g.style.width>l){g.style.y+=l/2;g.style.height-=l;g.style.x+=l/2;g.style.width-=l}else g.style.brushType="fill";g.highlightStyle.textColor=g.highlightStyle.color;g=this.addLabel(g,h,j,f,b);if(g.style.textPosition==="insideLeft"||g.style.textPosition==="insideRight"||g.style.textPosition==="insideTop"||g.style.textPosition==="insideBottom"){switch(g.style.textPosition){case "insideLeft":g.style.textX=
g.style.x+5;g.style.textY=g.style.y+g.style.height/2;g.style.textAlign="left";g.style.textBaseline="middle";break;case "insideRight":g.style.textX=g.style.x+g.style.width-5;g.style.textY=g.style.y+g.style.height/2;g.style.textAlign="right";g.style.textBaseline="middle";break;case "insideTop":g.style.textX=g.style.x+g.style.width/2;g.style.textY=g.style.y+2.5;g.style.textAlign="center";g.style.textBaseline="top";break;case "insideBottom":g.style.textX=g.style.x+g.style.width/2;g.style.textY=g.style.y+
g.style.height-2.5;g.style.textAlign="center";g.style.textBaseline="bottom";break}g.style.textPosition="specific";g.style.textColor=g.style.textColor||"#fff"}if(this.deepQuery([j,h,this.option],"calculable")){this.setCalculable(g);g.draggable=true}o.pack(g,e[k],k,e[k].data[i],i,f);return g},getMarkCoord:function(k,i){var f=this.series[k],g=this.xMarkMap[k];k=this.component.xAxis.getAxis(f.xAxisIndex);f=this.component.yAxis.getAxis(f.yAxisIndex);var d;if(i.type&&(i.type==="max"||i.type==="min"||i.type===
"average"))i=[g[i.type+"X"],g[i.type+"Y"],g[i.type+"Line"],g[i.type]];else if(g.isHorizontal){d=typeof i.xAxis==="string"&&k.getIndexByName?k.getIndexByName(i.xAxis):i.xAxis||0;g=g[d];g=g!=null?g:typeof i.xAxis!="string"&&k.getCoordByIndex?k.getCoordByIndex(i.xAxis||0):k.getCoord(i.xAxis||0);i=[g,f.getCoord(i.yAxis||0)]}else{d=typeof i.yAxis==="string"&&f.getIndexByName?f.getIndexByName(i.yAxis):i.yAxis||0;g=g[d];g=g!=null?g:typeof i.yAxis!="string"&&f.getCoordByIndex?f.getCoordByIndex(i.yAxis||0):
f.getCoord(i.yAxis||0);i=[k.getCoord(i.xAxis||0),g]}return i},refresh:function(k){if(k){this.option=k;this.series=k.series}this.backupShapeList();this._buildShape()},addDataAnimation:function(k){for(var i=this.series,f={},g=0,d=k.length;g<d;g++)f[k[g][0]]=k[g];var a;for(g=this.shapeList.length-1;g>=0;g--){k=o.get(this.shapeList[g],"seriesIndex");if(f[k]&&!f[k][3])if(this.shapeList[g].type==="rectangle"){a=o.get(this.shapeList[g],"dataIndex");d=i[k];if(f[k][2]&&a===d.data.length-1)this.zr.delShape(this.shapeList[g].id);
else if(!f[k][2]&&a===0)this.zr.delShape(this.shapeList[g].id);else{if(this.shapeList[g]._orient==="horizontal"){d=this.component.yAxis.getAxis(d.yAxisIndex||0).getGap();d=f[k][2]?-d:d;k=0}else{d=this.component.xAxis.getAxis(d.xAxisIndex||0).getGap();k=f[k][2]?d:-d;d=0}this.shapeList[g].position=[0,0];this.zr.animate(this.shapeList[g].id,"").when(500,{position:[k,d]}).start()}}}}};v.inherits(x,s);v.inherits(x,A);t("../chart").define("bar",x);return x});V("echarts/chart/pie",["require","../component/base",
"./base","zrender/shape/Text","zrender/shape/Ring","zrender/shape/Circle","zrender/shape/Sector","zrender/shape/BrokenLine","../config","../util/ecData","zrender/tool/util","zrender/tool/math","zrender/tool/color","../chart"],function(t){function x(a,c,b,e,h){A.call(this,a,c,b,e,h);s.call(this);var j=this;j.shapeHandler.onmouseover=function(l){l=l.target;var n=i.get(l,"seriesIndex"),p=i.get(l,"dataIndex"),w=i.get(l,"special"),B=l._lastAddRadius,y=l.style.startAngle,C=l.style.endAngle,z=l.highlightStyle.color;
(w=j.getLabel(n,p,w,B,y,C,z,true))&&j.zr.addHoverShape(w);(l=j.getLabelLine(n,p,B,l.style.r0,l.style.r,y,C,z,true))&&j.zr.addHoverShape(l)};this.refresh(e)}var A=t("../component/base"),s=t("./base"),q=t("zrender/shape/Text"),r=t("zrender/shape/Ring"),o=t("zrender/shape/Circle"),v=t("zrender/shape/Sector"),m=t("zrender/shape/BrokenLine"),k=t("../config"),i=t("../util/ecData"),f=t("zrender/tool/util"),g=t("zrender/tool/math"),d=t("zrender/tool/color");x.prototype={type:k.CHART_TYPE_PIE,_buildShape:function(){var a=
this.series,c=this.component.legend;this.selectedMap={};this._selected={};var b,e;this._selectedMode=false;for(var h=0,j=a.length;h<j;h++)if(a[h].type===k.CHART_TYPE_PIE){a[h]=this.reformOption(a[h]);e=a[h].name||"";this.selectedMap[e]=c?c.isSelected(e):true;if(this.selectedMap[e]){b=this.parseCenter(this.zr,a[h].center);e=this.parseRadius(this.zr,a[h].radius);this._selectedMode=this._selectedMode||a[h].selectedMode;this._selected[h]=[];if(this.deepQuery([a[h],this.option],"calculable")){b={zlevel:this._zlevelBase,
hoverable:false,style:{x:b[0],y:b[1],r0:e[0]<=10?0:e[0]-10,r:e[1]+10,brushType:"stroke",lineWidth:1,strokeColor:a[h].calculableHolderColor||this.ecTheme.calculableHolderColor}};i.pack(b,a[h],h,undefined,-1);this.setCalculable(b);b=e[0]<=10?new o(b):new r(b);this.shapeList.push(b)}this._buildSinglePie(h);this.buildMark(h)}}this.addShapeList()},_buildSinglePie:function(a){for(var c=this.series[a],b=c.data,e=this.component.legend,h,j=0,l=0,n=0,p=Number.NEGATIVE_INFINITY,w=0,B=b.length;w<B;w++){h=b[w].name;
this.selectedMap[h]=e?e.isSelected(h):true;if(this.selectedMap[h]&&!isNaN(b[w].value)){if(+b[w].value!==0)j++;else l++;n+=+b[w].value;p=Math.max(p,+b[w].value)}}if(n!==0){var y=100,C=0,z=c.clockWise,u=c.startAngle.toFixed(2)-0,D,F=c.minAngle||0.01;j=360-F*j-0.01*l;var O;l=c.roseType;var T,N;w=0;for(B=b.length;w<B;w++){h=b[w].name;if(!(!this.selectedMap[h]||isNaN(b[w].value))){O=e?e.getColor(h):this.zr.getColor(w);h=y;y=b[w].value/n;D=l!="area"?z?u-y*j-(y!==0?F:0.01):y*j+u+(y!==0?F:0.01):z?u-360/B:
360/B+u;D=D.toFixed(2)-0;y=(y*100).toFixed(2);T=this.parseRadius(this.zr,c.radius);N=+T[0];T=+T[1];if(l==="radius")T=b[w].value/p*(T-N)*0.8+(T-N)*0.2+N;else if(l==="area")T=Math.sqrt(b[w].value/p)*(T-N)+N;if(z){var Y;Y=u;u=D;D=Y}if(w>0&&Math.abs(u-D)<15&&h<4&&this._needLabel(c,b[w],false)&&this.deepQuery([b[w],c],"itemStyle.normal.label.position")!="center")C+=y<4?20:-20;else C=0;this._buildItem(a,w,y,C,b[w].selected,N,T,u,D,O);z||(u=D)}}}},_buildItem:function(a,c,b,e,h,j,l,n,p,w){var B=this.series;
h=this.getSector(a,c,b,h,j,l,n,p,w);i.pack(h,B[a],a,B[a].data[c],c,B[a].data[c].name,b);h._lastAddRadius=e;this.shapeList.push(h);if(h=this.getLabel(a,c,b,e,n,p,w,false)){i.pack(h,B[a],a,B[a].data[c],c,B[a].data[c].name,b);h._dataIndex=c;this.shapeList.push(h)}if(e=this.getLabelLine(a,c,e,j,l,n,p,w,false)){i.pack(e,B[a],a,B[a].data[c],c,B[a].data[c].name,b);e._dataIndex=c;this.shapeList.push(e)}},getSector:function(a,c,b,e,h,j,l,n,p){b=this.series[a];var w=b.data[c],B=[w,b],y=this.parseCenter(this.zr,
b.center),C=this.deepMerge(B,"itemStyle.normal")||{},z=this.deepMerge(B,"itemStyle.emphasis")||{};p=this.getItemStyleColor(C.color,a,c,w)||p;var u=this.getItemStyleColor(z.color,a,c,w)||(typeof p==="string"?d.lift(p,-0.2):p);h={zlevel:this._zlevelBase,clickable:this.deepQuery(B,"clickable"),style:{x:y[0],y:y[1],r0:h,r:j,startAngle:l,endAngle:n,brushType:"both",color:p,lineWidth:C.borderWidth,strokeColor:C.borderColor,lineJoin:"round"},highlightStyle:{color:u,lineWidth:z.borderWidth,strokeColor:z.borderColor,
lineJoin:"round"},_seriesIndex:a,_dataIndex:c};if(e){e=((h.style.startAngle+h.style.endAngle)/2).toFixed(2)-0;h.style._hasSelected=true;h.style._x=h.style.x;h.style._y=h.style.y;j=this.query(b,"selectedOffset");h.style.x+=g.cos(e,true)*j;h.style.y-=g.sin(e,true)*j;this._selected[a][c]=true}else this._selected[a][c]=false;if(this._selectedMode)h.onclick=this.shapeHandler.onclick;if(this.deepQuery([w,b,this.option],"calculable")){this.setCalculable(h);h.draggable=true}if(this._needLabel(b,w,true)||
this._needLabelLine(b,w,true))h.onmouseover=this.shapeHandler.onmouseover;return h=new v(h)},getLabel:function(a,c,b,e,h,j,l,n){var p=this.series[a],w=p.data[c];if(this._needLabel(p,w,n)){n=n?"emphasis":"normal";var B=f.merge(f.clone(w.itemStyle)||{},p.itemStyle),y=B[n].label,C=y.textStyle||{},z=this.parseCenter(this.zr,p.center),u=z[0];z=z[1];h=((j+h)/2+360)%360;p=this.parseRadius(this.zr,p.radius);y.position=y.position||B.normal.label.position;if(y.position==="center"){e=u;p=z;B="center"}else if(y.position===
"inner"){p=(p[0]+p[1])/2+e;e=Math.round(u+p*g.cos(h,true));p=Math.round(z-p*g.sin(h,true));l="#fff";B="center"}else{p=p[1]- -B[n].labelLine.length+e;e=u+p*g.cos(h,true);p=z-p*g.sin(h,true);B=h>=90&&h<=270?"right":"left"}if(y.position!="center"&&y.position!="inner")e+=B==="left"?20:-20;w.__labelX=e-(B==="left"?5:-5);w.__labelY=p;return new q({zlevel:this._zlevelBase+1,hoverable:false,style:{x:e,y:p,color:C.color||l,text:this.getLabelText(a,c,b,n),textAlign:C.align||B,textBaseline:C.baseline||"middle",
textFont:this.getFont(C)},highlightStyle:{brushType:"fill"},_seriesIndex:a,_dataIndex:c})}},getLabelText:function(a,c,b,e){a=this.series[a];c=a.data[c];if(e=this.deepQuery([c,a],"itemStyle."+e+".label.formatter"))if(typeof e==="function")return e.call(this.myChart,a.name,c.name,c.value,b);else{if(typeof e==="string"){e=e.replace("{a}","{a0}").replace("{b}","{b0}").replace("{c}","{c0}").replace("{d}","{d0}");return e=e.replace("{a0}",a.name).replace("{b0}",c.name).replace("{c0}",c.value).replace("{d0}",
b)}}else return c.name},getLabelLine:function(a,c,b,e,h,j,l,n,p){var w=this.series[a];e=w.data[c];if(this._needLabelLine(w,e,p)){p=p?"emphasis":"normal";var B=f.merge(f.clone(e.itemStyle)||{},w.itemStyle)[p].labelLine;p=B.lineStyle||{};var y=this.parseCenter(this.zr,w.center),C=y[0];y=y[1];b=this.parseRadius(this.zr,w.radius)[1]- -B.length+b;l=(l+j)/2%360;j=g.cos(l,true);l=g.sin(l,true);return new m({zlevel:this._zlevelBase+1,hoverable:false,style:{pointList:[[C+h*j,y-h*l],[C+b*j,y-b*l],[e.__labelX,
e.__labelY]],strokeColor:p.color||n,lineType:p.type,lineWidth:p.width},_seriesIndex:a,_dataIndex:c})}},_needLabel:function(a,c,b){return this.deepQuery([c,a],"itemStyle."+(b?"emphasis":"normal")+".label.show")},_needLabelLine:function(a,c,b){return this.deepQuery([c,a],"itemStyle."+(b?"emphasis":"normal")+".labelLine.show")},reformOption:function(a){var c=f.merge;a=c(a||{},this.ecTheme.pie);a.itemStyle.normal.label.textStyle=c(a.itemStyle.normal.label.textStyle||{},this.ecTheme.textStyle);a.itemStyle.emphasis.label.textStyle=
c(a.itemStyle.emphasis.label.textStyle||{},this.ecTheme.textStyle);return a},refresh:function(a){if(a){this.option=a;this.series=a.series}this.backupShapeList();this._buildShape()},addDataAnimation:function(a){for(var c=this.series,b={},e=0,h=a.length;e<h;e++)b[a[e][0]]=a[e];var j={},l={},n={},p=this.shapeList;this.shapeList=[];var w,B,y,C={};e=0;for(h=a.length;e<h;e++){w=a[e][0];B=a[e][2];y=a[e][3];if(c[w]&&c[w].type===k.CHART_TYPE_PIE){if(B){y||(j[w+"_"+c[w].data.length]="delete");C[w]=1}else if(y)C[w]=
0;else{j[w+"_-1"]="delete";C[w]=-1}this._buildSinglePie(w)}}e=0;for(h=this.shapeList.length;e<h;e++){w=this.shapeList[e]._seriesIndex;a=this.shapeList[e]._dataIndex;a=w+"_"+a;switch(this.shapeList[e].type){case "sector":j[a]=this.shapeList[e];break;case "text":l[a]=this.shapeList[e];break;case "broken-line":n[a]=this.shapeList[e];break}}this.shapeList=[];e=0;for(h=p.length;e<h;e++){w=p[e]._seriesIndex;if(b[w]){a=p[e]._dataIndex+C[w];a=w+"_"+a;if(c=j[a])if(p[e].type==="sector")c!="delete"?this.zr.animate(p[e].id,
"style").when(400,{startAngle:c.style.startAngle,endAngle:c.style.endAngle}).start():this.zr.animate(p[e].id,"style").when(400,C[w]<0?{startAngle:p[e].style.startAngle}:{endAngle:p[e].style.endAngle}).start();else if(p[e].type==="text"||p[e].type==="broken-line")if(c==="delete")this.zr.delShape(p[e].id);else switch(p[e].type){case "text":c=l[a];this.zr.animate(p[e].id,"style").when(400,{x:c.style.x,y:c.style.y}).start();break;case "broken-line":c=n[a];this.zr.animate(p[e].id,"style").when(400,{pointList:c.style.pointList}).start();
break}}}this.shapeList=p},onclick:function(a){var c=this.series;if(this.isClick&&a.target){this.isClick=false;var b,e=a.target,h=e.style;b=i.get(e,"seriesIndex");for(var j=i.get(e,"dataIndex"),l=0,n=this.shapeList.length;l<n;l++)if(this.shapeList[l].id===e.id){b=i.get(e,"seriesIndex");j=i.get(e,"dataIndex");if(h._hasSelected){e.style.x=e.style._x;e.style.y=e.style._y;e.style._hasSelected=false;this._selected[b][j]=false}else{var p=((h.startAngle+h.endAngle)/2).toFixed(2)-0;e.style._hasSelected=true;
this._selected[b][j]=true;e.style._x=e.style.x;e.style._y=e.style.y;b=this.query(c[b],"selectedOffset");e.style.x+=g.cos(p,true)*b;e.style.y-=g.sin(p,true)*b}this.zr.modShape(e.id,e)}else if(this.shapeList[l].style._hasSelected&&this._selectedMode==="single"){b=i.get(this.shapeList[l],"seriesIndex");j=i.get(this.shapeList[l],"dataIndex");this.shapeList[l].style.x=this.shapeList[l].style._x;this.shapeList[l].style.y=this.shapeList[l].style._y;this.shapeList[l].style._hasSelected=false;this._selected[b][j]=
false;this.zr.modShape(this.shapeList[l].id,this.shapeList[l])}this.messageCenter.dispatch(k.EVENT.PIE_SELECTED,a.event,{selected:this._selected,target:i.get(e,"name")},this.myChart);this.zr.refresh()}}};f.inherits(x,s);f.inherits(x,A);t("../chart").define("pie",x);return x});V("_chart",["require","echarts/chart/gauge","echarts/chart/funnel","echarts/chart/scatter","echarts/chart/k","echarts/chart/radar","echarts/chart/chord","echarts/chart/force","echarts/chart/line","echarts/chart/bar","echarts/chart/pie"],
function(t){t("echarts/chart/gauge");t("echarts/chart/funnel");t("echarts/chart/scatter");t("echarts/chart/k");t("echarts/chart/radar");t("echarts/chart/chord");t("echarts/chart/force");t("echarts/chart/line");t("echarts/chart/bar");t("echarts/chart/pie")});var qa=ka("zrender");qa.tool={color:ka("zrender/tool/color"),math:ka("zrender/tool/math"),util:ka("zrender/tool/util"),vector:ka("zrender/tool/vector"),area:ka("zrender/tool/area"),event:ka("zrender/tool/event")};qa.animation={Animation:ka("zrender/animation/Animation"),
Cip:ka("zrender/animation/Clip"),easing:ka("zrender/animation/easing")};var ra=ka("echarts");ra.config=ka("echarts/config");ra.util={};ka("_chart");sa.echarts=ra;sa.zrender=qa})(window);
